function WA(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();var Jl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Eh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var N1={exports:{}},bh={},O1={exports:{}},Z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _l=Symbol.for("react.element"),qA=Symbol.for("react.portal"),GA=Symbol.for("react.fragment"),KA=Symbol.for("react.strict_mode"),QA=Symbol.for("react.profiler"),YA=Symbol.for("react.provider"),XA=Symbol.for("react.context"),JA=Symbol.for("react.forward_ref"),ZA=Symbol.for("react.suspense"),eC=Symbol.for("react.memo"),tC=Symbol.for("react.lazy"),Uy=Symbol.iterator;function nC(t){return t===null||typeof t!="object"?null:(t=Uy&&t[Uy]||t["@@iterator"],typeof t=="function"?t:null)}var D1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M1=Object.assign,L1={};function co(t,e,n){this.props=t,this.context=e,this.refs=L1,this.updater=n||D1}co.prototype.isReactComponent={};co.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};co.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function V1(){}V1.prototype=co.prototype;function Yg(t,e,n){this.props=t,this.context=e,this.refs=L1,this.updater=n||D1}var Xg=Yg.prototype=new V1;Xg.constructor=Yg;M1(Xg,co.prototype);Xg.isPureReactComponent=!0;var zy=Array.isArray,j1=Object.prototype.hasOwnProperty,Jg={current:null},$1={key:!0,ref:!0,__self:!0,__source:!0};function F1(t,e,n){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)j1.call(e,i)&&!$1.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:_l,type:t,key:s,ref:o,props:r,_owner:Jg.current}}function iC(t,e){return{$$typeof:_l,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Zg(t){return typeof t=="object"&&t!==null&&t.$$typeof===_l}function rC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Hy=/\/+/g;function Kd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?rC(""+t.key):e.toString(36)}function Uc(t,e,n,i,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case _l:case qA:o=!0}}if(o)return o=t,r=r(o),t=i===""?"."+Kd(o,0):i,zy(r)?(n="",t!=null&&(n=t.replace(Hy,"$&/")+"/"),Uc(r,e,n,"",function(c){return c})):r!=null&&(Zg(r)&&(r=iC(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(Hy,"$&/")+"/")+t)),e.push(r)),1;if(o=0,i=i===""?".":i+":",zy(t))for(var a=0;a<t.length;a++){s=t[a];var l=i+Kd(s,a);o+=Uc(s,e,n,l,r)}else if(l=nC(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=i+Kd(s,a++),o+=Uc(s,e,n,l,r);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Zl(t,e,n){if(t==null)return t;var i=[],r=0;return Uc(t,i,"","",function(s){return e.call(n,s,r++)}),i}function sC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ct={current:null},zc={transition:null},oC={ReactCurrentDispatcher:Ct,ReactCurrentBatchConfig:zc,ReactCurrentOwner:Jg};Z.Children={map:Zl,forEach:function(t,e,n){Zl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Zl(t,function(){e++}),e},toArray:function(t){return Zl(t,function(e){return e})||[]},only:function(t){if(!Zg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Z.Component=co;Z.Fragment=GA;Z.Profiler=QA;Z.PureComponent=Yg;Z.StrictMode=KA;Z.Suspense=ZA;Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oC;Z.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=M1({},t.props),r=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Jg.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)j1.call(e,l)&&!$1.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:_l,type:t.type,key:r,ref:s,props:i,_owner:o}};Z.createContext=function(t){return t={$$typeof:XA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:YA,_context:t},t.Consumer=t};Z.createElement=F1;Z.createFactory=function(t){var e=F1.bind(null,t);return e.type=t,e};Z.createRef=function(){return{current:null}};Z.forwardRef=function(t){return{$$typeof:JA,render:t}};Z.isValidElement=Zg;Z.lazy=function(t){return{$$typeof:tC,_payload:{_status:-1,_result:t},_init:sC}};Z.memo=function(t,e){return{$$typeof:eC,type:t,compare:e===void 0?null:e}};Z.startTransition=function(t){var e=zc.transition;zc.transition={};try{t()}finally{zc.transition=e}};Z.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Z.useCallback=function(t,e){return Ct.current.useCallback(t,e)};Z.useContext=function(t){return Ct.current.useContext(t)};Z.useDebugValue=function(){};Z.useDeferredValue=function(t){return Ct.current.useDeferredValue(t)};Z.useEffect=function(t,e){return Ct.current.useEffect(t,e)};Z.useId=function(){return Ct.current.useId()};Z.useImperativeHandle=function(t,e,n){return Ct.current.useImperativeHandle(t,e,n)};Z.useInsertionEffect=function(t,e){return Ct.current.useInsertionEffect(t,e)};Z.useLayoutEffect=function(t,e){return Ct.current.useLayoutEffect(t,e)};Z.useMemo=function(t,e){return Ct.current.useMemo(t,e)};Z.useReducer=function(t,e,n){return Ct.current.useReducer(t,e,n)};Z.useRef=function(t){return Ct.current.useRef(t)};Z.useState=function(t){return Ct.current.useState(t)};Z.useSyncExternalStore=function(t,e,n){return Ct.current.useSyncExternalStore(t,e,n)};Z.useTransition=function(){return Ct.current.useTransition()};Z.version="18.2.0";O1.exports=Z;var b=O1.exports;const xn=Eh(b),aC=WA({__proto__:null,default:xn},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lC=b,cC=Symbol.for("react.element"),uC=Symbol.for("react.fragment"),hC=Object.prototype.hasOwnProperty,dC=lC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,fC={key:!0,ref:!0,__self:!0,__source:!0};function B1(t,e,n){var i,r={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)hC.call(e,i)&&!fC.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:cC,type:t,key:s,ref:o,props:r,_owner:dC.current}}bh.Fragment=uC;bh.jsx=B1;bh.jsxs=B1;N1.exports=bh;var f=N1.exports,rp={},U1={exports:{}},Kt={},z1={exports:{}},H1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,F){var V=R.length;R.push(F);e:for(;0<V;){var Y=V-1>>>1,le=R[Y];if(0<r(le,F))R[Y]=F,R[V]=le,V=Y;else break e}}function n(R){return R.length===0?null:R[0]}function i(R){if(R.length===0)return null;var F=R[0],V=R.pop();if(V!==F){R[0]=V;e:for(var Y=0,le=R.length,Q=le>>>1;Y<Q;){var de=2*(Y+1)-1,Ie=R[de],hr=de+1,Xl=R[hr];if(0>r(Ie,V))hr<le&&0>r(Xl,Ie)?(R[Y]=Xl,R[hr]=V,Y=hr):(R[Y]=Ie,R[de]=V,Y=de);else if(hr<le&&0>r(Xl,V))R[Y]=Xl,R[hr]=V,Y=hr;else break e}}return F}function r(R,F){var V=R.sortIndex-F.sortIndex;return V!==0?V:R.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,d=3,p=!1,g=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(R){for(var F=n(c);F!==null;){if(F.callback===null)i(c);else if(F.startTime<=R)i(c),F.sortIndex=F.expirationTime,e(l,F);else break;F=n(c)}}function x(R){if(y=!1,v(R),!g)if(n(l)!==null)g=!0,X(E);else{var F=n(c);F!==null&&jt(x,F.startTime-R)}}function E(R,F){g=!1,y&&(y=!1,m(I),I=-1),p=!0;var V=d;try{for(v(F),h=n(l);h!==null&&(!(h.expirationTime>F)||R&&!B());){var Y=h.callback;if(typeof Y=="function"){h.callback=null,d=h.priorityLevel;var le=Y(h.expirationTime<=F);F=t.unstable_now(),typeof le=="function"?h.callback=le:h===n(l)&&i(l),v(F)}else i(l);h=n(l)}if(h!==null)var Q=!0;else{var de=n(c);de!==null&&jt(x,de.startTime-F),Q=!1}return Q}finally{h=null,d=V,p=!1}}var T=!1,S=null,I=-1,P=5,N=-1;function B(){return!(t.unstable_now()-N<P)}function W(){if(S!==null){var R=t.unstable_now();N=R;var F=!0;try{F=S(!0,R)}finally{F?oe():(T=!1,S=null)}}else T=!1}var oe;if(typeof _=="function")oe=function(){_(W)};else if(typeof MessageChannel<"u"){var _e=new MessageChannel,$=_e.port2;_e.port1.onmessage=W,oe=function(){$.postMessage(null)}}else oe=function(){w(W,0)};function X(R){S=R,T||(T=!0,oe())}function jt(R,F){I=w(function(){R(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,X(E))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(R){switch(d){case 1:case 2:case 3:var F=3;break;default:F=d}var V=d;d=F;try{return R()}finally{d=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,F){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var V=d;d=R;try{return F()}finally{d=V}},t.unstable_scheduleCallback=function(R,F,V){var Y=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?Y+V:Y):V=Y,R){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=V+le,R={id:u++,callback:F,priorityLevel:R,startTime:V,expirationTime:le,sortIndex:-1},V>Y?(R.sortIndex=V,e(c,R),n(l)===null&&R===n(c)&&(y?(m(I),I=-1):y=!0,jt(x,V-Y))):(R.sortIndex=le,e(l,R),g||p||(g=!0,X(E))),R},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(R){var F=d;return function(){var V=d;d=F;try{return R.apply(this,arguments)}finally{d=V}}}})(H1);z1.exports=H1;var pC=z1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W1=b,qt=pC;function C(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var q1=new Set,Pa={};function Xr(t,e){Ws(t,e),Ws(t+"Capture",e)}function Ws(t,e){for(Pa[t]=e,t=0;t<e.length;t++)q1.add(e[t])}var si=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sp=Object.prototype.hasOwnProperty,gC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Wy={},qy={};function mC(t){return sp.call(qy,t)?!0:sp.call(Wy,t)?!1:gC.test(t)?qy[t]=!0:(Wy[t]=!0,!1)}function _C(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function yC(t,e,n,i){if(e===null||typeof e>"u"||_C(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Pt(t,e,n,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var lt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){lt[t]=new Pt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];lt[e]=new Pt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){lt[t]=new Pt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){lt[t]=new Pt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){lt[t]=new Pt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){lt[t]=new Pt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){lt[t]=new Pt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){lt[t]=new Pt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){lt[t]=new Pt(t,5,!1,t.toLowerCase(),null,!1,!1)});var em=/[\-:]([a-z])/g;function tm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(em,tm);lt[e]=new Pt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(em,tm);lt[e]=new Pt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(em,tm);lt[e]=new Pt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){lt[t]=new Pt(t,1,!1,t.toLowerCase(),null,!1,!1)});lt.xlinkHref=new Pt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){lt[t]=new Pt(t,1,!1,t.toLowerCase(),null,!0,!0)});function nm(t,e,n,i){var r=lt.hasOwnProperty(e)?lt[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(yC(e,n,r,i)&&(n=null),i||r===null?mC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var fi=W1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ec=Symbol.for("react.element"),_s=Symbol.for("react.portal"),ys=Symbol.for("react.fragment"),im=Symbol.for("react.strict_mode"),op=Symbol.for("react.profiler"),G1=Symbol.for("react.provider"),K1=Symbol.for("react.context"),rm=Symbol.for("react.forward_ref"),ap=Symbol.for("react.suspense"),lp=Symbol.for("react.suspense_list"),sm=Symbol.for("react.memo"),wi=Symbol.for("react.lazy"),Q1=Symbol.for("react.offscreen"),Gy=Symbol.iterator;function Co(t){return t===null||typeof t!="object"?null:(t=Gy&&t[Gy]||t["@@iterator"],typeof t=="function"?t:null)}var Ce=Object.assign,Qd;function Qo(t){if(Qd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Qd=e&&e[1]||""}return`
`+Qd+t}var Yd=!1;function Xd(t,e){if(!t||Yd)return"";Yd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){i=c}t.call(e.prototype)}else{try{throw Error()}catch(c){i=c}t()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Yd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Qo(t):""}function vC(t){switch(t.tag){case 5:return Qo(t.type);case 16:return Qo("Lazy");case 13:return Qo("Suspense");case 19:return Qo("SuspenseList");case 0:case 2:case 15:return t=Xd(t.type,!1),t;case 11:return t=Xd(t.type.render,!1),t;case 1:return t=Xd(t.type,!0),t;default:return""}}function cp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ys:return"Fragment";case _s:return"Portal";case op:return"Profiler";case im:return"StrictMode";case ap:return"Suspense";case lp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case K1:return(t.displayName||"Context")+".Consumer";case G1:return(t._context.displayName||"Context")+".Provider";case rm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case sm:return e=t.displayName||null,e!==null?e:cp(t.type)||"Memo";case wi:e=t._payload,t=t._init;try{return cp(t(e))}catch{}}return null}function wC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return cp(e);case 8:return e===im?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ki(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Y1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function xC(t){var e=Y1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function tc(t){t._valueTracker||(t._valueTracker=xC(t))}function X1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=Y1(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function cu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function up(t,e){var n=e.checked;return Ce({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ky(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=Ki(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function J1(t,e){e=e.checked,e!=null&&nm(t,"checked",e,!1)}function hp(t,e){J1(t,e);var n=Ki(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?dp(t,e.type,n):e.hasOwnProperty("defaultValue")&&dp(t,e.type,Ki(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Qy(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function dp(t,e,n){(e!=="number"||cu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Yo=Array.isArray;function Ns(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Ki(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function fp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(C(91));return Ce({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Yy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(C(92));if(Yo(n)){if(1<n.length)throw Error(C(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ki(n)}}function Z1(t,e){var n=Ki(e.value),i=Ki(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function Xy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function eE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?eE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var nc,tE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(nc=nc||document.createElement("div"),nc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=nc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ra(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ca={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},EC=["Webkit","ms","Moz","O"];Object.keys(ca).forEach(function(t){EC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ca[e]=ca[t]})});function nE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ca.hasOwnProperty(t)&&ca[t]?(""+e).trim():e+"px"}function iE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=nE(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var bC=Ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gp(t,e){if(e){if(bC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(C(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(C(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(C(61))}if(e.style!=null&&typeof e.style!="object")throw Error(C(62))}}function mp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _p=null;function om(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var yp=null,Os=null,Ds=null;function Jy(t){if(t=wl(t)){if(typeof yp!="function")throw Error(C(280));var e=t.stateNode;e&&(e=Ah(e),yp(t.stateNode,t.type,e))}}function rE(t){Os?Ds?Ds.push(t):Ds=[t]:Os=t}function sE(){if(Os){var t=Os,e=Ds;if(Ds=Os=null,Jy(t),e)for(t=0;t<e.length;t++)Jy(e[t])}}function oE(t,e){return t(e)}function aE(){}var Jd=!1;function lE(t,e,n){if(Jd)return t(e,n);Jd=!0;try{return oE(t,e,n)}finally{Jd=!1,(Os!==null||Ds!==null)&&(aE(),sE())}}function Na(t,e){var n=t.stateNode;if(n===null)return null;var i=Ah(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(C(231,e,typeof n));return n}var vp=!1;if(si)try{var Po={};Object.defineProperty(Po,"passive",{get:function(){vp=!0}}),window.addEventListener("test",Po,Po),window.removeEventListener("test",Po,Po)}catch{vp=!1}function TC(t,e,n,i,r,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var ua=!1,uu=null,hu=!1,wp=null,SC={onError:function(t){ua=!0,uu=t}};function IC(t,e,n,i,r,s,o,a,l){ua=!1,uu=null,TC.apply(SC,arguments)}function kC(t,e,n,i,r,s,o,a,l){if(IC.apply(this,arguments),ua){if(ua){var c=uu;ua=!1,uu=null}else throw Error(C(198));hu||(hu=!0,wp=c)}}function Jr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function cE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Zy(t){if(Jr(t)!==t)throw Error(C(188))}function AC(t){var e=t.alternate;if(!e){if(e=Jr(t),e===null)throw Error(C(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return Zy(r),t;if(s===i)return Zy(r),e;s=s.sibling}throw Error(C(188))}if(n.return!==i.return)n=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===n){o=!0,n=r,i=s;break}if(a===i){o=!0,i=r,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,i=r;break}if(a===i){o=!0,i=s,n=r;break}a=a.sibling}if(!o)throw Error(C(189))}}if(n.alternate!==i)throw Error(C(190))}if(n.tag!==3)throw Error(C(188));return n.stateNode.current===n?t:e}function uE(t){return t=AC(t),t!==null?hE(t):null}function hE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=hE(t);if(e!==null)return e;t=t.sibling}return null}var dE=qt.unstable_scheduleCallback,ev=qt.unstable_cancelCallback,CC=qt.unstable_shouldYield,PC=qt.unstable_requestPaint,Ve=qt.unstable_now,RC=qt.unstable_getCurrentPriorityLevel,am=qt.unstable_ImmediatePriority,fE=qt.unstable_UserBlockingPriority,du=qt.unstable_NormalPriority,NC=qt.unstable_LowPriority,pE=qt.unstable_IdlePriority,Th=null,Rn=null;function OC(t){if(Rn&&typeof Rn.onCommitFiberRoot=="function")try{Rn.onCommitFiberRoot(Th,t,void 0,(t.current.flags&128)===128)}catch{}}var mn=Math.clz32?Math.clz32:LC,DC=Math.log,MC=Math.LN2;function LC(t){return t>>>=0,t===0?32:31-(DC(t)/MC|0)|0}var ic=64,rc=4194304;function Xo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function fu(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~r;a!==0?i=Xo(a):(s&=o,s!==0&&(i=Xo(s)))}else o=n&~r,o!==0?i=Xo(o):s!==0&&(i=Xo(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-mn(e),r=1<<n,i|=t[n],e&=~r;return i}function VC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jC(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-mn(s),a=1<<o,l=r[o];l===-1?(!(a&n)||a&i)&&(r[o]=VC(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function xp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function gE(){var t=ic;return ic<<=1,!(ic&4194240)&&(ic=64),t}function Zd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function yl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-mn(e),t[e]=n}function $C(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-mn(n),s=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~s}}function lm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-mn(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var ue=0;function mE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var _E,cm,yE,vE,wE,Ep=!1,sc=[],Di=null,Mi=null,Li=null,Oa=new Map,Da=new Map,Ei=[],FC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tv(t,e){switch(t){case"focusin":case"focusout":Di=null;break;case"dragenter":case"dragleave":Mi=null;break;case"mouseover":case"mouseout":Li=null;break;case"pointerover":case"pointerout":Oa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Da.delete(e.pointerId)}}function Ro(t,e,n,i,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=wl(e),e!==null&&cm(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function BC(t,e,n,i,r){switch(e){case"focusin":return Di=Ro(Di,t,e,n,i,r),!0;case"dragenter":return Mi=Ro(Mi,t,e,n,i,r),!0;case"mouseover":return Li=Ro(Li,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return Oa.set(s,Ro(Oa.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Da.set(s,Ro(Da.get(s)||null,t,e,n,i,r)),!0}return!1}function xE(t){var e=wr(t.target);if(e!==null){var n=Jr(e);if(n!==null){if(e=n.tag,e===13){if(e=cE(n),e!==null){t.blockedOn=e,wE(t.priority,function(){yE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Hc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=bp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);_p=i,n.target.dispatchEvent(i),_p=null}else return e=wl(n),e!==null&&cm(e),t.blockedOn=n,!1;e.shift()}return!0}function nv(t,e,n){Hc(t)&&n.delete(e)}function UC(){Ep=!1,Di!==null&&Hc(Di)&&(Di=null),Mi!==null&&Hc(Mi)&&(Mi=null),Li!==null&&Hc(Li)&&(Li=null),Oa.forEach(nv),Da.forEach(nv)}function No(t,e){t.blockedOn===e&&(t.blockedOn=null,Ep||(Ep=!0,qt.unstable_scheduleCallback(qt.unstable_NormalPriority,UC)))}function Ma(t){function e(r){return No(r,t)}if(0<sc.length){No(sc[0],t);for(var n=1;n<sc.length;n++){var i=sc[n];i.blockedOn===t&&(i.blockedOn=null)}}for(Di!==null&&No(Di,t),Mi!==null&&No(Mi,t),Li!==null&&No(Li,t),Oa.forEach(e),Da.forEach(e),n=0;n<Ei.length;n++)i=Ei[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<Ei.length&&(n=Ei[0],n.blockedOn===null);)xE(n),n.blockedOn===null&&Ei.shift()}var Ms=fi.ReactCurrentBatchConfig,pu=!0;function zC(t,e,n,i){var r=ue,s=Ms.transition;Ms.transition=null;try{ue=1,um(t,e,n,i)}finally{ue=r,Ms.transition=s}}function HC(t,e,n,i){var r=ue,s=Ms.transition;Ms.transition=null;try{ue=4,um(t,e,n,i)}finally{ue=r,Ms.transition=s}}function um(t,e,n,i){if(pu){var r=bp(t,e,n,i);if(r===null)uf(t,e,i,gu,n),tv(t,i);else if(BC(r,t,e,n,i))i.stopPropagation();else if(tv(t,i),e&4&&-1<FC.indexOf(t)){for(;r!==null;){var s=wl(r);if(s!==null&&_E(s),s=bp(t,e,n,i),s===null&&uf(t,e,i,gu,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else uf(t,e,i,null,n)}}var gu=null;function bp(t,e,n,i){if(gu=null,t=om(i),t=wr(t),t!==null)if(e=Jr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=cE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return gu=t,null}function EE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(RC()){case am:return 1;case fE:return 4;case du:case NC:return 16;case pE:return 536870912;default:return 16}default:return 16}}var Ci=null,hm=null,Wc=null;function bE(){if(Wc)return Wc;var t,e=hm,n=e.length,i,r="value"in Ci?Ci.value:Ci.textContent,s=r.length;for(t=0;t<n&&e[t]===r[t];t++);var o=n-t;for(i=1;i<=o&&e[n-i]===r[s-i];i++);return Wc=r.slice(t,1<i?1-i:void 0)}function qc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function oc(){return!0}function iv(){return!1}function Qt(t){function e(n,i,r,s,o){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?oc:iv,this.isPropagationStopped=iv,this}return Ce(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=oc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=oc)},persist:function(){},isPersistent:oc}),e}var uo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dm=Qt(uo),vl=Ce({},uo,{view:0,detail:0}),WC=Qt(vl),ef,tf,Oo,Sh=Ce({},vl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Oo&&(Oo&&t.type==="mousemove"?(ef=t.screenX-Oo.screenX,tf=t.screenY-Oo.screenY):tf=ef=0,Oo=t),ef)},movementY:function(t){return"movementY"in t?t.movementY:tf}}),rv=Qt(Sh),qC=Ce({},Sh,{dataTransfer:0}),GC=Qt(qC),KC=Ce({},vl,{relatedTarget:0}),nf=Qt(KC),QC=Ce({},uo,{animationName:0,elapsedTime:0,pseudoElement:0}),YC=Qt(QC),XC=Ce({},uo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),JC=Qt(XC),ZC=Ce({},uo,{data:0}),sv=Qt(ZC),eP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iP(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=nP[t])?!!e[t]:!1}function fm(){return iP}var rP=Ce({},vl,{key:function(t){if(t.key){var e=eP[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=qc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?tP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fm,charCode:function(t){return t.type==="keypress"?qc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),sP=Qt(rP),oP=Ce({},Sh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ov=Qt(oP),aP=Ce({},vl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fm}),lP=Qt(aP),cP=Ce({},uo,{propertyName:0,elapsedTime:0,pseudoElement:0}),uP=Qt(cP),hP=Ce({},Sh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),dP=Qt(hP),fP=[9,13,27,32],pm=si&&"CompositionEvent"in window,ha=null;si&&"documentMode"in document&&(ha=document.documentMode);var pP=si&&"TextEvent"in window&&!ha,TE=si&&(!pm||ha&&8<ha&&11>=ha),av=String.fromCharCode(32),lv=!1;function SE(t,e){switch(t){case"keyup":return fP.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function IE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var vs=!1;function gP(t,e){switch(t){case"compositionend":return IE(e);case"keypress":return e.which!==32?null:(lv=!0,av);case"textInput":return t=e.data,t===av&&lv?null:t;default:return null}}function mP(t,e){if(vs)return t==="compositionend"||!pm&&SE(t,e)?(t=bE(),Wc=hm=Ci=null,vs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return TE&&e.locale!=="ko"?null:e.data;default:return null}}var _P={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!_P[t.type]:e==="textarea"}function kE(t,e,n,i){rE(i),e=mu(e,"onChange"),0<e.length&&(n=new dm("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var da=null,La=null;function yP(t){jE(t,0)}function Ih(t){var e=Es(t);if(X1(e))return t}function vP(t,e){if(t==="change")return e}var AE=!1;if(si){var rf;if(si){var sf="oninput"in document;if(!sf){var uv=document.createElement("div");uv.setAttribute("oninput","return;"),sf=typeof uv.oninput=="function"}rf=sf}else rf=!1;AE=rf&&(!document.documentMode||9<document.documentMode)}function hv(){da&&(da.detachEvent("onpropertychange",CE),La=da=null)}function CE(t){if(t.propertyName==="value"&&Ih(La)){var e=[];kE(e,La,t,om(t)),lE(yP,e)}}function wP(t,e,n){t==="focusin"?(hv(),da=e,La=n,da.attachEvent("onpropertychange",CE)):t==="focusout"&&hv()}function xP(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ih(La)}function EP(t,e){if(t==="click")return Ih(e)}function bP(t,e){if(t==="input"||t==="change")return Ih(e)}function TP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var yn=typeof Object.is=="function"?Object.is:TP;function Va(t,e){if(yn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!sp.call(e,r)||!yn(t[r],e[r]))return!1}return!0}function dv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function fv(t,e){var n=dv(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=dv(n)}}function PE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?PE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function RE(){for(var t=window,e=cu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=cu(t.document)}return e}function gm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function SP(t){var e=RE(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&PE(n.ownerDocument.documentElement,n)){if(i!==null&&gm(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!t.extend&&s>i&&(r=i,i=s,s=r),r=fv(n,s);var o=fv(n,i);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),s>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var IP=si&&"documentMode"in document&&11>=document.documentMode,ws=null,Tp=null,fa=null,Sp=!1;function pv(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Sp||ws==null||ws!==cu(i)||(i=ws,"selectionStart"in i&&gm(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),fa&&Va(fa,i)||(fa=i,i=mu(Tp,"onSelect"),0<i.length&&(e=new dm("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=ws)))}function ac(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var xs={animationend:ac("Animation","AnimationEnd"),animationiteration:ac("Animation","AnimationIteration"),animationstart:ac("Animation","AnimationStart"),transitionend:ac("Transition","TransitionEnd")},of={},NE={};si&&(NE=document.createElement("div").style,"AnimationEvent"in window||(delete xs.animationend.animation,delete xs.animationiteration.animation,delete xs.animationstart.animation),"TransitionEvent"in window||delete xs.transitionend.transition);function kh(t){if(of[t])return of[t];if(!xs[t])return t;var e=xs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in NE)return of[t]=e[n];return t}var OE=kh("animationend"),DE=kh("animationiteration"),ME=kh("animationstart"),LE=kh("transitionend"),VE=new Map,gv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nr(t,e){VE.set(t,e),Xr(e,[t])}for(var af=0;af<gv.length;af++){var lf=gv[af],kP=lf.toLowerCase(),AP=lf[0].toUpperCase()+lf.slice(1);nr(kP,"on"+AP)}nr(OE,"onAnimationEnd");nr(DE,"onAnimationIteration");nr(ME,"onAnimationStart");nr("dblclick","onDoubleClick");nr("focusin","onFocus");nr("focusout","onBlur");nr(LE,"onTransitionEnd");Ws("onMouseEnter",["mouseout","mouseover"]);Ws("onMouseLeave",["mouseout","mouseover"]);Ws("onPointerEnter",["pointerout","pointerover"]);Ws("onPointerLeave",["pointerout","pointerover"]);Xr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CP=new Set("cancel close invalid load scroll toggle".split(" ").concat(Jo));function mv(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,kC(i,e,void 0,t),t.currentTarget=null}function jE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;mv(r,a,c),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;mv(r,a,c),s=l}}}if(hu)throw t=wp,hu=!1,wp=null,t}function ye(t,e){var n=e[Pp];n===void 0&&(n=e[Pp]=new Set);var i=t+"__bubble";n.has(i)||($E(e,t,2,!1),n.add(i))}function cf(t,e,n){var i=0;e&&(i|=4),$E(n,t,i,e)}var lc="_reactListening"+Math.random().toString(36).slice(2);function ja(t){if(!t[lc]){t[lc]=!0,q1.forEach(function(n){n!=="selectionchange"&&(CP.has(n)||cf(n,!1,t),cf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[lc]||(e[lc]=!0,cf("selectionchange",!1,e))}}function $E(t,e,n,i){switch(EE(e)){case 1:var r=zC;break;case 4:r=HC;break;default:r=um}n=r.bind(null,e,n,t),r=void 0,!vp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function uf(t,e,n,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=wr(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}lE(function(){var c=s,u=om(n),h=[];e:{var d=VE.get(t);if(d!==void 0){var p=dm,g=t;switch(t){case"keypress":if(qc(n)===0)break e;case"keydown":case"keyup":p=sP;break;case"focusin":g="focus",p=nf;break;case"focusout":g="blur",p=nf;break;case"beforeblur":case"afterblur":p=nf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=rv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=GC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=lP;break;case OE:case DE:case ME:p=YC;break;case LE:p=uP;break;case"scroll":p=WC;break;case"wheel":p=dP;break;case"copy":case"cut":case"paste":p=JC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=ov}var y=(e&4)!==0,w=!y&&t==="scroll",m=y?d!==null?d+"Capture":null:d;y=[];for(var _=c,v;_!==null;){v=_;var x=v.stateNode;if(v.tag===5&&x!==null&&(v=x,m!==null&&(x=Na(_,m),x!=null&&y.push($a(_,x,v)))),w)break;_=_.return}0<y.length&&(d=new p(d,g,null,n,u),h.push({event:d,listeners:y}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&n!==_p&&(g=n.relatedTarget||n.fromElement)&&(wr(g)||g[oi]))break e;if((p||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=c,g=g?wr(g):null,g!==null&&(w=Jr(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(y=rv,x="onMouseLeave",m="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(y=ov,x="onPointerLeave",m="onPointerEnter",_="pointer"),w=p==null?d:Es(p),v=g==null?d:Es(g),d=new y(x,_+"leave",p,n,u),d.target=w,d.relatedTarget=v,x=null,wr(u)===c&&(y=new y(m,_+"enter",g,n,u),y.target=v,y.relatedTarget=w,x=y),w=x,p&&g)t:{for(y=p,m=g,_=0,v=y;v;v=hs(v))_++;for(v=0,x=m;x;x=hs(x))v++;for(;0<_-v;)y=hs(y),_--;for(;0<v-_;)m=hs(m),v--;for(;_--;){if(y===m||m!==null&&y===m.alternate)break t;y=hs(y),m=hs(m)}y=null}else y=null;p!==null&&_v(h,d,p,y,!1),g!==null&&w!==null&&_v(h,w,g,y,!0)}}e:{if(d=c?Es(c):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var E=vP;else if(cv(d))if(AE)E=bP;else{E=xP;var T=wP}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(E=EP);if(E&&(E=E(t,c))){kE(h,E,n,u);break e}T&&T(t,d,c),t==="focusout"&&(T=d._wrapperState)&&T.controlled&&d.type==="number"&&dp(d,"number",d.value)}switch(T=c?Es(c):window,t){case"focusin":(cv(T)||T.contentEditable==="true")&&(ws=T,Tp=c,fa=null);break;case"focusout":fa=Tp=ws=null;break;case"mousedown":Sp=!0;break;case"contextmenu":case"mouseup":case"dragend":Sp=!1,pv(h,n,u);break;case"selectionchange":if(IP)break;case"keydown":case"keyup":pv(h,n,u)}var S;if(pm)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else vs?SE(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(TE&&n.locale!=="ko"&&(vs||I!=="onCompositionStart"?I==="onCompositionEnd"&&vs&&(S=bE()):(Ci=u,hm="value"in Ci?Ci.value:Ci.textContent,vs=!0)),T=mu(c,I),0<T.length&&(I=new sv(I,t,null,n,u),h.push({event:I,listeners:T}),S?I.data=S:(S=IE(n),S!==null&&(I.data=S)))),(S=pP?gP(t,n):mP(t,n))&&(c=mu(c,"onBeforeInput"),0<c.length&&(u=new sv("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:c}),u.data=S))}jE(h,e)})}function $a(t,e,n){return{instance:t,listener:e,currentTarget:n}}function mu(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=Na(t,n),s!=null&&i.unshift($a(t,s,r)),s=Na(t,e),s!=null&&i.push($a(t,s,r))),t=t.return}return i}function hs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function _v(t,e,n,i,r){for(var s=e._reactName,o=[];n!==null&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,r?(l=Na(n,s),l!=null&&o.unshift($a(n,l,a))):r||(l=Na(n,s),l!=null&&o.push($a(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var PP=/\r\n?/g,RP=/\u0000|\uFFFD/g;function yv(t){return(typeof t=="string"?t:""+t).replace(PP,`
`).replace(RP,"")}function cc(t,e,n){if(e=yv(e),yv(t)!==e&&n)throw Error(C(425))}function _u(){}var Ip=null,kp=null;function Ap(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Cp=typeof setTimeout=="function"?setTimeout:void 0,NP=typeof clearTimeout=="function"?clearTimeout:void 0,vv=typeof Promise=="function"?Promise:void 0,OP=typeof queueMicrotask=="function"?queueMicrotask:typeof vv<"u"?function(t){return vv.resolve(null).then(t).catch(DP)}:Cp;function DP(t){setTimeout(function(){throw t})}function hf(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),Ma(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);Ma(e)}function Vi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function wv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ho=Math.random().toString(36).slice(2),In="__reactFiber$"+ho,Fa="__reactProps$"+ho,oi="__reactContainer$"+ho,Pp="__reactEvents$"+ho,MP="__reactListeners$"+ho,LP="__reactHandles$"+ho;function wr(t){var e=t[In];if(e)return e;for(var n=t.parentNode;n;){if(e=n[oi]||n[In]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=wv(t);t!==null;){if(n=t[In])return n;t=wv(t)}return e}t=n,n=t.parentNode}return null}function wl(t){return t=t[In]||t[oi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Es(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(C(33))}function Ah(t){return t[Fa]||null}var Rp=[],bs=-1;function ir(t){return{current:t}}function xe(t){0>bs||(t.current=Rp[bs],Rp[bs]=null,bs--)}function ge(t,e){bs++,Rp[bs]=t.current,t.current=e}var Qi={},vt=ir(Qi),Mt=ir(!1),Dr=Qi;function qs(t,e){var n=t.type.contextTypes;if(!n)return Qi;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in n)r[s]=e[s];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function Lt(t){return t=t.childContextTypes,t!=null}function yu(){xe(Mt),xe(vt)}function xv(t,e,n){if(vt.current!==Qi)throw Error(C(168));ge(vt,e),ge(Mt,n)}function FE(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(C(108,wC(t)||"Unknown",r));return Ce({},n,i)}function vu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Qi,Dr=vt.current,ge(vt,t),ge(Mt,Mt.current),!0}function Ev(t,e,n){var i=t.stateNode;if(!i)throw Error(C(169));n?(t=FE(t,e,Dr),i.__reactInternalMemoizedMergedChildContext=t,xe(Mt),xe(vt),ge(vt,t)):xe(Mt),ge(Mt,n)}var Qn=null,Ch=!1,df=!1;function BE(t){Qn===null?Qn=[t]:Qn.push(t)}function VP(t){Ch=!0,BE(t)}function rr(){if(!df&&Qn!==null){df=!0;var t=0,e=ue;try{var n=Qn;for(ue=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}Qn=null,Ch=!1}catch(r){throw Qn!==null&&(Qn=Qn.slice(t+1)),dE(am,rr),r}finally{ue=e,df=!1}}return null}var Ts=[],Ss=0,wu=null,xu=0,Jt=[],Zt=0,Mr=null,Yn=1,Xn="";function pr(t,e){Ts[Ss++]=xu,Ts[Ss++]=wu,wu=t,xu=e}function UE(t,e,n){Jt[Zt++]=Yn,Jt[Zt++]=Xn,Jt[Zt++]=Mr,Mr=t;var i=Yn;t=Xn;var r=32-mn(i)-1;i&=~(1<<r),n+=1;var s=32-mn(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,Yn=1<<32-mn(e)+r|n<<r|i,Xn=s+t}else Yn=1<<s|n<<r|i,Xn=t}function mm(t){t.return!==null&&(pr(t,1),UE(t,1,0))}function _m(t){for(;t===wu;)wu=Ts[--Ss],Ts[Ss]=null,xu=Ts[--Ss],Ts[Ss]=null;for(;t===Mr;)Mr=Jt[--Zt],Jt[Zt]=null,Xn=Jt[--Zt],Jt[Zt]=null,Yn=Jt[--Zt],Jt[Zt]=null}var Ht=null,Ut=null,be=!1,pn=null;function zE(t,e){var n=nn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function bv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ht=t,Ut=Vi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ht=t,Ut=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Mr!==null?{id:Yn,overflow:Xn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=nn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ht=t,Ut=null,!0):!1;default:return!1}}function Np(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Op(t){if(be){var e=Ut;if(e){var n=e;if(!bv(t,e)){if(Np(t))throw Error(C(418));e=Vi(n.nextSibling);var i=Ht;e&&bv(t,e)?zE(i,n):(t.flags=t.flags&-4097|2,be=!1,Ht=t)}}else{if(Np(t))throw Error(C(418));t.flags=t.flags&-4097|2,be=!1,Ht=t}}}function Tv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ht=t}function uc(t){if(t!==Ht)return!1;if(!be)return Tv(t),be=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ap(t.type,t.memoizedProps)),e&&(e=Ut)){if(Np(t))throw HE(),Error(C(418));for(;e;)zE(t,e),e=Vi(e.nextSibling)}if(Tv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(C(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ut=Vi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ut=null}}else Ut=Ht?Vi(t.stateNode.nextSibling):null;return!0}function HE(){for(var t=Ut;t;)t=Vi(t.nextSibling)}function Gs(){Ut=Ht=null,be=!1}function ym(t){pn===null?pn=[t]:pn.push(t)}var jP=fi.ReactCurrentBatchConfig;function hn(t,e){if(t&&t.defaultProps){e=Ce({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Eu=ir(null),bu=null,Is=null,vm=null;function wm(){vm=Is=bu=null}function xm(t){var e=Eu.current;xe(Eu),t._currentValue=e}function Dp(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Ls(t,e){bu=t,vm=Is=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Dt=!0),t.firstContext=null)}function on(t){var e=t._currentValue;if(vm!==t)if(t={context:t,memoizedValue:e,next:null},Is===null){if(bu===null)throw Error(C(308));Is=t,bu.dependencies={lanes:0,firstContext:t}}else Is=Is.next=t;return e}var xr=null;function Em(t){xr===null?xr=[t]:xr.push(t)}function WE(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,Em(e)):(n.next=r.next,r.next=n),e.interleaved=n,ai(t,i)}function ai(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var xi=!1;function bm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ri(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ji(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,re&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,ai(t,n)}return r=i.interleaved,r===null?(e.next=e,Em(i)):(e.next=r.next,r.next=e),i.interleaved=e,ai(t,n)}function Gc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,lm(t,n)}}function Sv(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?r=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?r=s=e:s=s.next=e}else r=s=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Tu(t,e,n,i){var r=t.updateQueue;xi=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var h=r.baseState;o=0,u=c=l=null,a=s;do{var d=a.lane,p=a.eventTime;if((i&d)===d){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,y=a;switch(d=e,p=n,y.tag){case 1:if(g=y.payload,typeof g=="function"){h=g.call(p,h,d);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,d=typeof g=="function"?g.call(p,h,d):g,d==null)break e;h=Ce({},h,d);break e;case 2:xi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=r.effects,d===null?r.effects=[a]:d.push(a))}else p={eventTime:p,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=h):u=u.next=p,o|=d;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;d=a,a=d.next,d.next=null,r.lastBaseUpdate=d,r.shared.pending=null}}while(1);if(u===null&&(l=h),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);Vr|=o,t.lanes=o,t.memoizedState=h}}function Iv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(C(191,r));r.call(i)}}}var GE=new W1.Component().refs;function Mp(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Ce({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ph={isMounted:function(t){return(t=t._reactInternals)?Jr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=kt(),r=Fi(t),s=ri(i,r);s.payload=e,n!=null&&(s.callback=n),e=ji(t,s,r),e!==null&&(_n(e,t,r,i),Gc(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=kt(),r=Fi(t),s=ri(i,r);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ji(t,s,r),e!==null&&(_n(e,t,r,i),Gc(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=kt(),i=Fi(t),r=ri(n,i);r.tag=2,e!=null&&(r.callback=e),e=ji(t,r,i),e!==null&&(_n(e,t,i,n),Gc(e,t,i))}};function kv(t,e,n,i,r,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!Va(n,i)||!Va(r,s):!0}function KE(t,e,n){var i=!1,r=Qi,s=e.contextType;return typeof s=="object"&&s!==null?s=on(s):(r=Lt(e)?Dr:vt.current,i=e.contextTypes,s=(i=i!=null)?qs(t,r):Qi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ph,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function Av(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Ph.enqueueReplaceState(e,e.state,null)}function Lp(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs=GE,bm(t);var s=e.contextType;typeof s=="object"&&s!==null?r.context=on(s):(s=Lt(e)?Dr:vt.current,r.context=qs(t,s)),r.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Mp(t,e,s,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Ph.enqueueReplaceState(r,r.state,null),Tu(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function Do(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(C(309));var i=n.stateNode}if(!i)throw Error(C(147,t));var r=i,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;a===GE&&(a=r.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(C(284));if(!n._owner)throw Error(C(290,t))}return t}function hc(t,e){throw t=Object.prototype.toString.call(e),Error(C(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Cv(t){var e=t._init;return e(t._payload)}function QE(t){function e(m,_){if(t){var v=m.deletions;v===null?(m.deletions=[_],m.flags|=16):v.push(_)}}function n(m,_){if(!t)return null;for(;_!==null;)e(m,_),_=_.sibling;return null}function i(m,_){for(m=new Map;_!==null;)_.key!==null?m.set(_.key,_):m.set(_.index,_),_=_.sibling;return m}function r(m,_){return m=Bi(m,_),m.index=0,m.sibling=null,m}function s(m,_,v){return m.index=v,t?(v=m.alternate,v!==null?(v=v.index,v<_?(m.flags|=2,_):v):(m.flags|=2,_)):(m.flags|=1048576,_)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,_,v,x){return _===null||_.tag!==6?(_=vf(v,m.mode,x),_.return=m,_):(_=r(_,v),_.return=m,_)}function l(m,_,v,x){var E=v.type;return E===ys?u(m,_,v.props.children,x,v.key):_!==null&&(_.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===wi&&Cv(E)===_.type)?(x=r(_,v.props),x.ref=Do(m,_,v),x.return=m,x):(x=Zc(v.type,v.key,v.props,null,m.mode,x),x.ref=Do(m,_,v),x.return=m,x)}function c(m,_,v,x){return _===null||_.tag!==4||_.stateNode.containerInfo!==v.containerInfo||_.stateNode.implementation!==v.implementation?(_=wf(v,m.mode,x),_.return=m,_):(_=r(_,v.children||[]),_.return=m,_)}function u(m,_,v,x,E){return _===null||_.tag!==7?(_=Cr(v,m.mode,x,E),_.return=m,_):(_=r(_,v),_.return=m,_)}function h(m,_,v){if(typeof _=="string"&&_!==""||typeof _=="number")return _=vf(""+_,m.mode,v),_.return=m,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ec:return v=Zc(_.type,_.key,_.props,null,m.mode,v),v.ref=Do(m,null,_),v.return=m,v;case _s:return _=wf(_,m.mode,v),_.return=m,_;case wi:var x=_._init;return h(m,x(_._payload),v)}if(Yo(_)||Co(_))return _=Cr(_,m.mode,v,null),_.return=m,_;hc(m,_)}return null}function d(m,_,v,x){var E=_!==null?_.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return E!==null?null:a(m,_,""+v,x);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ec:return v.key===E?l(m,_,v,x):null;case _s:return v.key===E?c(m,_,v,x):null;case wi:return E=v._init,d(m,_,E(v._payload),x)}if(Yo(v)||Co(v))return E!==null?null:u(m,_,v,x,null);hc(m,v)}return null}function p(m,_,v,x,E){if(typeof x=="string"&&x!==""||typeof x=="number")return m=m.get(v)||null,a(_,m,""+x,E);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ec:return m=m.get(x.key===null?v:x.key)||null,l(_,m,x,E);case _s:return m=m.get(x.key===null?v:x.key)||null,c(_,m,x,E);case wi:var T=x._init;return p(m,_,v,T(x._payload),E)}if(Yo(x)||Co(x))return m=m.get(v)||null,u(_,m,x,E,null);hc(_,x)}return null}function g(m,_,v,x){for(var E=null,T=null,S=_,I=_=0,P=null;S!==null&&I<v.length;I++){S.index>I?(P=S,S=null):P=S.sibling;var N=d(m,S,v[I],x);if(N===null){S===null&&(S=P);break}t&&S&&N.alternate===null&&e(m,S),_=s(N,_,I),T===null?E=N:T.sibling=N,T=N,S=P}if(I===v.length)return n(m,S),be&&pr(m,I),E;if(S===null){for(;I<v.length;I++)S=h(m,v[I],x),S!==null&&(_=s(S,_,I),T===null?E=S:T.sibling=S,T=S);return be&&pr(m,I),E}for(S=i(m,S);I<v.length;I++)P=p(S,m,I,v[I],x),P!==null&&(t&&P.alternate!==null&&S.delete(P.key===null?I:P.key),_=s(P,_,I),T===null?E=P:T.sibling=P,T=P);return t&&S.forEach(function(B){return e(m,B)}),be&&pr(m,I),E}function y(m,_,v,x){var E=Co(v);if(typeof E!="function")throw Error(C(150));if(v=E.call(v),v==null)throw Error(C(151));for(var T=E=null,S=_,I=_=0,P=null,N=v.next();S!==null&&!N.done;I++,N=v.next()){S.index>I?(P=S,S=null):P=S.sibling;var B=d(m,S,N.value,x);if(B===null){S===null&&(S=P);break}t&&S&&B.alternate===null&&e(m,S),_=s(B,_,I),T===null?E=B:T.sibling=B,T=B,S=P}if(N.done)return n(m,S),be&&pr(m,I),E;if(S===null){for(;!N.done;I++,N=v.next())N=h(m,N.value,x),N!==null&&(_=s(N,_,I),T===null?E=N:T.sibling=N,T=N);return be&&pr(m,I),E}for(S=i(m,S);!N.done;I++,N=v.next())N=p(S,m,I,N.value,x),N!==null&&(t&&N.alternate!==null&&S.delete(N.key===null?I:N.key),_=s(N,_,I),T===null?E=N:T.sibling=N,T=N);return t&&S.forEach(function(W){return e(m,W)}),be&&pr(m,I),E}function w(m,_,v,x){if(typeof v=="object"&&v!==null&&v.type===ys&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case ec:e:{for(var E=v.key,T=_;T!==null;){if(T.key===E){if(E=v.type,E===ys){if(T.tag===7){n(m,T.sibling),_=r(T,v.props.children),_.return=m,m=_;break e}}else if(T.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===wi&&Cv(E)===T.type){n(m,T.sibling),_=r(T,v.props),_.ref=Do(m,T,v),_.return=m,m=_;break e}n(m,T);break}else e(m,T);T=T.sibling}v.type===ys?(_=Cr(v.props.children,m.mode,x,v.key),_.return=m,m=_):(x=Zc(v.type,v.key,v.props,null,m.mode,x),x.ref=Do(m,_,v),x.return=m,m=x)}return o(m);case _s:e:{for(T=v.key;_!==null;){if(_.key===T)if(_.tag===4&&_.stateNode.containerInfo===v.containerInfo&&_.stateNode.implementation===v.implementation){n(m,_.sibling),_=r(_,v.children||[]),_.return=m,m=_;break e}else{n(m,_);break}else e(m,_);_=_.sibling}_=wf(v,m.mode,x),_.return=m,m=_}return o(m);case wi:return T=v._init,w(m,_,T(v._payload),x)}if(Yo(v))return g(m,_,v,x);if(Co(v))return y(m,_,v,x);hc(m,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,_!==null&&_.tag===6?(n(m,_.sibling),_=r(_,v),_.return=m,m=_):(n(m,_),_=vf(v,m.mode,x),_.return=m,m=_),o(m)):n(m,_)}return w}var Ks=QE(!0),YE=QE(!1),xl={},Nn=ir(xl),Ba=ir(xl),Ua=ir(xl);function Er(t){if(t===xl)throw Error(C(174));return t}function Tm(t,e){switch(ge(Ua,e),ge(Ba,t),ge(Nn,xl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:pp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=pp(e,t)}xe(Nn),ge(Nn,e)}function Qs(){xe(Nn),xe(Ba),xe(Ua)}function XE(t){Er(Ua.current);var e=Er(Nn.current),n=pp(e,t.type);e!==n&&(ge(Ba,t),ge(Nn,n))}function Sm(t){Ba.current===t&&(xe(Nn),xe(Ba))}var ke=ir(0);function Su(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ff=[];function Im(){for(var t=0;t<ff.length;t++)ff[t]._workInProgressVersionPrimary=null;ff.length=0}var Kc=fi.ReactCurrentDispatcher,pf=fi.ReactCurrentBatchConfig,Lr=0,Ae=null,ze=null,Qe=null,Iu=!1,pa=!1,za=0,$P=0;function ct(){throw Error(C(321))}function km(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!yn(t[n],e[n]))return!1;return!0}function Am(t,e,n,i,r,s){if(Lr=s,Ae=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Kc.current=t===null||t.memoizedState===null?zP:HP,t=n(i,r),pa){s=0;do{if(pa=!1,za=0,25<=s)throw Error(C(301));s+=1,Qe=ze=null,e.updateQueue=null,Kc.current=WP,t=n(i,r)}while(pa)}if(Kc.current=ku,e=ze!==null&&ze.next!==null,Lr=0,Qe=ze=Ae=null,Iu=!1,e)throw Error(C(300));return t}function Cm(){var t=za!==0;return za=0,t}function Sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?Ae.memoizedState=Qe=t:Qe=Qe.next=t,Qe}function an(){if(ze===null){var t=Ae.alternate;t=t!==null?t.memoizedState:null}else t=ze.next;var e=Qe===null?Ae.memoizedState:Qe.next;if(e!==null)Qe=e,ze=t;else{if(t===null)throw Error(C(310));ze=t,t={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},Qe===null?Ae.memoizedState=Qe=t:Qe=Qe.next=t}return Qe}function Ha(t,e){return typeof e=="function"?e(t):e}function gf(t){var e=an(),n=e.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=t;var i=ze,r=i.baseQueue,s=n.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,n.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((Lr&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:t(i,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=i):l=l.next=h,Ae.lanes|=u,Vr|=u}c=c.next}while(c!==null&&c!==s);l===null?o=i:l.next=a,yn(i,e.memoizedState)||(Dt=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do s=r.lane,Ae.lanes|=s,Vr|=s,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function mf(t){var e=an(),n=e.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do s=t(s,o.action),o=o.next;while(o!==r);yn(s,e.memoizedState)||(Dt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function JE(){}function ZE(t,e){var n=Ae,i=an(),r=e(),s=!yn(i.memoizedState,r);if(s&&(i.memoizedState=r,Dt=!0),i=i.queue,Pm(nb.bind(null,n,i,t),[t]),i.getSnapshot!==e||s||Qe!==null&&Qe.memoizedState.tag&1){if(n.flags|=2048,Wa(9,tb.bind(null,n,i,r,e),void 0,null),Xe===null)throw Error(C(349));Lr&30||eb(n,e,r)}return r}function eb(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ae.updateQueue,e===null?(e={lastEffect:null,stores:null},Ae.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function tb(t,e,n,i){e.value=n,e.getSnapshot=i,ib(e)&&rb(t)}function nb(t,e,n){return n(function(){ib(e)&&rb(t)})}function ib(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!yn(t,n)}catch{return!0}}function rb(t){var e=ai(t,1);e!==null&&_n(e,t,1,-1)}function Pv(t){var e=Sn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:t},e.queue=t,t=t.dispatch=UP.bind(null,Ae,t),[e.memoizedState,t]}function Wa(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=Ae.updateQueue,e===null?(e={lastEffect:null,stores:null},Ae.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function sb(){return an().memoizedState}function Qc(t,e,n,i){var r=Sn();Ae.flags|=t,r.memoizedState=Wa(1|e,n,void 0,i===void 0?null:i)}function Rh(t,e,n,i){var r=an();i=i===void 0?null:i;var s=void 0;if(ze!==null){var o=ze.memoizedState;if(s=o.destroy,i!==null&&km(i,o.deps)){r.memoizedState=Wa(e,n,s,i);return}}Ae.flags|=t,r.memoizedState=Wa(1|e,n,s,i)}function Rv(t,e){return Qc(8390656,8,t,e)}function Pm(t,e){return Rh(2048,8,t,e)}function ob(t,e){return Rh(4,2,t,e)}function ab(t,e){return Rh(4,4,t,e)}function lb(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function cb(t,e,n){return n=n!=null?n.concat([t]):null,Rh(4,4,lb.bind(null,e,t),n)}function Rm(){}function ub(t,e){var n=an();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&km(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function hb(t,e){var n=an();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&km(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function db(t,e,n){return Lr&21?(yn(n,e)||(n=gE(),Ae.lanes|=n,Vr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Dt=!0),t.memoizedState=n)}function FP(t,e){var n=ue;ue=n!==0&&4>n?n:4,t(!0);var i=pf.transition;pf.transition={};try{t(!1),e()}finally{ue=n,pf.transition=i}}function fb(){return an().memoizedState}function BP(t,e,n){var i=Fi(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},pb(t))gb(e,n);else if(n=WE(t,e,n,i),n!==null){var r=kt();_n(n,t,i,r),mb(n,e,i)}}function UP(t,e,n){var i=Fi(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(pb(t))gb(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(r.hasEagerState=!0,r.eagerState=a,yn(a,o)){var l=e.interleaved;l===null?(r.next=r,Em(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}n=WE(t,e,r,i),n!==null&&(r=kt(),_n(n,t,i,r),mb(n,e,i))}}function pb(t){var e=t.alternate;return t===Ae||e!==null&&e===Ae}function gb(t,e){pa=Iu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function mb(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,lm(t,n)}}var ku={readContext:on,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useInsertionEffect:ct,useLayoutEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useMutableSource:ct,useSyncExternalStore:ct,useId:ct,unstable_isNewReconciler:!1},zP={readContext:on,useCallback:function(t,e){return Sn().memoizedState=[t,e===void 0?null:e],t},useContext:on,useEffect:Rv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Qc(4194308,4,lb.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Qc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Qc(4,2,t,e)},useMemo:function(t,e){var n=Sn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Sn();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=BP.bind(null,Ae,t),[i.memoizedState,t]},useRef:function(t){var e=Sn();return t={current:t},e.memoizedState=t},useState:Pv,useDebugValue:Rm,useDeferredValue:function(t){return Sn().memoizedState=t},useTransition:function(){var t=Pv(!1),e=t[0];return t=FP.bind(null,t[1]),Sn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=Ae,r=Sn();if(be){if(n===void 0)throw Error(C(407));n=n()}else{if(n=e(),Xe===null)throw Error(C(349));Lr&30||eb(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,Rv(nb.bind(null,i,s,t),[t]),i.flags|=2048,Wa(9,tb.bind(null,i,s,n,e),void 0,null),n},useId:function(){var t=Sn(),e=Xe.identifierPrefix;if(be){var n=Xn,i=Yn;n=(i&~(1<<32-mn(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=za++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=$P++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},HP={readContext:on,useCallback:ub,useContext:on,useEffect:Pm,useImperativeHandle:cb,useInsertionEffect:ob,useLayoutEffect:ab,useMemo:hb,useReducer:gf,useRef:sb,useState:function(){return gf(Ha)},useDebugValue:Rm,useDeferredValue:function(t){var e=an();return db(e,ze.memoizedState,t)},useTransition:function(){var t=gf(Ha)[0],e=an().memoizedState;return[t,e]},useMutableSource:JE,useSyncExternalStore:ZE,useId:fb,unstable_isNewReconciler:!1},WP={readContext:on,useCallback:ub,useContext:on,useEffect:Pm,useImperativeHandle:cb,useInsertionEffect:ob,useLayoutEffect:ab,useMemo:hb,useReducer:mf,useRef:sb,useState:function(){return mf(Ha)},useDebugValue:Rm,useDeferredValue:function(t){var e=an();return ze===null?e.memoizedState=t:db(e,ze.memoizedState,t)},useTransition:function(){var t=mf(Ha)[0],e=an().memoizedState;return[t,e]},useMutableSource:JE,useSyncExternalStore:ZE,useId:fb,unstable_isNewReconciler:!1};function Ys(t,e){try{var n="",i=e;do n+=vC(i),i=i.return;while(i);var r=n}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:r,digest:null}}function _f(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Vp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var qP=typeof WeakMap=="function"?WeakMap:Map;function _b(t,e,n){n=ri(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Cu||(Cu=!0,Gp=i),Vp(t,e)},n}function yb(t,e,n){n=ri(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){Vp(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Vp(t,e),typeof i!="function"&&($i===null?$i=new Set([this]):$i.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Nv(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new qP;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=oR.bind(null,t,e,n),e.then(t,t))}function Ov(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Dv(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ri(-1,1),e.tag=2,ji(n,e,1))),n.lanes|=1),t)}var GP=fi.ReactCurrentOwner,Dt=!1;function Tt(t,e,n,i){e.child=t===null?YE(e,null,n,i):Ks(e,t.child,n,i)}function Mv(t,e,n,i,r){n=n.render;var s=e.ref;return Ls(e,r),i=Am(t,e,n,i,s,r),n=Cm(),t!==null&&!Dt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,li(t,e,r)):(be&&n&&mm(e),e.flags|=1,Tt(t,e,i,r),e.child)}function Lv(t,e,n,i,r){if(t===null){var s=n.type;return typeof s=="function"&&!$m(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,vb(t,e,s,i,r)):(t=Zc(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&r)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Va,n(o,i)&&t.ref===e.ref)return li(t,e,r)}return e.flags|=1,t=Bi(s,i),t.ref=e.ref,t.return=e,e.child=t}function vb(t,e,n,i,r){if(t!==null){var s=t.memoizedProps;if(Va(s,i)&&t.ref===e.ref)if(Dt=!1,e.pendingProps=i=s,(t.lanes&r)!==0)t.flags&131072&&(Dt=!0);else return e.lanes=t.lanes,li(t,e,r)}return jp(t,e,n,i,r)}function wb(t,e,n){var i=e.pendingProps,r=i.children,s=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ge(As,Ft),Ft|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ge(As,Ft),Ft|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:n,ge(As,Ft),Ft|=i}else s!==null?(i=s.baseLanes|n,e.memoizedState=null):i=n,ge(As,Ft),Ft|=i;return Tt(t,e,r,n),e.child}function xb(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function jp(t,e,n,i,r){var s=Lt(n)?Dr:vt.current;return s=qs(e,s),Ls(e,r),n=Am(t,e,n,i,s,r),i=Cm(),t!==null&&!Dt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,li(t,e,r)):(be&&i&&mm(e),e.flags|=1,Tt(t,e,n,r),e.child)}function Vv(t,e,n,i,r){if(Lt(n)){var s=!0;vu(e)}else s=!1;if(Ls(e,r),e.stateNode===null)Yc(t,e),KE(e,n,i),Lp(e,n,i,r),i=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=on(c):(c=Lt(n)?Dr:vt.current,c=qs(e,c));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==c)&&Av(e,o,i,c),xi=!1;var d=e.memoizedState;o.state=d,Tu(e,i,o,r),l=e.memoizedState,a!==i||d!==l||Mt.current||xi?(typeof u=="function"&&(Mp(e,n,u,i),l=e.memoizedState),(a=xi||kv(e,n,a,i,d,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,qE(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:hn(e.type,a),o.props=c,h=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=on(l):(l=Lt(n)?Dr:vt.current,l=qs(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&Av(e,o,i,l),xi=!1,d=e.memoizedState,o.state=d,Tu(e,i,o,r);var g=e.memoizedState;a!==h||d!==g||Mt.current||xi?(typeof p=="function"&&(Mp(e,n,p,i),g=e.memoizedState),(c=xi||kv(e,n,c,i,d,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=g),o.props=i,o.state=g,o.context=l,i=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),i=!1)}return $p(t,e,n,i,s,r)}function $p(t,e,n,i,r,s){xb(t,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&Ev(e,n,!1),li(t,e,s);i=e.stateNode,GP.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&o?(e.child=Ks(e,t.child,null,s),e.child=Ks(e,null,a,s)):Tt(t,e,a,s),e.memoizedState=i.state,r&&Ev(e,n,!0),e.child}function Eb(t){var e=t.stateNode;e.pendingContext?xv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&xv(t,e.context,!1),Tm(t,e.containerInfo)}function jv(t,e,n,i,r){return Gs(),ym(r),e.flags|=256,Tt(t,e,n,i),e.child}var Fp={dehydrated:null,treeContext:null,retryLane:0};function Bp(t){return{baseLanes:t,cachePool:null,transitions:null}}function bb(t,e,n){var i=e.pendingProps,r=ke.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),ge(ke,r&1),t===null)return Op(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,t=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Dh(o,i,0,null),t=Cr(t,i,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Bp(n),e.memoizedState=Fp,t):Nm(e,o));if(r=t.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return KP(t,e,o,i,a,r,n);if(s){s=i.fallback,o=e.mode,r=t.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=Bi(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=Bi(a,s):(s=Cr(s,o,n,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=t.child.memoizedState,o=o===null?Bp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Fp,i}return s=t.child,t=s.sibling,i=Bi(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function Nm(t,e){return e=Dh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function dc(t,e,n,i){return i!==null&&ym(i),Ks(e,t.child,null,n),t=Nm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function KP(t,e,n,i,r,s,o){if(n)return e.flags&256?(e.flags&=-257,i=_f(Error(C(422))),dc(t,e,o,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=Dh({mode:"visible",children:i.children},r,0,null),s=Cr(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&Ks(e,t.child,null,o),e.child.memoizedState=Bp(o),e.memoizedState=Fp,s);if(!(e.mode&1))return dc(t,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(C(419)),i=_f(s,i,void 0),dc(t,e,o,i)}if(a=(o&t.childLanes)!==0,Dt||a){if(i=Xe,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,ai(t,r),_n(i,t,r,-1))}return jm(),i=_f(Error(C(421))),dc(t,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=aR.bind(null,t),r._reactRetry=e,null):(t=s.treeContext,Ut=Vi(r.nextSibling),Ht=e,be=!0,pn=null,t!==null&&(Jt[Zt++]=Yn,Jt[Zt++]=Xn,Jt[Zt++]=Mr,Yn=t.id,Xn=t.overflow,Mr=e),e=Nm(e,i.children),e.flags|=4096,e)}function $v(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Dp(t.return,e,n)}function yf(t,e,n,i,r){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function Tb(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(Tt(t,e,i.children,n),i=ke.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&$v(t,n,e);else if(t.tag===19)$v(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(ge(ke,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Su(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),yf(e,!1,r,n,s);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Su(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}yf(e,!0,n,null,s);break;case"together":yf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Yc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function li(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Vr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(C(153));if(e.child!==null){for(t=e.child,n=Bi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Bi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function QP(t,e,n){switch(e.tag){case 3:Eb(e),Gs();break;case 5:XE(e);break;case 1:Lt(e.type)&&vu(e);break;case 4:Tm(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;ge(Eu,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(ge(ke,ke.current&1),e.flags|=128,null):n&e.child.childLanes?bb(t,e,n):(ge(ke,ke.current&1),t=li(t,e,n),t!==null?t.sibling:null);ge(ke,ke.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return Tb(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),ge(ke,ke.current),i)break;return null;case 22:case 23:return e.lanes=0,wb(t,e,n)}return li(t,e,n)}var Sb,Up,Ib,kb;Sb=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Up=function(){};Ib=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,Er(Nn.current);var s=null;switch(n){case"input":r=up(t,r),i=up(t,i),s=[];break;case"select":r=Ce({},r,{value:void 0}),i=Ce({},i,{value:void 0}),s=[];break;case"textarea":r=fp(t,r),i=fp(t,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=_u)}gp(n,i);var o;n=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Pa.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var l=i[c];if(a=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Pa.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ye("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};kb=function(t,e,n,i){n!==i&&(e.flags|=4)};function Mo(t,e){if(!be)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function ut(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function YP(t,e,n){var i=e.pendingProps;switch(_m(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(e),null;case 1:return Lt(e.type)&&yu(),ut(e),null;case 3:return i=e.stateNode,Qs(),xe(Mt),xe(vt),Im(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(uc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,pn!==null&&(Yp(pn),pn=null))),Up(t,e),ut(e),null;case 5:Sm(e);var r=Er(Ua.current);if(n=e.type,t!==null&&e.stateNode!=null)Ib(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(C(166));return ut(e),null}if(t=Er(Nn.current),uc(e)){i=e.stateNode,n=e.type;var s=e.memoizedProps;switch(i[In]=e,i[Fa]=s,t=(e.mode&1)!==0,n){case"dialog":ye("cancel",i),ye("close",i);break;case"iframe":case"object":case"embed":ye("load",i);break;case"video":case"audio":for(r=0;r<Jo.length;r++)ye(Jo[r],i);break;case"source":ye("error",i);break;case"img":case"image":case"link":ye("error",i),ye("load",i);break;case"details":ye("toggle",i);break;case"input":Ky(i,s),ye("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},ye("invalid",i);break;case"textarea":Yy(i,s),ye("invalid",i)}gp(n,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&cc(i.textContent,a,t),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&cc(i.textContent,a,t),r=["children",""+a]):Pa.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ye("scroll",i)}switch(n){case"input":tc(i),Qy(i,s,!0);break;case"textarea":tc(i),Xy(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=_u)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=eE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=o.createElement(n,{is:i.is}):(t=o.createElement(n),n==="select"&&(o=t,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):t=o.createElementNS(t,n),t[In]=e,t[Fa]=i,Sb(t,e,!1,!1),e.stateNode=t;e:{switch(o=mp(n,i),n){case"dialog":ye("cancel",t),ye("close",t),r=i;break;case"iframe":case"object":case"embed":ye("load",t),r=i;break;case"video":case"audio":for(r=0;r<Jo.length;r++)ye(Jo[r],t);r=i;break;case"source":ye("error",t),r=i;break;case"img":case"image":case"link":ye("error",t),ye("load",t),r=i;break;case"details":ye("toggle",t),r=i;break;case"input":Ky(t,i),r=up(t,i),ye("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=Ce({},i,{value:void 0}),ye("invalid",t);break;case"textarea":Yy(t,i),r=fp(t,i),ye("invalid",t);break;default:r=i}gp(n,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?iE(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&tE(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ra(t,l):typeof l=="number"&&Ra(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Pa.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ye("scroll",t):l!=null&&nm(t,s,l,o))}switch(n){case"input":tc(t),Qy(t,i,!1);break;case"textarea":tc(t),Xy(t);break;case"option":i.value!=null&&t.setAttribute("value",""+Ki(i.value));break;case"select":t.multiple=!!i.multiple,s=i.value,s!=null?Ns(t,!!i.multiple,s,!1):i.defaultValue!=null&&Ns(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=_u)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ut(e),null;case 6:if(t&&e.stateNode!=null)kb(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(C(166));if(n=Er(Ua.current),Er(Nn.current),uc(e)){if(i=e.stateNode,n=e.memoizedProps,i[In]=e,(s=i.nodeValue!==n)&&(t=Ht,t!==null))switch(t.tag){case 3:cc(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&cc(i.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[In]=e,e.stateNode=i}return ut(e),null;case 13:if(xe(ke),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(be&&Ut!==null&&e.mode&1&&!(e.flags&128))HE(),Gs(),e.flags|=98560,s=!1;else if(s=uc(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(C(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(C(317));s[In]=e}else Gs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ut(e),s=!1}else pn!==null&&(Yp(pn),pn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||ke.current&1?We===0&&(We=3):jm())),e.updateQueue!==null&&(e.flags|=4),ut(e),null);case 4:return Qs(),Up(t,e),t===null&&ja(e.stateNode.containerInfo),ut(e),null;case 10:return xm(e.type._context),ut(e),null;case 17:return Lt(e.type)&&yu(),ut(e),null;case 19:if(xe(ke),s=e.memoizedState,s===null)return ut(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)Mo(s,!1);else{if(We!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Su(t),o!==null){for(e.flags|=128,Mo(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)s=n,t=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ge(ke,ke.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ve()>Xs&&(e.flags|=128,i=!0,Mo(s,!1),e.lanes=4194304)}else{if(!i)if(t=Su(o),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Mo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!be)return ut(e),null}else 2*Ve()-s.renderingStartTime>Xs&&n!==1073741824&&(e.flags|=128,i=!0,Mo(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ve(),e.sibling=null,n=ke.current,ge(ke,i?n&1|2:n&1),e):(ut(e),null);case 22:case 23:return Vm(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Ft&1073741824&&(ut(e),e.subtreeFlags&6&&(e.flags|=8192)):ut(e),null;case 24:return null;case 25:return null}throw Error(C(156,e.tag))}function XP(t,e){switch(_m(e),e.tag){case 1:return Lt(e.type)&&yu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Qs(),xe(Mt),xe(vt),Im(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Sm(e),null;case 13:if(xe(ke),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(C(340));Gs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return xe(ke),null;case 4:return Qs(),null;case 10:return xm(e.type._context),null;case 22:case 23:return Vm(),null;case 24:return null;default:return null}}var fc=!1,pt=!1,JP=typeof WeakSet=="function"?WeakSet:Set,D=null;function ks(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Re(t,e,i)}else n.current=null}function zp(t,e,n){try{n()}catch(i){Re(t,e,i)}}var Fv=!1;function ZP(t,e){if(Ip=pu,t=RE(),gm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=t,d=null;t:for(;;){for(var p;h!==n||r!==0&&h.nodeType!==3||(a=o+r),h!==s||i!==0&&h.nodeType!==3||(l=o+i),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)d=h,h=p;for(;;){if(h===t)break t;if(d===n&&++c===r&&(a=o),d===s&&++u===i&&(l=o),(p=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(kp={focusedElem:t,selectionRange:n},pu=!1,D=e;D!==null;)if(e=D,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,D=t;else for(;D!==null;){e=D;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,w=g.memoizedState,m=e.stateNode,_=m.getSnapshotBeforeUpdate(e.elementType===e.type?y:hn(e.type,y),w);m.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(x){Re(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,D=t;break}D=e.return}return g=Fv,Fv=!1,g}function ga(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var s=r.destroy;r.destroy=void 0,s!==void 0&&zp(e,n,s)}r=r.next}while(r!==i)}}function Nh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function Hp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Ab(t){var e=t.alternate;e!==null&&(t.alternate=null,Ab(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[In],delete e[Fa],delete e[Pp],delete e[MP],delete e[LP])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Cb(t){return t.tag===5||t.tag===3||t.tag===4}function Bv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Cb(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Wp(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=_u));else if(i!==4&&(t=t.child,t!==null))for(Wp(t,e,n),t=t.sibling;t!==null;)Wp(t,e,n),t=t.sibling}function qp(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(qp(t,e,n),t=t.sibling;t!==null;)qp(t,e,n),t=t.sibling}var tt=null,dn=!1;function _i(t,e,n){for(n=n.child;n!==null;)Pb(t,e,n),n=n.sibling}function Pb(t,e,n){if(Rn&&typeof Rn.onCommitFiberUnmount=="function")try{Rn.onCommitFiberUnmount(Th,n)}catch{}switch(n.tag){case 5:pt||ks(n,e);case 6:var i=tt,r=dn;tt=null,_i(t,e,n),tt=i,dn=r,tt!==null&&(dn?(t=tt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):tt.removeChild(n.stateNode));break;case 18:tt!==null&&(dn?(t=tt,n=n.stateNode,t.nodeType===8?hf(t.parentNode,n):t.nodeType===1&&hf(t,n),Ma(t)):hf(tt,n.stateNode));break;case 4:i=tt,r=dn,tt=n.stateNode.containerInfo,dn=!0,_i(t,e,n),tt=i,dn=r;break;case 0:case 11:case 14:case 15:if(!pt&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&zp(n,e,o),r=r.next}while(r!==i)}_i(t,e,n);break;case 1:if(!pt&&(ks(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){Re(n,e,a)}_i(t,e,n);break;case 21:_i(t,e,n);break;case 22:n.mode&1?(pt=(i=pt)||n.memoizedState!==null,_i(t,e,n),pt=i):_i(t,e,n);break;default:_i(t,e,n)}}function Uv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new JP),e.forEach(function(i){var r=lR.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function un(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:tt=a.stateNode,dn=!1;break e;case 3:tt=a.stateNode.containerInfo,dn=!0;break e;case 4:tt=a.stateNode.containerInfo,dn=!0;break e}a=a.return}if(tt===null)throw Error(C(160));Pb(s,o,r),tt=null,dn=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){Re(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Rb(e,t),e=e.sibling}function Rb(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(un(e,t),bn(t),i&4){try{ga(3,t,t.return),Nh(3,t)}catch(y){Re(t,t.return,y)}try{ga(5,t,t.return)}catch(y){Re(t,t.return,y)}}break;case 1:un(e,t),bn(t),i&512&&n!==null&&ks(n,n.return);break;case 5:if(un(e,t),bn(t),i&512&&n!==null&&ks(n,n.return),t.flags&32){var r=t.stateNode;try{Ra(r,"")}catch(y){Re(t,t.return,y)}}if(i&4&&(r=t.stateNode,r!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&J1(r,s),mp(a,o);var c=mp(a,s);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?iE(r,h):u==="dangerouslySetInnerHTML"?tE(r,h):u==="children"?Ra(r,h):nm(r,u,h,c)}switch(a){case"input":hp(r,s);break;case"textarea":Z1(r,s);break;case"select":var d=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Ns(r,!!s.multiple,p,!1):d!==!!s.multiple&&(s.defaultValue!=null?Ns(r,!!s.multiple,s.defaultValue,!0):Ns(r,!!s.multiple,s.multiple?[]:"",!1))}r[Fa]=s}catch(y){Re(t,t.return,y)}}break;case 6:if(un(e,t),bn(t),i&4){if(t.stateNode===null)throw Error(C(162));r=t.stateNode,s=t.memoizedProps;try{r.nodeValue=s}catch(y){Re(t,t.return,y)}}break;case 3:if(un(e,t),bn(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Ma(e.containerInfo)}catch(y){Re(t,t.return,y)}break;case 4:un(e,t),bn(t);break;case 13:un(e,t),bn(t),r=t.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(Mm=Ve())),i&4&&Uv(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(pt=(c=pt)||u,un(e,t),pt=c):un(e,t),bn(t),i&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(D=t,u=t.child;u!==null;){for(h=D=u;D!==null;){switch(d=D,p=d.child,d.tag){case 0:case 11:case 14:case 15:ga(4,d,d.return);break;case 1:ks(d,d.return);var g=d.stateNode;if(typeof g.componentWillUnmount=="function"){i=d,n=d.return;try{e=i,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){Re(i,n,y)}}break;case 5:ks(d,d.return);break;case 22:if(d.memoizedState!==null){Hv(h);continue}}p!==null?(p.return=d,D=p):Hv(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{r=h.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=nE("display",o))}catch(y){Re(t,t.return,y)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(y){Re(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:un(e,t),bn(t),i&4&&Uv(t);break;case 21:break;default:un(e,t),bn(t)}}function bn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Cb(n)){var i=n;break e}n=n.return}throw Error(C(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(Ra(r,""),i.flags&=-33);var s=Bv(t);qp(t,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=Bv(t);Wp(t,a,o);break;default:throw Error(C(161))}}catch(l){Re(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function eR(t,e,n){D=t,Nb(t)}function Nb(t,e,n){for(var i=(t.mode&1)!==0;D!==null;){var r=D,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||fc;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||pt;a=fc;var c=pt;if(fc=o,(pt=l)&&!c)for(D=r;D!==null;)o=D,l=o.child,o.tag===22&&o.memoizedState!==null?Wv(r):l!==null?(l.return=o,D=l):Wv(r);for(;s!==null;)D=s,Nb(s),s=s.sibling;D=r,fc=a,pt=c}zv(t)}else r.subtreeFlags&8772&&s!==null?(s.return=r,D=s):zv(t)}}function zv(t){for(;D!==null;){var e=D;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:pt||Nh(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!pt)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:hn(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Iv(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Iv(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Ma(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}pt||e.flags&512&&Hp(e)}catch(d){Re(e,e.return,d)}}if(e===t){D=null;break}if(n=e.sibling,n!==null){n.return=e.return,D=n;break}D=e.return}}function Hv(t){for(;D!==null;){var e=D;if(e===t){D=null;break}var n=e.sibling;if(n!==null){n.return=e.return,D=n;break}D=e.return}}function Wv(t){for(;D!==null;){var e=D;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Nh(4,e)}catch(l){Re(e,n,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){Re(e,r,l)}}var s=e.return;try{Hp(e)}catch(l){Re(e,s,l)}break;case 5:var o=e.return;try{Hp(e)}catch(l){Re(e,o,l)}}}catch(l){Re(e,e.return,l)}if(e===t){D=null;break}var a=e.sibling;if(a!==null){a.return=e.return,D=a;break}D=e.return}}var tR=Math.ceil,Au=fi.ReactCurrentDispatcher,Om=fi.ReactCurrentOwner,rn=fi.ReactCurrentBatchConfig,re=0,Xe=null,Be=null,st=0,Ft=0,As=ir(0),We=0,qa=null,Vr=0,Oh=0,Dm=0,ma=null,Rt=null,Mm=0,Xs=1/0,Kn=null,Cu=!1,Gp=null,$i=null,pc=!1,Pi=null,Pu=0,_a=0,Kp=null,Xc=-1,Jc=0;function kt(){return re&6?Ve():Xc!==-1?Xc:Xc=Ve()}function Fi(t){return t.mode&1?re&2&&st!==0?st&-st:jP.transition!==null?(Jc===0&&(Jc=gE()),Jc):(t=ue,t!==0||(t=window.event,t=t===void 0?16:EE(t.type)),t):1}function _n(t,e,n,i){if(50<_a)throw _a=0,Kp=null,Error(C(185));yl(t,n,i),(!(re&2)||t!==Xe)&&(t===Xe&&(!(re&2)&&(Oh|=n),We===4&&bi(t,st)),Vt(t,i),n===1&&re===0&&!(e.mode&1)&&(Xs=Ve()+500,Ch&&rr()))}function Vt(t,e){var n=t.callbackNode;jC(t,e);var i=fu(t,t===Xe?st:0);if(i===0)n!==null&&ev(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&ev(n),e===1)t.tag===0?VP(qv.bind(null,t)):BE(qv.bind(null,t)),OP(function(){!(re&6)&&rr()}),n=null;else{switch(mE(i)){case 1:n=am;break;case 4:n=fE;break;case 16:n=du;break;case 536870912:n=pE;break;default:n=du}n=Fb(n,Ob.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Ob(t,e){if(Xc=-1,Jc=0,re&6)throw Error(C(327));var n=t.callbackNode;if(Vs()&&t.callbackNode!==n)return null;var i=fu(t,t===Xe?st:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=Ru(t,i);else{e=i;var r=re;re|=2;var s=Mb();(Xe!==t||st!==e)&&(Kn=null,Xs=Ve()+500,Ar(t,e));do try{rR();break}catch(a){Db(t,a)}while(1);wm(),Au.current=s,re=r,Be!==null?e=0:(Xe=null,st=0,e=We)}if(e!==0){if(e===2&&(r=xp(t),r!==0&&(i=r,e=Qp(t,r))),e===1)throw n=qa,Ar(t,0),bi(t,i),Vt(t,Ve()),n;if(e===6)bi(t,i);else{if(r=t.current.alternate,!(i&30)&&!nR(r)&&(e=Ru(t,i),e===2&&(s=xp(t),s!==0&&(i=s,e=Qp(t,s))),e===1))throw n=qa,Ar(t,0),bi(t,i),Vt(t,Ve()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(C(345));case 2:gr(t,Rt,Kn);break;case 3:if(bi(t,i),(i&130023424)===i&&(e=Mm+500-Ve(),10<e)){if(fu(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){kt(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=Cp(gr.bind(null,t,Rt,Kn),e);break}gr(t,Rt,Kn);break;case 4:if(bi(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var o=31-mn(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=Ve()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*tR(i/1960))-i,10<i){t.timeoutHandle=Cp(gr.bind(null,t,Rt,Kn),i);break}gr(t,Rt,Kn);break;case 5:gr(t,Rt,Kn);break;default:throw Error(C(329))}}}return Vt(t,Ve()),t.callbackNode===n?Ob.bind(null,t):null}function Qp(t,e){var n=ma;return t.current.memoizedState.isDehydrated&&(Ar(t,e).flags|=256),t=Ru(t,e),t!==2&&(e=Rt,Rt=n,e!==null&&Yp(e)),t}function Yp(t){Rt===null?Rt=t:Rt.push.apply(Rt,t)}function nR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!yn(s(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function bi(t,e){for(e&=~Dm,e&=~Oh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-mn(e),i=1<<n;t[n]=-1,e&=~i}}function qv(t){if(re&6)throw Error(C(327));Vs();var e=fu(t,0);if(!(e&1))return Vt(t,Ve()),null;var n=Ru(t,e);if(t.tag!==0&&n===2){var i=xp(t);i!==0&&(e=i,n=Qp(t,i))}if(n===1)throw n=qa,Ar(t,0),bi(t,e),Vt(t,Ve()),n;if(n===6)throw Error(C(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,gr(t,Rt,Kn),Vt(t,Ve()),null}function Lm(t,e){var n=re;re|=1;try{return t(e)}finally{re=n,re===0&&(Xs=Ve()+500,Ch&&rr())}}function jr(t){Pi!==null&&Pi.tag===0&&!(re&6)&&Vs();var e=re;re|=1;var n=rn.transition,i=ue;try{if(rn.transition=null,ue=1,t)return t()}finally{ue=i,rn.transition=n,re=e,!(re&6)&&rr()}}function Vm(){Ft=As.current,xe(As)}function Ar(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,NP(n)),Be!==null)for(n=Be.return;n!==null;){var i=n;switch(_m(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&yu();break;case 3:Qs(),xe(Mt),xe(vt),Im();break;case 5:Sm(i);break;case 4:Qs();break;case 13:xe(ke);break;case 19:xe(ke);break;case 10:xm(i.type._context);break;case 22:case 23:Vm()}n=n.return}if(Xe=t,Be=t=Bi(t.current,null),st=Ft=e,We=0,qa=null,Dm=Oh=Vr=0,Rt=ma=null,xr!==null){for(e=0;e<xr.length;e++)if(n=xr[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,s=n.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}n.pending=i}xr=null}return t}function Db(t,e){do{var n=Be;try{if(wm(),Kc.current=ku,Iu){for(var i=Ae.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Iu=!1}if(Lr=0,Qe=ze=Ae=null,pa=!1,za=0,Om.current=null,n===null||n.return===null){We=1,qa=e,Be=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=st,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=Ov(o);if(p!==null){p.flags&=-257,Dv(p,o,a,s,e),p.mode&1&&Nv(s,c,e),e=p,l=c;var g=e.updateQueue;if(g===null){var y=new Set;y.add(l),e.updateQueue=y}else g.add(l);break e}else{if(!(e&1)){Nv(s,c,e),jm();break e}l=Error(C(426))}}else if(be&&a.mode&1){var w=Ov(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Dv(w,o,a,s,e),ym(Ys(l,a));break e}}s=l=Ys(l,a),We!==4&&(We=2),ma===null?ma=[s]:ma.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=_b(s,l,e);Sv(s,m);break e;case 1:a=l;var _=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&($i===null||!$i.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e;var x=yb(s,a,e);Sv(s,x);break e}}s=s.return}while(s!==null)}Vb(n)}catch(E){e=E,Be===n&&n!==null&&(Be=n=n.return);continue}break}while(1)}function Mb(){var t=Au.current;return Au.current=ku,t===null?ku:t}function jm(){(We===0||We===3||We===2)&&(We=4),Xe===null||!(Vr&268435455)&&!(Oh&268435455)||bi(Xe,st)}function Ru(t,e){var n=re;re|=2;var i=Mb();(Xe!==t||st!==e)&&(Kn=null,Ar(t,e));do try{iR();break}catch(r){Db(t,r)}while(1);if(wm(),re=n,Au.current=i,Be!==null)throw Error(C(261));return Xe=null,st=0,We}function iR(){for(;Be!==null;)Lb(Be)}function rR(){for(;Be!==null&&!CC();)Lb(Be)}function Lb(t){var e=$b(t.alternate,t,Ft);t.memoizedProps=t.pendingProps,e===null?Vb(t):Be=e,Om.current=null}function Vb(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=XP(n,e),n!==null){n.flags&=32767,Be=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{We=6,Be=null;return}}else if(n=YP(n,e,Ft),n!==null){Be=n;return}if(e=e.sibling,e!==null){Be=e;return}Be=e=t}while(e!==null);We===0&&(We=5)}function gr(t,e,n){var i=ue,r=rn.transition;try{rn.transition=null,ue=1,sR(t,e,n,i)}finally{rn.transition=r,ue=i}return null}function sR(t,e,n,i){do Vs();while(Pi!==null);if(re&6)throw Error(C(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(C(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if($C(t,s),t===Xe&&(Be=Xe=null,st=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||pc||(pc=!0,Fb(du,function(){return Vs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=rn.transition,rn.transition=null;var o=ue;ue=1;var a=re;re|=4,Om.current=null,ZP(t,n),Rb(n,t),SP(kp),pu=!!Ip,kp=Ip=null,t.current=n,eR(n),PC(),re=a,ue=o,rn.transition=s}else t.current=n;if(pc&&(pc=!1,Pi=t,Pu=r),s=t.pendingLanes,s===0&&($i=null),OC(n.stateNode),Vt(t,Ve()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Cu)throw Cu=!1,t=Gp,Gp=null,t;return Pu&1&&t.tag!==0&&Vs(),s=t.pendingLanes,s&1?t===Kp?_a++:(_a=0,Kp=t):_a=0,rr(),null}function Vs(){if(Pi!==null){var t=mE(Pu),e=rn.transition,n=ue;try{if(rn.transition=null,ue=16>t?16:t,Pi===null)var i=!1;else{if(t=Pi,Pi=null,Pu=0,re&6)throw Error(C(331));var r=re;for(re|=4,D=t.current;D!==null;){var s=D,o=s.child;if(D.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(D=c;D!==null;){var u=D;switch(u.tag){case 0:case 11:case 15:ga(8,u,s)}var h=u.child;if(h!==null)h.return=u,D=h;else for(;D!==null;){u=D;var d=u.sibling,p=u.return;if(Ab(u),u===c){D=null;break}if(d!==null){d.return=p,D=d;break}D=p}}}var g=s.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}D=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,D=o;else e:for(;D!==null;){if(s=D,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ga(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,D=m;break e}D=s.return}}var _=t.current;for(D=_;D!==null;){o=D;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,D=v;else e:for(o=_;D!==null;){if(a=D,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Nh(9,a)}}catch(E){Re(a,a.return,E)}if(a===o){D=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,D=x;break e}D=a.return}}if(re=r,rr(),Rn&&typeof Rn.onPostCommitFiberRoot=="function")try{Rn.onPostCommitFiberRoot(Th,t)}catch{}i=!0}return i}finally{ue=n,rn.transition=e}}return!1}function Gv(t,e,n){e=Ys(n,e),e=_b(t,e,1),t=ji(t,e,1),e=kt(),t!==null&&(yl(t,1,e),Vt(t,e))}function Re(t,e,n){if(t.tag===3)Gv(t,t,n);else for(;e!==null;){if(e.tag===3){Gv(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&($i===null||!$i.has(i))){t=Ys(n,t),t=yb(e,t,1),e=ji(e,t,1),t=kt(),e!==null&&(yl(e,1,t),Vt(e,t));break}}e=e.return}}function oR(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=kt(),t.pingedLanes|=t.suspendedLanes&n,Xe===t&&(st&n)===n&&(We===4||We===3&&(st&130023424)===st&&500>Ve()-Mm?Ar(t,0):Dm|=n),Vt(t,e)}function jb(t,e){e===0&&(t.mode&1?(e=rc,rc<<=1,!(rc&130023424)&&(rc=4194304)):e=1);var n=kt();t=ai(t,e),t!==null&&(yl(t,e,n),Vt(t,n))}function aR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),jb(t,n)}function lR(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(C(314))}i!==null&&i.delete(e),jb(t,n)}var $b;$b=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Mt.current)Dt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Dt=!1,QP(t,e,n);Dt=!!(t.flags&131072)}else Dt=!1,be&&e.flags&1048576&&UE(e,xu,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Yc(t,e),t=e.pendingProps;var r=qs(e,vt.current);Ls(e,n),r=Am(null,e,i,t,r,n);var s=Cm();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Lt(i)?(s=!0,vu(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,bm(e),r.updater=Ph,e.stateNode=r,r._reactInternals=e,Lp(e,i,t,n),e=$p(null,e,i,!0,s,n)):(e.tag=0,be&&s&&mm(e),Tt(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(Yc(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=uR(i),t=hn(i,t),r){case 0:e=jp(null,e,i,t,n);break e;case 1:e=Vv(null,e,i,t,n);break e;case 11:e=Mv(null,e,i,t,n);break e;case 14:e=Lv(null,e,i,hn(i.type,t),n);break e}throw Error(C(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:hn(i,r),jp(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:hn(i,r),Vv(t,e,i,r,n);case 3:e:{if(Eb(e),t===null)throw Error(C(387));i=e.pendingProps,s=e.memoizedState,r=s.element,qE(t,e),Tu(e,i,null,n);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=Ys(Error(C(423)),e),e=jv(t,e,i,n,r);break e}else if(i!==r){r=Ys(Error(C(424)),e),e=jv(t,e,i,n,r);break e}else for(Ut=Vi(e.stateNode.containerInfo.firstChild),Ht=e,be=!0,pn=null,n=YE(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Gs(),i===r){e=li(t,e,n);break e}Tt(t,e,i,n)}e=e.child}return e;case 5:return XE(e),t===null&&Op(e),i=e.type,r=e.pendingProps,s=t!==null?t.memoizedProps:null,o=r.children,Ap(i,r)?o=null:s!==null&&Ap(i,s)&&(e.flags|=32),xb(t,e),Tt(t,e,o,n),e.child;case 6:return t===null&&Op(e),null;case 13:return bb(t,e,n);case 4:return Tm(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Ks(e,null,i,n):Tt(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:hn(i,r),Mv(t,e,i,r,n);case 7:return Tt(t,e,e.pendingProps,n),e.child;case 8:return Tt(t,e,e.pendingProps.children,n),e.child;case 12:return Tt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,ge(Eu,i._currentValue),i._currentValue=o,s!==null)if(yn(s.value,o)){if(s.children===r.children&&!Mt.current){e=li(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=ri(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Dp(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(C(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Dp(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Tt(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Ls(e,n),r=on(r),i=i(r),e.flags|=1,Tt(t,e,i,n),e.child;case 14:return i=e.type,r=hn(i,e.pendingProps),r=hn(i.type,r),Lv(t,e,i,r,n);case 15:return vb(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:hn(i,r),Yc(t,e),e.tag=1,Lt(i)?(t=!0,vu(e)):t=!1,Ls(e,n),KE(e,i,r),Lp(e,i,r,n),$p(null,e,i,!0,t,n);case 19:return Tb(t,e,n);case 22:return wb(t,e,n)}throw Error(C(156,e.tag))};function Fb(t,e){return dE(t,e)}function cR(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nn(t,e,n,i){return new cR(t,e,n,i)}function $m(t){return t=t.prototype,!(!t||!t.isReactComponent)}function uR(t){if(typeof t=="function")return $m(t)?1:0;if(t!=null){if(t=t.$$typeof,t===rm)return 11;if(t===sm)return 14}return 2}function Bi(t,e){var n=t.alternate;return n===null?(n=nn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Zc(t,e,n,i,r,s){var o=2;if(i=t,typeof t=="function")$m(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ys:return Cr(n.children,r,s,e);case im:o=8,r|=8;break;case op:return t=nn(12,n,e,r|2),t.elementType=op,t.lanes=s,t;case ap:return t=nn(13,n,e,r),t.elementType=ap,t.lanes=s,t;case lp:return t=nn(19,n,e,r),t.elementType=lp,t.lanes=s,t;case Q1:return Dh(n,r,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case G1:o=10;break e;case K1:o=9;break e;case rm:o=11;break e;case sm:o=14;break e;case wi:o=16,i=null;break e}throw Error(C(130,t==null?t:typeof t,""))}return e=nn(o,n,e,r),e.elementType=t,e.type=i,e.lanes=s,e}function Cr(t,e,n,i){return t=nn(7,t,i,e),t.lanes=n,t}function Dh(t,e,n,i){return t=nn(22,t,i,e),t.elementType=Q1,t.lanes=n,t.stateNode={isHidden:!1},t}function vf(t,e,n){return t=nn(6,t,null,e),t.lanes=n,t}function wf(t,e,n){return e=nn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function hR(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zd(0),this.expirationTimes=Zd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zd(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Fm(t,e,n,i,r,s,o,a,l){return t=new hR(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=nn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},bm(s),t}function dR(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_s,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function Bb(t){if(!t)return Qi;t=t._reactInternals;e:{if(Jr(t)!==t||t.tag!==1)throw Error(C(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Lt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(C(171))}if(t.tag===1){var n=t.type;if(Lt(n))return FE(t,n,e)}return e}function Ub(t,e,n,i,r,s,o,a,l){return t=Fm(n,i,!0,t,r,s,o,a,l),t.context=Bb(null),n=t.current,i=kt(),r=Fi(n),s=ri(i,r),s.callback=e??null,ji(n,s,r),t.current.lanes=r,yl(t,r,i),Vt(t,i),t}function Mh(t,e,n,i){var r=e.current,s=kt(),o=Fi(r);return n=Bb(n),e.context===null?e.context=n:e.pendingContext=n,e=ri(s,o),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=ji(r,e,o),t!==null&&(_n(t,r,o,s),Gc(t,r,o)),o}function Nu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Kv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Bm(t,e){Kv(t,e),(t=t.alternate)&&Kv(t,e)}function fR(){return null}var zb=typeof reportError=="function"?reportError:function(t){console.error(t)};function Um(t){this._internalRoot=t}Lh.prototype.render=Um.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(C(409));Mh(t,e,null,null)};Lh.prototype.unmount=Um.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;jr(function(){Mh(null,t,null,null)}),e[oi]=null}};function Lh(t){this._internalRoot=t}Lh.prototype.unstable_scheduleHydration=function(t){if(t){var e=vE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ei.length&&e!==0&&e<Ei[n].priority;n++);Ei.splice(n,0,t),n===0&&xE(t)}};function zm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Vh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Qv(){}function pR(t,e,n,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var c=Nu(o);s.call(c)}}var o=Ub(e,i,t,0,null,!1,!1,"",Qv);return t._reactRootContainer=o,t[oi]=o.current,ja(t.nodeType===8?t.parentNode:t),jr(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var c=Nu(l);a.call(c)}}var l=Fm(t,0,!1,null,null,!1,!1,"",Qv);return t._reactRootContainer=l,t[oi]=l.current,ja(t.nodeType===8?t.parentNode:t),jr(function(){Mh(e,l,n,i)}),l}function jh(t,e,n,i,r){var s=n._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=Nu(o);a.call(l)}}Mh(e,o,t,r)}else o=pR(n,e,t,r,i);return Nu(o)}_E=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Xo(e.pendingLanes);n!==0&&(lm(e,n|1),Vt(e,Ve()),!(re&6)&&(Xs=Ve()+500,rr()))}break;case 13:jr(function(){var i=ai(t,1);if(i!==null){var r=kt();_n(i,t,1,r)}}),Bm(t,1)}};cm=function(t){if(t.tag===13){var e=ai(t,134217728);if(e!==null){var n=kt();_n(e,t,134217728,n)}Bm(t,134217728)}};yE=function(t){if(t.tag===13){var e=Fi(t),n=ai(t,e);if(n!==null){var i=kt();_n(n,t,e,i)}Bm(t,e)}};vE=function(){return ue};wE=function(t,e){var n=ue;try{return ue=t,e()}finally{ue=n}};yp=function(t,e,n){switch(e){case"input":if(hp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=Ah(i);if(!r)throw Error(C(90));X1(i),hp(i,r)}}}break;case"textarea":Z1(t,n);break;case"select":e=n.value,e!=null&&Ns(t,!!n.multiple,e,!1)}};oE=Lm;aE=jr;var gR={usingClientEntryPoint:!1,Events:[wl,Es,Ah,rE,sE,Lm]},Lo={findFiberByHostInstance:wr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},mR={bundleType:Lo.bundleType,version:Lo.version,rendererPackageName:Lo.rendererPackageName,rendererConfig:Lo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=uE(t),t===null?null:t.stateNode},findFiberByHostInstance:Lo.findFiberByHostInstance||fR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gc.isDisabled&&gc.supportsFiber)try{Th=gc.inject(mR),Rn=gc}catch{}}Kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gR;Kt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zm(e))throw Error(C(200));return dR(t,e,null,n)};Kt.createRoot=function(t,e){if(!zm(t))throw Error(C(299));var n=!1,i="",r=zb;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=Fm(t,1,!1,null,null,n,!1,i,r),t[oi]=e.current,ja(t.nodeType===8?t.parentNode:t),new Um(e)};Kt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(C(188)):(t=Object.keys(t).join(","),Error(C(268,t)));return t=uE(e),t=t===null?null:t.stateNode,t};Kt.flushSync=function(t){return jr(t)};Kt.hydrate=function(t,e,n){if(!Vh(e))throw Error(C(200));return jh(null,t,e,!0,n)};Kt.hydrateRoot=function(t,e,n){if(!zm(t))throw Error(C(405));var i=n!=null&&n.hydratedSources||null,r=!1,s="",o=zb;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Ub(e,null,t,1,n??null,r,!1,s,o),t[oi]=e.current,ja(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Lh(e)};Kt.render=function(t,e,n){if(!Vh(e))throw Error(C(200));return jh(null,t,e,!1,n)};Kt.unmountComponentAtNode=function(t){if(!Vh(t))throw Error(C(40));return t._reactRootContainer?(jr(function(){jh(null,null,t,!1,function(){t._reactRootContainer=null,t[oi]=null})}),!0):!1};Kt.unstable_batchedUpdates=Lm;Kt.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Vh(n))throw Error(C(200));if(t==null||t._reactInternals===void 0)throw Error(C(38));return jh(t,e,n,!1,i)};Kt.version="18.2.0-next-9e3b772b8-20220608";function Hb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Hb)}catch(t){console.error(t)}}Hb(),U1.exports=Kt;var _R=U1.exports,Yv=_R;rp.createRoot=Yv.createRoot,rp.hydrateRoot=Yv.hydrateRoot;/**
 * @remix-run/router v1.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ga(){return Ga=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ga.apply(this,arguments)}var Ri;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ri||(Ri={}));const Xv="popstate";function yR(t){t===void 0&&(t={});function e(i,r){let{pathname:s,search:o,hash:a}=i.location;return Xp("",{pathname:s,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:Ou(r)}return wR(e,n,null,t)}function Ue(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Hm(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function vR(){return Math.random().toString(36).substr(2,8)}function Jv(t,e){return{usr:t.state,key:t.key,idx:e}}function Xp(t,e,n,i){return n===void 0&&(n=null),Ga({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?fo(e):e,{state:n,key:e&&e.key||i||vR()})}function Ou(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function fo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function wR(t,e,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a=Ri.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Ga({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function h(){a=Ri.Pop;let w=u(),m=w==null?null:w-c;c=w,l&&l({action:a,location:y.location,delta:m})}function d(w,m){a=Ri.Push;let _=Xp(y.location,w,m);n&&n(_,w),c=u()+1;let v=Jv(_,c),x=y.createHref(_);try{o.pushState(v,"",x)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;r.location.assign(x)}s&&l&&l({action:a,location:y.location,delta:1})}function p(w,m){a=Ri.Replace;let _=Xp(y.location,w,m);n&&n(_,w),c=u();let v=Jv(_,c),x=y.createHref(_);o.replaceState(v,"",x),s&&l&&l({action:a,location:y.location,delta:0})}function g(w){let m=r.location.origin!=="null"?r.location.origin:r.location.href,_=typeof w=="string"?w:Ou(w);return Ue(m,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,m)}let y={get action(){return a},get location(){return t(r,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(Xv,h),l=w,()=>{r.removeEventListener(Xv,h),l=null}},createHref(w){return e(r,w)},createURL:g,encodeLocation(w){let m=g(w);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:d,replace:p,go(w){return o.go(w)}};return y}var Zv;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Zv||(Zv={}));function xR(t,e,n){n===void 0&&(n="/");let i=typeof e=="string"?fo(e):e,r=Wm(i.pathname||"/",n);if(r==null)return null;let s=Wb(t);ER(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=RR(s[a],DR(r));return o}function Wb(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let r=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Ue(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let c=Ui([i,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(Ue(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Wb(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:CR(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))r(s,o);else for(let l of qb(s.path))r(s,o,l)}),e}function qb(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=qb(i.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),r&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function ER(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:PR(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const bR=/^:\w+$/,TR=3,SR=2,IR=1,kR=10,AR=-2,e0=t=>t==="*";function CR(t,e){let n=t.split("/"),i=n.length;return n.some(e0)&&(i+=AR),e&&(i+=SR),n.filter(r=>!e0(r)).reduce((r,s)=>r+(bR.test(s)?TR:s===""?IR:kR),i)}function PR(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function RR(t,e){let{routesMeta:n}=t,i={},r="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,c=r==="/"?e:e.slice(r.length)||"/",u=NR({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(i,u.params);let h=a.route;s.push({params:i,pathname:Ui([r,u.pathname]),pathnameBase:jR(Ui([r,u.pathnameBase])),route:h}),u.pathnameBase!=="/"&&(r=Ui([r,u.pathnameBase]))}return s}function NR(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=OR(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((c,u,h)=>{if(u==="*"){let d=a[h]||"";o=s.slice(0,s.length-d.length).replace(/(.)\/+$/,"$1")}return c[u]=MR(a[h]||"",u),c},{}),pathname:s,pathnameBase:o,pattern:t}}function OR(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Hm(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(i.push(a),"/([^\\/]+)"));return t.endsWith("*")?(i.push("*"),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function DR(t){try{return decodeURI(t)}catch(e){return Hm(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function MR(t,e){try{return decodeURIComponent(t)}catch(n){return Hm(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Wm(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function LR(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?fo(t):t;return{pathname:n?n.startsWith("/")?n:VR(n,e):e,search:$R(i),hash:FR(r)}}function VR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function xf(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Gb(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Kb(t,e,n,i){i===void 0&&(i=!1);let r;typeof t=="string"?r=fo(t):(r=Ga({},t),Ue(!r.pathname||!r.pathname.includes("?"),xf("?","pathname","search",r)),Ue(!r.pathname||!r.pathname.includes("#"),xf("#","pathname","hash",r)),Ue(!r.search||!r.search.includes("#"),xf("#","search","hash",r)));let s=t===""||r.pathname==="",o=s?"/":r.pathname,a;if(i||o==null)a=n;else{let h=e.length-1;if(o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),h-=1;r.pathname=d.join("/")}a=h>=0?e[h]:"/"}let l=LR(r,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Ui=t=>t.join("/").replace(/\/\/+/g,"/"),jR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),$R=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,FR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function BR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Qb=["post","put","patch","delete"];new Set(Qb);const UR=["get",...Qb];new Set(UR);/**
 * React Router v6.17.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Du(){return Du=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Du.apply(this,arguments)}const qm=b.createContext(null),zR=b.createContext(null),po=b.createContext(null),$h=b.createContext(null),Zr=b.createContext({outlet:null,matches:[],isDataRoute:!1}),Yb=b.createContext(null);function HR(t,e){let{relative:n}=e===void 0?{}:e;El()||Ue(!1);let{basename:i,navigator:r}=b.useContext(po),{hash:s,pathname:o,search:a}=Jb(t,{relative:n}),l=o;return i!=="/"&&(l=o==="/"?i:Ui([i,o])),r.createHref({pathname:l,search:a,hash:s})}function El(){return b.useContext($h)!=null}function Fh(){return El()||Ue(!1),b.useContext($h).location}function Xb(t){b.useContext(po).static||b.useLayoutEffect(t)}function cn(){let{isDataRoute:t}=b.useContext(Zr);return t?iN():WR()}function WR(){El()||Ue(!1);let t=b.useContext(qm),{basename:e,navigator:n}=b.useContext(po),{matches:i}=b.useContext(Zr),{pathname:r}=Fh(),s=JSON.stringify(Gb(i).map(l=>l.pathnameBase)),o=b.useRef(!1);return Xb(()=>{o.current=!0}),b.useCallback(function(l,c){if(c===void 0&&(c={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let u=Kb(l,JSON.parse(s),r,c.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:Ui([e,u.pathname])),(c.replace?n.replace:n.push)(u,c.state,c)},[e,n,s,r,t])}function Jb(t,e){let{relative:n}=e===void 0?{}:e,{matches:i}=b.useContext(Zr),{pathname:r}=Fh(),s=JSON.stringify(Gb(i).map(o=>o.pathnameBase));return b.useMemo(()=>Kb(t,JSON.parse(s),r,n==="path"),[t,s,r,n])}function qR(t,e){return GR(t,e)}function GR(t,e,n){El()||Ue(!1);let{navigator:i}=b.useContext(po),{matches:r}=b.useContext(Zr),s=r[r.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=Fh(),c;if(e){var u;let y=typeof e=="string"?fo(e):e;a==="/"||(u=y.pathname)!=null&&u.startsWith(a)||Ue(!1),c=y}else c=l;let h=c.pathname||"/",d=a==="/"?h:h.slice(a.length)||"/",p=xR(t,{pathname:d}),g=JR(p&&p.map(y=>Object.assign({},y,{params:Object.assign({},o,y.params),pathname:Ui([a,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?a:Ui([a,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),r,n);return e&&g?b.createElement($h.Provider,{value:{location:Du({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Ri.Pop}},g):g}function KR(){let t=nN(),e=BR(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:r},n):null,s)}const QR=b.createElement(KR,null);class YR extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?b.createElement(Zr.Provider,{value:this.props.routeContext},b.createElement(Yb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function XR(t){let{routeContext:e,match:n,children:i}=t,r=b.useContext(qm);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(Zr.Provider,{value:e},i)}function JR(t,e,n){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var r;if((r=n)!=null&&r.errors)t=n.matches;else return null}let s=t,o=(i=n)==null?void 0:i.errors;if(o!=null){let a=s.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||Ue(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,c)=>{let u=l.route.id?o==null?void 0:o[l.route.id]:null,h=null;n&&(h=l.route.errorElement||QR);let d=e.concat(s.slice(0,c+1)),p=()=>{let g;return u?g=h:l.route.Component?g=b.createElement(l.route.Component,null):l.route.element?g=l.route.element:g=a,b.createElement(XR,{match:l,routeContext:{outlet:a,matches:d,isDataRoute:n!=null},children:g})};return n&&(l.route.ErrorBoundary||l.route.errorElement||c===0)?b.createElement(YR,{location:n.location,revalidation:n.revalidation,component:h,error:u,children:p(),routeContext:{outlet:null,matches:d,isDataRoute:!0}}):p()},null)}var Zb=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Zb||{}),Mu=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Mu||{});function ZR(t){let e=b.useContext(qm);return e||Ue(!1),e}function eN(t){let e=b.useContext(zR);return e||Ue(!1),e}function tN(t){let e=b.useContext(Zr);return e||Ue(!1),e}function eT(t){let e=tN(),n=e.matches[e.matches.length-1];return n.route.id||Ue(!1),n.route.id}function nN(){var t;let e=b.useContext(Yb),n=eN(Mu.UseRouteError),i=eT(Mu.UseRouteError);return e||((t=n.errors)==null?void 0:t[i])}function iN(){let{router:t}=ZR(Zb.UseNavigateStable),e=eT(Mu.UseNavigateStable),n=b.useRef(!1);return Xb(()=>{n.current=!0}),b.useCallback(function(r,s){s===void 0&&(s={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,Du({fromRouteId:e},s)))},[t,e])}function $t(t){Ue(!1)}function rN(t){let{basename:e="/",children:n=null,location:i,navigationType:r=Ri.Pop,navigator:s,static:o=!1}=t;El()&&Ue(!1);let a=e.replace(/^\/*/,"/"),l=b.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof i=="string"&&(i=fo(i));let{pathname:c="/",search:u="",hash:h="",state:d=null,key:p="default"}=i,g=b.useMemo(()=>{let y=Wm(c,a);return y==null?null:{location:{pathname:y,search:u,hash:h,state:d,key:p},navigationType:r}},[a,c,u,h,d,p,r]);return g==null?null:b.createElement(po.Provider,{value:l},b.createElement($h.Provider,{children:n,value:g}))}function sN(t){let{children:e,location:n}=t;return qR(Jp(e),n)}new Promise(()=>{});function Jp(t,e){e===void 0&&(e=[]);let n=[];return b.Children.forEach(t,(i,r)=>{if(!b.isValidElement(i))return;let s=[...e,r];if(i.type===b.Fragment){n.push.apply(n,Jp(i.props.children,s));return}i.type!==$t&&Ue(!1),!i.props.index||!i.props.children||Ue(!1);let o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=Jp(i.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.17.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zp(){return Zp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Zp.apply(this,arguments)}function oN(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function aN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function lN(t,e){return t.button===0&&(!e||e==="_self")&&!aN(t)}const cN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],uN="startTransition",t0=aC[uN];function hN(t){let{basename:e,children:n,future:i,window:r}=t,s=b.useRef();s.current==null&&(s.current=yR({window:r,v5Compat:!0}));let o=s.current,[a,l]=b.useState({action:o.action,location:o.location}),{v7_startTransition:c}=i||{},u=b.useCallback(h=>{c&&t0?t0(()=>l(h)):l(h)},[l,c]);return b.useLayoutEffect(()=>o.listen(u),[o,u]),b.createElement(rN,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o})}const dN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fn=b.forwardRef(function(e,n){let{onClick:i,relative:r,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,unstable_viewTransition:h}=e,d=oN(e,cN),{basename:p}=b.useContext(po),g,y=!1;if(typeof c=="string"&&fN.test(c)&&(g=c,dN))try{let v=new URL(window.location.href),x=c.startsWith("//")?new URL(v.protocol+c):new URL(c),E=Wm(x.pathname,p);x.origin===v.origin&&E!=null?c=E+x.search+x.hash:y=!0}catch{}let w=HR(c,{relative:r}),m=pN(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:r,unstable_viewTransition:h});function _(v){i&&i(v),v.defaultPrevented||m(v)}return b.createElement("a",Zp({},d,{href:g||w,onClick:y||s?i:_,ref:n,target:l}))});var n0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(n0||(n0={}));var i0;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(i0||(i0={}));function pN(t,e){let{target:n,replace:i,state:r,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=cn(),c=Fh(),u=Jb(t,{relative:o});return b.useCallback(h=>{if(lN(h,n)){h.preventDefault();let d=i!==void 0?i:Ou(c)===Ou(u);l(t,{replace:d,state:r,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[c,l,u,i,r,n,t,s,o,a])}const pi=()=>{const t=cn(),e=()=>{t("/home")};return f.jsx("div",{className:"button-container",children:f.jsx("button",{className:"btn",onClick:e,children:"Back To Home"})})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},gN=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=t[n++],o=t[n++],a=t[n++],l=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},nT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const s=t[r],o=r+1<t.length,a=o?t[r+1]:0,l=r+2<t.length,c=l?t[r+2]:0,u=s>>2,h=(s&3)<<4|a>>4;let d=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(d=64)),i.push(n[u],n[h],n[d],n[p])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(tT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):gN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const s=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;const c=r<t.length?n[t.charAt(r)]:64;++r;const h=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||a==null||c==null||h==null)throw new mN;const d=s<<2|a>>4;if(i.push(d),c!==64){const p=a<<4&240|c>>2;if(i.push(p),h!==64){const g=c<<6&192|h;i.push(g)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class mN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _N=function(t){const e=tT(t);return nT.encodeByteArray(e,!0)},Lu=function(t){return _N(t).replace(/\./g,"")},iT=function(t){try{return nT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN=()=>yN().__FIREBASE_DEFAULTS__,wN=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},xN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&iT(t[1]);return e&&JSON.parse(e)},Bh=()=>{try{return vN()||wN()||xN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},rT=t=>{var e,n;return(n=(e=Bh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},sT=t=>{const e=rT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},oT=()=>{var t;return(t=Bh())===null||t===void 0?void 0:t.config},aT=t=>{var e;return(e=Bh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Lu(JSON.stringify(n)),Lu(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wt())}function TN(){var t;const e=(t=Bh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function SN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function IN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kN(){const t=wt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function AN(){try{return typeof indexedDB=="object"}catch{return!1}}function CN(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN="FirebaseError";class Un extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=PN,Object.setPrototypeOf(this,Un.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bl.prototype.create)}}class bl{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?RN(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new Un(r,a,i)}}function RN(t,e){return t.replace(NN,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const NN=/\{\$([^}]+)}/g;function ON(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Vu(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const s=t[r],o=e[r];if(r0(s)&&r0(o)){if(!Vu(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function r0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tl(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Zo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function ea(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function DN(t,e){const n=new MN(t,e);return n.subscribe.bind(n)}class MN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");LN(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=Ef),r.error===void 0&&(r.error=Ef),r.complete===void 0&&(r.complete=Ef);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function LN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ef(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(t){return t&&t._delegate?t._delegate:t}class Yi{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new EN;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($N(e))try{this.getOrInitializeService({instanceIdentifier:mr})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=mr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=mr){return this.instances.has(e)}getOptions(e=mr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:jN(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=mr){return this.component?this.component.multipleInstances?e:mr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jN(t){return t===mr?void 0:t}function $N(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new VN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ee;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ee||(ee={}));const BN={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},UN=ee.INFO,zN={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},HN=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=zN[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Gm{constructor(e){this.name=e,this._logLevel=UN,this._logHandler=HN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?BN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...e),this._logHandler(this,ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...e),this._logHandler(this,ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...e),this._logHandler(this,ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...e),this._logHandler(this,ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...e),this._logHandler(this,ee.ERROR,...e)}}const WN=(t,e)=>e.some(n=>t instanceof n);let s0,o0;function qN(){return s0||(s0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function GN(){return o0||(o0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cT=new WeakMap,eg=new WeakMap,uT=new WeakMap,bf=new WeakMap,Km=new WeakMap;function KN(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(zi(t.result)),r()},o=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&cT.set(n,t)}).catch(()=>{}),Km.set(e,t),e}function QN(t){if(eg.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});eg.set(t,e)}let tg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return eg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||uT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function YN(t){tg=t(tg)}function XN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Tf(this),e,...n);return uT.set(i,e.sort?e.sort():[e]),zi(i)}:GN().includes(t)?function(...e){return t.apply(Tf(this),e),zi(cT.get(this))}:function(...e){return zi(t.apply(Tf(this),e))}}function JN(t){return typeof t=="function"?XN(t):(t instanceof IDBTransaction&&QN(t),WN(t,qN())?new Proxy(t,tg):t)}function zi(t){if(t instanceof IDBRequest)return KN(t);if(bf.has(t))return bf.get(t);const e=JN(t);return e!==t&&(bf.set(t,e),Km.set(e,t)),e}const Tf=t=>Km.get(t);function ZN(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(t,e),a=zi(o);return i&&o.addEventListener("upgradeneeded",l=>{i(zi(o.result),l.oldVersion,l.newVersion,zi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const eO=["get","getKey","getAll","getAllKeys","count"],tO=["put","add","delete","clear"],Sf=new Map;function a0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Sf.get(e))return Sf.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=tO.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||eO.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),r&&l.done]))[0]};return Sf.set(e,s),s}YN(t=>({...t,get:(e,n,i)=>a0(e,n)||t.get(e,n,i),has:(e,n)=>!!a0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(iO(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function iO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ng="@firebase/app",l0="0.9.22";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r=new Gm("@firebase/app"),rO="@firebase/app-compat",sO="@firebase/analytics-compat",oO="@firebase/analytics",aO="@firebase/app-check-compat",lO="@firebase/app-check",cO="@firebase/auth",uO="@firebase/auth-compat",hO="@firebase/database",dO="@firebase/database-compat",fO="@firebase/functions",pO="@firebase/functions-compat",gO="@firebase/installations",mO="@firebase/installations-compat",_O="@firebase/messaging",yO="@firebase/messaging-compat",vO="@firebase/performance",wO="@firebase/performance-compat",xO="@firebase/remote-config",EO="@firebase/remote-config-compat",bO="@firebase/storage",TO="@firebase/storage-compat",SO="@firebase/firestore",IO="@firebase/firestore-compat",kO="firebase",AO="10.5.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig="[DEFAULT]",CO={[ng]:"fire-core",[rO]:"fire-core-compat",[oO]:"fire-analytics",[sO]:"fire-analytics-compat",[lO]:"fire-app-check",[aO]:"fire-app-check-compat",[cO]:"fire-auth",[uO]:"fire-auth-compat",[hO]:"fire-rtdb",[dO]:"fire-rtdb-compat",[fO]:"fire-fn",[pO]:"fire-fn-compat",[gO]:"fire-iid",[mO]:"fire-iid-compat",[_O]:"fire-fcm",[yO]:"fire-fcm-compat",[vO]:"fire-perf",[wO]:"fire-perf-compat",[xO]:"fire-rc",[EO]:"fire-rc-compat",[bO]:"fire-gcs",[TO]:"fire-gcs-compat",[SO]:"fire-fst",[IO]:"fire-fst-compat","fire-js":"fire-js",[kO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ju=new Map,rg=new Map;function PO(t,e){try{t.container.addComponent(e)}catch(n){$r.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Fr(t){const e=t.name;if(rg.has(e))return $r.debug(`There were multiple attempts to register component ${e}.`),!1;rg.set(e,t);for(const n of ju.values())PO(n,t);return!0}function Uh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Hi=new bl("app","Firebase",RO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Yi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es=AO;function hT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:ig,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw Hi.create("bad-app-name",{appName:String(r)});if(n||(n=oT()),!n)throw Hi.create("no-options");const s=ju.get(r);if(s){if(Vu(n,s.options)&&Vu(i,s.config))return s;throw Hi.create("duplicate-app",{appName:r})}const o=new FN(r);for(const l of rg.values())o.addComponent(l);const a=new NO(n,i,o);return ju.set(r,a),a}function Qm(t=ig){const e=ju.get(t);if(!e&&t===ig&&oT())return hT();if(!e)throw Hi.create("no-app",{appName:t});return e}function On(t,e,n){var i;let r=(i=CO[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$r.warn(a.join(" "));return}Fr(new Yi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO="firebase-heartbeat-database",DO=1,Ka="firebase-heartbeat-store";let If=null;function dT(){return If||(If=ZN(OO,DO,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ka)}}}).catch(t=>{throw Hi.create("idb-open",{originalErrorMessage:t.message})})),If}async function MO(t){try{return await(await dT()).transaction(Ka).objectStore(Ka).get(fT(t))}catch(e){if(e instanceof Un)$r.warn(e.message);else{const n=Hi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$r.warn(n.message)}}}async function c0(t,e){try{const i=(await dT()).transaction(Ka,"readwrite");await i.objectStore(Ka).put(e,fT(t)),await i.done}catch(n){if(n instanceof Un)$r.warn(n.message);else{const i=Hi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});$r.warn(i.message)}}}function fT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO=1024,VO=30*24*60*60*1e3;class jO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new FO(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=u0();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(r=>{const s=new Date(r.date).valueOf();return Date.now()-s<=VO}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=u0(),{heartbeatsToSend:n,unsentEntries:i}=$O(this._heartbeatsCache.heartbeats),r=Lu(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function u0(){return new Date().toISOString().substring(0,10)}function $O(t,e=LO){const n=[];let i=t.slice();for(const r of t){const s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),h0(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),h0(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class FO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return AN()?CN().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await MO(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return c0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return c0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function h0(t){return Lu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BO(t){Fr(new Yi("platform-logger",e=>new nO(e),"PRIVATE")),Fr(new Yi("heartbeat",e=>new jO(e),"PRIVATE")),On(ng,l0,t),On(ng,l0,"esm2017"),On("fire-js","")}BO("");var UO="firebase",zO="10.5.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */On(UO,zO,"app");function Ym(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function pT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const HO=pT,gT=new bl("auth","Firebase",pT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $u=new Gm("@firebase/auth");function WO(t,...e){$u.logLevel<=ee.WARN&&$u.warn(`Auth (${es}): ${t}`,...e)}function eu(t,...e){$u.logLevel<=ee.ERROR&&$u.error(`Auth (${es}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(t,...e){throw Xm(t,...e)}function Dn(t,...e){return Xm(t,...e)}function qO(t,e,n){const i=Object.assign(Object.assign({},HO()),{[e]:n});return new bl("auth","Firebase",i).create(e,{appName:t.name})}function Xm(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return gT.create(t,...e)}function U(t,e,...n){if(!t)throw Xm(e,...n)}function Jn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw eu(e),new Error(e)}function ci(t,e){t||Jn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function GO(){return d0()==="http:"||d0()==="https:"}function d0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(GO()||SN()||"connection"in navigator)?navigator.onLine:!0}function QO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e,n){this.shortDelay=e,this.longDelay=n,ci(n>e,"Short delay should be less than long delay!"),this.isMobile=bN()||IN()}get(){return KO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(t,e){ci(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Jn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Jn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Jn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO=new Sl(3e4,6e4);function ts(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ns(t,e,n,i,r={}){return _T(t,r,async()=>{let s={},o={};i&&(e==="GET"?o=i:s={body:JSON.stringify(i)});const a=Tl(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),mT.fetch()(yT(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function _T(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},YO),e);try{const r=new ZO(t),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw mc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw mc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw mc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw mc(t,"user-disabled",o);const u=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw qO(t,u,c);vn(t,u)}}catch(r){if(r instanceof Un)throw r;vn(t,"network-request-failed",{message:String(r)})}}async function Il(t,e,n,i,r={}){const s=await ns(t,e,n,i,r);return"mfaPendingCredential"in s&&vn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function yT(t,e,n,i){const r=`${e}${n}?${i}`;return t.config.emulator?Jm(t.config,r):`${t.config.apiScheme}://${r}`}function JO(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ZO{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Dn(this.auth,"network-request-failed")),XO.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function mc(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=Dn(t,e,i);return r.customData._tokenResponse=n,r}function f0(t){return t!==void 0&&t.enterprise!==void 0}class eD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return JO(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function tD(t,e){return ns(t,"GET","/v2/recaptchaConfig",ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nD(t,e){return ns(t,"POST","/v1/accounts:delete",e)}async function iD(t,e){return ns(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ya(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function rD(t,e=!1){const n=Oe(t),i=await n.getIdToken(e),r=Zm(i);U(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:ya(kf(r.auth_time)),issuedAtTime:ya(kf(r.iat)),expirationTime:ya(kf(r.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function kf(t){return Number(t)*1e3}function Zm(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return eu("JWT malformed, contained fewer than 3 sections"),null;try{const r=iT(n);return r?JSON.parse(r):(eu("Failed to decode base64 JWT payload"),null)}catch(r){return eu("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function sD(t){const e=Zm(t);return U(e,"internal-error"),U(typeof e.exp<"u","internal-error"),U(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qa(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Un&&oD(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function oD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ya(this.lastLoginAt),this.creationTime=ya(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fu(t){var e;const n=t.auth,i=await t.getIdToken(),r=await Qa(t,iD(n,{idToken:i}));U(r==null?void 0:r.users.length,n,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?uD(s.providerUserInfo):[],a=cD(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new vT(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function lD(t){const e=Oe(t);await Fu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function cD(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function uD(t){return t.map(e=>{var{providerId:n}=e,i=Ym(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hD(t,e){const n=await _T(t,{},async()=>{const i=Tl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,o=yT(t,r,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",mT.fetch()(o,{method:"POST",headers:a,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){U(e.idToken,"internal-error"),U(typeof e.idToken<"u","internal-error"),U(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):sD(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return U(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await hD(e,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,o=new Ya;return i&&(U(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),r&&(U(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(U(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ya,this.toJSON())}_performRefresh(){return Jn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(t,e){U(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Pr{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,s=Ym(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new aD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new vT(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Qa(this,this.stsTokenManager.getToken(this.auth,e));return U(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return rD(this,e)}reload(){return lD(this)}_assign(e){this!==e&&(U(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Pr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){U(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Fu(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Qa(this,nD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,s,o,a,l,c,u;const h=(i=n.displayName)!==null&&i!==void 0?i:void 0,d=(r=n.email)!==null&&r!==void 0?r:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,m=(c=n.createdAt)!==null&&c!==void 0?c:void 0,_=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:v,emailVerified:x,isAnonymous:E,providerData:T,stsTokenManager:S}=n;U(v&&S,e,"internal-error");const I=Ya.fromJSON(this.name,S);U(typeof v=="string",e,"internal-error"),yi(h,e.name),yi(d,e.name),U(typeof x=="boolean",e,"internal-error"),U(typeof E=="boolean",e,"internal-error"),yi(p,e.name),yi(g,e.name),yi(y,e.name),yi(w,e.name),yi(m,e.name),yi(_,e.name);const P=new Pr({uid:v,auth:e,email:d,emailVerified:x,displayName:h,isAnonymous:E,photoURL:g,phoneNumber:p,tenantId:y,stsTokenManager:I,createdAt:m,lastLoginAt:_});return T&&Array.isArray(T)&&(P.providerData=T.map(N=>Object.assign({},N))),w&&(P._redirectEventId=w),P}static async _fromIdTokenResponse(e,n,i=!1){const r=new Ya;r.updateFromServerResponse(n);const s=new Pr({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await Fu(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0=new Map;function Zn(t){ci(t instanceof Function,"Expected a class definition");let e=p0.get(t);return e?(ci(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,p0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}wT.type="NONE";const g0=wT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tu(t,e,n){return`firebase:${t}:${e}:${n}`}class js{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=tu(this.userKey,r.apiKey,s),this.fullPersistenceKey=tu("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Pr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new js(Zn(g0),e,i);const r=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=r[0]||Zn(g0);const o=tu(i,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const h=Pr._fromJSON(e,u);c!==s&&(a=h),s=c;break}}catch{}const l=r.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new js(s,e,i):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new js(s,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(xT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ST(e))return"Blackberry";if(IT(e))return"Webos";if(e_(e))return"Safari";if((e.includes("chrome/")||ET(e))&&!e.includes("edge/"))return"Chrome";if(TT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function xT(t=wt()){return/firefox\//i.test(t)}function e_(t=wt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ET(t=wt()){return/crios\//i.test(t)}function bT(t=wt()){return/iemobile/i.test(t)}function TT(t=wt()){return/android/i.test(t)}function ST(t=wt()){return/blackberry/i.test(t)}function IT(t=wt()){return/webos/i.test(t)}function zh(t=wt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function dD(t=wt()){var e;return zh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function fD(){return kN()&&document.documentMode===10}function kT(t=wt()){return zh(t)||TT(t)||IT(t)||ST(t)||/windows phone/i.test(t)||bT(t)}function pD(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(t,e=[]){let n;switch(t){case"Browser":n=m0(wt());break;case"Worker":n=`${m0(wt())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${es}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mD(t,e={}){return ns(t,"GET","/v2/passwordPolicy",ts(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D=6;class yD{constructor(e){var n,i,r,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:_D,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _0(this),this.idTokenSubscription=new _0(this),this.beforeStateQueue=new gD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Zn(n)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await js.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return U(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Fu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=QO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Oe(e):null;return n&&U(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&U(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Zn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await mD(this),n=new yD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new bl("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Zn(e)||this._popupRedirectResolver;U(n,this,"argument-error"),this.redirectPersistenceManager=await js.create(this,[Zn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(U(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,i,r);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return U(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=AT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&WO(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function is(t){return Oe(t)}class _0{constructor(e){this.auth=e,this.observer=null,this.addObserver=DN(n=>this.observer=n)}get next(){return U(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function CT(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const s=Dn("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",wD().appendChild(i)})}function xD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const ED="https://www.google.com/recaptcha/enterprise.js?render=",bD="recaptcha-enterprise",TD="NO_RECAPTCHA";class SD{constructor(e){this.type=bD,this.auth=is(e)}async verify(e="verify",n=!1){async function i(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{tD(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new eD(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function r(s,o,a){const l=window.grecaptcha;f0(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(TD)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{i(this.auth).then(a=>{if(!n&&f0(window.grecaptcha))r(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}CT(ED+a).then(()=>{r(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function y0(t,e,n,i=!1){const r=new SD(t);let s;try{s=await r.verify(n)}catch{s=await r.verify(n,!0)}const o=Object.assign({},e);return i?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function PT(t,e,n,i){var r;if(!((r=t._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await y0(t,e,n,n==="getOobCode");return i(t,s)}else return i(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await y0(t,e,n,n==="getOobCode");return i(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(t,e){const n=Uh(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(Vu(s,e??{}))return r;vn(r,"already-initialized")}return n.initialize({options:e})}function kD(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Zn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function AD(t,e,n){const i=is(t);U(i._canInitEmulator,i,"emulator-config-failed"),U(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!!(n!=null&&n.disableWarnings),s=RT(e),{host:o,port:a}=CD(e),l=a===null?"":`:${a}`;i.config.emulator={url:`${s}//${o}${l}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||PD()}function RT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function CD(t){const e=RT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:v0(i.substr(s.length+1))}}else{const[s,o]=i.split(":");return{host:s,port:v0(o)}}}function v0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function PD(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Jn("not implemented")}_getIdTokenResponse(e){return Jn("not implemented")}_linkToIdToken(e,n){return Jn("not implemented")}_getReauthenticationResolver(e){return Jn("not implemented")}}async function RD(t,e){return ns(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ND(t,e){return Il(t,"POST","/v1/accounts:signInWithPassword",ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OD(t,e){return Il(t,"POST","/v1/accounts:signInWithEmailLink",ts(t,e))}async function DD(t,e){return Il(t,"POST","/v1/accounts:signInWithEmailLink",ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa extends t_{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new Xa(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Xa(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return PT(e,n,"signInWithPassword",ND);case"emailLink":return OD(e,{email:this._email,oobCode:this._password});default:vn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return RD(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return DD(e,{idToken:n,email:this._email,oobCode:this._password});default:vn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $s(t,e){return Il(t,"POST","/v1/accounts:signInWithIdp",ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD="http://localhost";class Br extends t_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Br(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):vn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=n,s=Ym(n,["providerId","signInMethod"]);if(!i||!r)return null;const o=new Br(i,r);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return $s(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,$s(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,$s(e,n)}buildRequest(){const e={requestUri:MD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Tl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LD(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function VD(t){const e=Zo(ea(t)).link,n=e?Zo(ea(e)).deep_link_id:null,i=Zo(ea(t)).deep_link_id;return(i?Zo(ea(i)).link:null)||i||n||e||t}class n_{constructor(e){var n,i,r,s,o,a;const l=Zo(ea(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(i=l.oobCode)!==null&&i!==void 0?i:null,h=LD((r=l.mode)!==null&&r!==void 0?r:null);U(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=VD(e);try{return new n_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(){this.providerId=go.PROVIDER_ID}static credential(e,n){return Xa._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=n_.parseLink(n);return U(i,"argument-error"),Xa._fromEmailAndCode(e,i.code,i.tenantId)}}go.PROVIDER_ID="password";go.EMAIL_PASSWORD_SIGN_IN_METHOD="password";go.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl extends NT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti extends kl{constructor(){super("facebook.com")}static credential(e){return Br._fromParams({providerId:Ti.PROVIDER_ID,signInMethod:Ti.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ti.credentialFromTaggedObject(e)}static credentialFromError(e){return Ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ti.credential(e.oauthAccessToken)}catch{return null}}}Ti.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ti.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si extends kl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Br._fromParams({providerId:Si.PROVIDER_ID,signInMethod:Si.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Si.credentialFromTaggedObject(e)}static credentialFromError(e){return Si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Si.credential(n,i)}catch{return null}}}Si.GOOGLE_SIGN_IN_METHOD="google.com";Si.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii extends kl{constructor(){super("github.com")}static credential(e){return Br._fromParams({providerId:Ii.PROVIDER_ID,signInMethod:Ii.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ii.credentialFromTaggedObject(e)}static credentialFromError(e){return Ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ii.credential(e.oauthAccessToken)}catch{return null}}}Ii.GITHUB_SIGN_IN_METHOD="github.com";Ii.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki extends kl{constructor(){super("twitter.com")}static credential(e,n){return Br._fromParams({providerId:ki.PROVIDER_ID,signInMethod:ki.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ki.credentialFromTaggedObject(e)}static credentialFromError(e){return ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return ki.credential(n,i)}catch{return null}}}ki.TWITTER_SIGN_IN_METHOD="twitter.com";ki.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jD(t,e){return Il(t,"POST","/v1/accounts:signUp",ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const s=await Pr._fromIdTokenResponse(e,i,r),o=w0(i);return new Ur({user:s,providerId:o,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=w0(i);return new Ur({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function w0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu extends Un{constructor(e,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Bu.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new Bu(e,n,i,r)}}function OT(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Bu._fromErrorAndOperation(t,s,e,i):s})}async function $D(t,e,n=!1){const i=await Qa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ur._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FD(t,e,n=!1){const{auth:i}=t,r="reauthenticate";try{const s=await Qa(t,OT(i,r,e,t),n);U(s.idToken,i,"internal-error");const o=Zm(s.idToken);U(o,i,"internal-error");const{sub:a}=o;return U(t.uid===a,i,"user-mismatch"),Ur._forOperation(t,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&vn(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DT(t,e,n=!1){const i="signIn",r=await OT(t,i,e),s=await Ur._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(s.user),s}async function BD(t,e){return DT(is(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MT(t){const e=is(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function UD(t,e,n){const i=is(t),o=await PT(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",jD).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&MT(t),l}),a=await Ur._fromIdTokenResponse(i,"signIn",o);return await i._updateCurrentUser(a.user),a}function zD(t,e,n){return BD(Oe(t),go.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&MT(t),i})}function HD(t,e,n,i){return Oe(t).onIdTokenChanged(e,n,i)}function WD(t,e,n){return Oe(t).beforeAuthStateChanged(e,n)}function qD(t,e,n,i){return Oe(t).onAuthStateChanged(e,n,i)}function GD(t){return Oe(t).signOut()}const Uu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Uu,"1"),this.storage.removeItem(Uu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KD(){const t=wt();return e_(t)||zh(t)}const QD=1e3,YD=10;class VT extends LT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=KD()&&pD(),this.fallbackToPolling=kT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const i=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(i);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(i,e.newValue):this.storage.removeItem(i);else if(this.localCache[i]===e.newValue&&!n)return}const r=()=>{const o=this.storage.getItem(i);!n&&this.localCache[i]===o||this.notifyListeners(i,o)},s=this.storage.getItem(i);fD()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,YD):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},QD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}VT.type="LOCAL";const XD=VT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT extends LT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}jT.type="SESSION";const $T=jT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new Hh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:s}=n.data,o=this.handlersMap[r];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await JD(a);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i_(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=i_("",20);r.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(h){const d=h;if(d.data.eventId===c)switch(d.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(d.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(){return window}function eM(t){Mn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(){return typeof Mn().WorkerGlobalScope<"u"&&typeof Mn().importScripts=="function"}async function tM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function iM(){return FT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT="firebaseLocalStorageDb",rM=1,zu="firebaseLocalStorage",UT="fbase_key";class Al{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Wh(t,e){return t.transaction([zu],e?"readwrite":"readonly").objectStore(zu)}function sM(){const t=indexedDB.deleteDatabase(BT);return new Al(t).toPromise()}function og(){const t=indexedDB.open(BT,rM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(zu,{keyPath:UT})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(zu)?e(i):(i.close(),await sM(),e(await og()))})})}async function x0(t,e,n){const i=Wh(t,!0).put({[UT]:e,value:n});return new Al(i).toPromise()}async function oM(t,e){const n=Wh(t,!1).get(e),i=await new Al(n).toPromise();return i===void 0?null:i.value}function E0(t,e){const n=Wh(t,!0).delete(e);return new Al(n).toPromise()}const aM=800,lM=3;class zT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await og(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>lM)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return FT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hh._getInstance(iM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await tM(),!this.activeServiceWorker)return;this.sender=new ZD(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||nM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await og();return await x0(e,Uu,"1"),await E0(e,Uu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>x0(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>oM(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>E0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=Wh(r,!1).getAll();return new Al(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;for(const{fbase_key:r,value:s}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}zT.type="LOCAL";const cM=zT;new Sl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uM(t,e){return e?Zn(e):(U(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_ extends t_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $s(e,this._buildIdpRequest())}_linkToIdToken(e,n){return $s(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return $s(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function hM(t){return DT(t.auth,new r_(t),t.bypassAuthState)}function dM(t){const{auth:e,user:n}=t;return U(n,e,"internal-error"),FD(n,new r_(t),t.bypassAuthState)}async function fM(t){const{auth:e,user:n}=t;return U(n,e,"internal-error"),$D(n,new r_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e,n,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hM;case"linkViaPopup":case"linkViaRedirect":return fM;case"reauthViaPopup":case"reauthViaRedirect":return dM;default:vn(this.auth,"internal-error")}}resolve(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM=new Sl(2e3,1e4);class Cs extends HT{constructor(e,n,i,r,s){super(e,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,Cs.currentPopupAction&&Cs.currentPopupAction.cancel(),Cs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return U(e,this.auth,"internal-error"),e}async onExecution(){ci(this.filter.length===1,"Popup operations only handle one event");const e=i_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Dn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Dn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Cs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Dn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,pM.get())};e()}}Cs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gM="pendingRedirect",nu=new Map;class mM extends HT{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=nu.get(this.auth._key());if(!e){try{const i=await _M(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}nu.set(this.auth._key(),e)}return this.bypassAuthState||nu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _M(t,e){const n=wM(e),i=vM(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function yM(t,e){nu.set(t._key(),e)}function vM(t){return Zn(t._redirectPersistence)}function wM(t){return tu(gM,t.config.apiKey,t.name)}async function xM(t,e,n=!1){const i=is(t),r=uM(i,e),o=await new mM(i,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EM=10*60*1e3;class bM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!TM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!WT(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Dn(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=EM&&this.cachedEventUids.clear(),this.cachedEventUids.has(b0(e))}saveEventToCache(e){this.cachedEventUids.add(b0(e)),this.lastProcessedEventTime=Date.now()}}function b0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function WT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function TM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return WT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SM(t,e={}){return ns(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kM=/^https?/;async function AM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await SM(t);for(const n of e)try{if(CM(n))return}catch{}vn(t,"unauthorized-domain")}function CM(t){const e=sg(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!kM.test(n))return!1;if(IM.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM=new Sl(3e4,6e4);function T0(){const t=Mn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function RM(t){return new Promise((e,n)=>{var i,r,s;function o(){T0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{T0(),n(Dn(t,"network-request-failed"))},timeout:PM.get()})}if(!((r=(i=Mn().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=Mn().gapi)===null||s===void 0)&&s.load)o();else{const a=xD("iframefcb");return Mn()[a]=()=>{gapi.load?o():n(Dn(t,"network-request-failed"))},CT(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw iu=null,e})}let iu=null;function NM(t){return iu=iu||RM(t),iu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM=new Sl(5e3,15e3),DM="__/auth/iframe",MM="emulator/auth/iframe",LM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},VM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jM(t){const e=t.config;U(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Jm(e,MM):`https://${t.config.authDomain}/${DM}`,i={apiKey:e.apiKey,appName:t.name,v:es},r=VM.get(t.config.apiHost);r&&(i.eid=r);const s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${Tl(i).slice(1)}`}async function $M(t){const e=await NM(t),n=Mn().gapi;return U(n,t,"internal-error"),e.open({where:document.body,url:jM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:LM,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const o=Dn(t,"network-request-failed"),a=Mn().setTimeout(()=>{s(o)},OM.get());function l(){Mn().clearTimeout(a),r(i)}i.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},BM=500,UM=600,zM="_blank",HM="http://localhost";class S0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function WM(t,e,n,i=BM,r=UM){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},FM),{width:i.toString(),height:r.toString(),top:s,left:o}),c=wt().toLowerCase();n&&(a=ET(c)?zM:n),xT(c)&&(e=e||HM,l.scrollbars="yes");const u=Object.entries(l).reduce((d,[p,g])=>`${d}${p}=${g},`,"");if(dD(c)&&a!=="_self")return qM(e||"",a),new S0(null);const h=window.open(e||"",a,u);U(h,t,"popup-blocked");try{h.focus()}catch{}return new S0(h)}function qM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GM="__/auth/handler",KM="emulator/auth/handler",QM=encodeURIComponent("fac");async function I0(t,e,n,i,r,s){U(t.config.authDomain,t,"auth-domain-config-required"),U(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:es,eventId:r};if(e instanceof NT){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",ON(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries(s||{}))o[u]=h}if(e instanceof kl){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${QM}=${encodeURIComponent(l)}`:"";return`${YM(t)}?${Tl(a).slice(1)}${c}`}function YM({config:t}){return t.emulator?Jm(t,KM):`https://${t.authDomain}/${GM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af="webStorageSupport";class XM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$T,this._completeRedirectFn=xM,this._overrideRedirectResult=yM}async _openPopup(e,n,i,r){var s;ci((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await I0(e,n,i,sg(),r);return WM(e,o,i_())}async _openRedirect(e,n,i,r){await this._originValidation(e);const s=await I0(e,n,i,sg(),r);return eM(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(ci(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await $M(e),i=new bM(e);return n.register("authEvent",r=>(U(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Af,{type:Af},r=>{var s;const o=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[Af];o!==void 0&&n(!!o),vn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=AM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return kT()||e_()||zh()}}const JM=XM;var k0="@firebase/auth",A0="1.3.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){U(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function t2(t){Fr(new Yi("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;U(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:AT(t)},c=new vD(i,r,s,l);return kD(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Fr(new Yi("auth-internal",e=>{const n=is(e.getProvider("auth").getImmediate());return(i=>new ZM(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),On(k0,A0,e2(t)),On(k0,A0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2=5*60,i2=aT("authIdTokenMaxAge")||n2;let C0=null;const r2=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>i2)return;const r=n==null?void 0:n.token;C0!==r&&(C0=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function s2(t=Qm()){const e=Uh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=ID(t,{popupRedirectResolver:JM,persistence:[cM,XD,$T]}),i=aT("authTokenSyncURL");if(i){const s=r2(i);WD(n,s,()=>s(n.currentUser)),HD(n,o=>s(o))}const r=rT("auth");return r&&AD(n,`http://${r}`),n}t2("Browser");var o2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},O,s_=s_||{},H=o2||self;function qh(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Cl(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function a2(t){return Object.prototype.hasOwnProperty.call(t,Cf)&&t[Cf]||(t[Cf]=++l2)}var Cf="closure_uid_"+(1e9*Math.random()>>>0),l2=0;function c2(t,e,n){return t.call.apply(t.bind,arguments)}function u2(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),t.apply(e,r)}}return function(){return t.apply(e,arguments)}}function _t(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_t=c2:_t=u2,_t.apply(null,arguments)}function _c(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),t.apply(this,i)}}function Ze(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(i,r,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[r].apply(i,o)}}function sr(){this.s=this.s,this.o=this.o}var h2=0;sr.prototype.s=!1;sr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),h2!=0)&&a2(this)};sr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const qT=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function o_(t){const e=t.length;if(0<e){const n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function P0(t,e){for(let n=1;n<arguments.length;n++){const i=arguments[n];if(qh(i)){const r=t.length||0,s=i.length||0;t.length=r+s;for(let o=0;o<s;o++)t[r+o]=i[o]}else t.push(i)}}function yt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}yt.prototype.h=function(){this.defaultPrevented=!0};var d2=function(){if(!H.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{H.addEventListener("test",()=>{},e),H.removeEventListener("test",()=>{},e)}catch{}return t}();function Ja(t){return/^[\s\xa0]*$/.test(t)}function Gh(){var t=H.navigator;return t&&(t=t.userAgent)?t:""}function kn(t){return Gh().indexOf(t)!=-1}function a_(t){return a_[" "](t),t}a_[" "]=function(){};function f2(t,e){var n=sL;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var p2=kn("Opera"),Js=kn("Trident")||kn("MSIE"),GT=kn("Edge"),ag=GT||Js,KT=kn("Gecko")&&!(Gh().toLowerCase().indexOf("webkit")!=-1&&!kn("Edge"))&&!(kn("Trident")||kn("MSIE"))&&!kn("Edge"),g2=Gh().toLowerCase().indexOf("webkit")!=-1&&!kn("Edge");function QT(){var t=H.document;return t?t.documentMode:void 0}var lg;e:{var Pf="",Rf=function(){var t=Gh();if(KT)return/rv:([^\);]+)(\)|;)/.exec(t);if(GT)return/Edge\/([\d\.]+)/.exec(t);if(Js)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(g2)return/WebKit\/(\S+)/.exec(t);if(p2)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Rf&&(Pf=Rf?Rf[1]:""),Js){var Nf=QT();if(Nf!=null&&Nf>parseFloat(Pf)){lg=String(Nf);break e}}lg=Pf}var cg;if(H.document&&Js){var R0=QT();cg=R0||parseInt(lg,10)||void 0}else cg=void 0;var m2=cg;function Za(t,e){if(yt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(KT){e:{try{a_(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:_2[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Za.$.h.call(this)}}Ze(Za,yt);var _2={2:"touch",3:"pen",4:"mouse"};Za.prototype.h=function(){Za.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Pl="closure_listenable_"+(1e6*Math.random()|0),y2=0;function v2(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.la=r,this.key=++y2,this.fa=this.ia=!1}function Kh(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function l_(t,e,n){for(const i in t)e.call(n,t[i],i,t)}function w2(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function YT(t){const e={};for(const n in t)e[n]=t[n];return e}const N0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function XT(t,e){let n,i;for(let r=1;r<arguments.length;r++){i=arguments[r];for(n in i)t[n]=i[n];for(let s=0;s<N0.length;s++)n=N0[s],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function Qh(t){this.src=t,this.g={},this.h=0}Qh.prototype.add=function(t,e,n,i,r){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=hg(t,e,i,r);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new v2(e,this.src,s,!!i,r),e.ia=n,t.push(e)),e};function ug(t,e){var n=e.type;if(n in t.g){var i=t.g[n],r=qT(i,e),s;(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(Kh(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function hg(t,e,n,i){for(var r=0;r<t.length;++r){var s=t[r];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==i)return r}return-1}var c_="closure_lm_"+(1e6*Math.random()|0),Of={};function JT(t,e,n,i,r){if(i&&i.once)return eS(t,e,n,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)JT(t,e[s],n,i,r);return null}return n=d_(n),t&&t[Pl]?t.O(e,n,Cl(i)?!!i.capture:!!i,r):ZT(t,e,n,!1,i,r)}function ZT(t,e,n,i,r,s){if(!e)throw Error("Invalid event type");var o=Cl(r)?!!r.capture:!!r,a=h_(t);if(a||(t[c_]=a=new Qh(t)),n=a.add(e,n,i,o,s),n.proxy)return n;if(i=x2(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)d2||(r=o),r===void 0&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(nS(e.toString()),i);else if(t.addListener&&t.removeListener)t.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function x2(){function t(n){return e.call(t.src,t.listener,n)}const e=E2;return t}function eS(t,e,n,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)eS(t,e[s],n,i,r);return null}return n=d_(n),t&&t[Pl]?t.P(e,n,Cl(i)?!!i.capture:!!i,r):ZT(t,e,n,!0,i,r)}function tS(t,e,n,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)tS(t,e[s],n,i,r);else i=Cl(i)?!!i.capture:!!i,n=d_(n),t&&t[Pl]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=hg(s,n,i,r),-1<n&&(Kh(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=h_(t))&&(e=t.g[e.toString()],t=-1,e&&(t=hg(e,n,i,r)),(n=-1<t?e[t]:null)&&u_(n))}function u_(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Pl])ug(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(nS(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=h_(e))?(ug(n,t),n.h==0&&(n.src=null,e[c_]=null)):Kh(t)}}}function nS(t){return t in Of?Of[t]:Of[t]="on"+t}function E2(t,e){if(t.fa)t=!0;else{e=new Za(e,this);var n=t.listener,i=t.la||t.src;t.ia&&u_(t),t=n.call(i,e)}return t}function h_(t){return t=t[c_],t instanceof Qh?t:null}var Df="__closure_events_fn_"+(1e9*Math.random()>>>0);function d_(t){return typeof t=="function"?t:(t[Df]||(t[Df]=function(e){return t.handleEvent(e)}),t[Df])}function Je(){sr.call(this),this.i=new Qh(this),this.S=this,this.J=null}Ze(Je,sr);Je.prototype[Pl]=!0;Je.prototype.removeEventListener=function(t,e,n,i){tS(this,t,e,n,i)};function ot(t,e){var n,i=t.J;if(i)for(n=[];i;i=i.J)n.push(i);if(t=t.S,i=e.type||e,typeof e=="string")e=new yt(e,t);else if(e instanceof yt)e.target=e.target||t;else{var r=e;e=new yt(i,t),XT(e,r)}if(r=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];r=yc(o,i,!0,e)&&r}if(o=e.g=t,r=yc(o,i,!0,e)&&r,r=yc(o,i,!1,e)&&r,n)for(s=0;s<n.length;s++)o=e.g=n[s],r=yc(o,i,!1,e)&&r}Je.prototype.N=function(){if(Je.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)Kh(n[i]);delete t.g[e],t.h--}}this.J=null};Je.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)};Je.prototype.P=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};function yc(t,e,n,i){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&ug(t.i,o),r=a.call(l,i)!==!1&&r}}return r&&!i.defaultPrevented}var f_=H.JSON.stringify;class b2{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function T2(){var t=p_;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class S2{constructor(){this.h=this.g=null}add(e,n){const i=iS.get();i.set(e,n),this.h?this.h.next=i:this.g=i,this.h=i}}var iS=new b2(()=>new I2,t=>t.reset());class I2{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function k2(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function A2(t){H.setTimeout(()=>{throw t},0)}let el,tl=!1,p_=new S2,rS=()=>{const t=H.Promise.resolve(void 0);el=()=>{t.then(C2)}};var C2=()=>{for(var t;t=T2();){try{t.h.call(t.g)}catch(n){A2(n)}var e=iS;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}tl=!1};function Yh(t,e){Je.call(this),this.h=t||1,this.g=e||H,this.j=_t(this.qb,this),this.l=Date.now()}Ze(Yh,Je);O=Yh.prototype;O.ga=!1;O.T=null;O.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ot(this,"tick"),this.ga&&(g_(this),this.start()))}};O.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function g_(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}O.N=function(){Yh.$.N.call(this),g_(this),delete this.g};function m_(t,e,n){if(typeof t=="function")n&&(t=_t(t,n));else if(t&&typeof t.handleEvent=="function")t=_t(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:H.setTimeout(t,e||0)}function sS(t){t.g=m_(()=>{t.g=null,t.i&&(t.i=!1,sS(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class P2 extends sr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:sS(this)}N(){super.N(),this.g&&(H.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function nl(t){sr.call(this),this.h=t,this.g={}}Ze(nl,sr);var O0=[];function oS(t,e,n,i){Array.isArray(n)||(n&&(O0[0]=n.toString()),n=O0);for(var r=0;r<n.length;r++){var s=JT(e,n[r],i||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function aS(t){l_(t.g,function(e,n){this.g.hasOwnProperty(n)&&u_(e)},t),t.g={}}nl.prototype.N=function(){nl.$.N.call(this),aS(this)};nl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Xh(){this.g=!0}Xh.prototype.Ea=function(){this.g=!1};function R2(t,e,n,i,r,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&h[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+`
`+n+`
`+o})}function N2(t,e,n,i,r,s,o){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+`
`+n+`
`+s+" "+o})}function Ps(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+D2(t,n)+(i?" "+i:"")})}function O2(t,e){t.info(function(){return"TIMEOUT: "+e})}Xh.prototype.info=function(){};function D2(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<r.length;o++)r[o]=""}}}}return f_(n)}catch{return e}}var rs={},D0=null;function Jh(){return D0=D0||new Je}rs.Ta="serverreachability";function lS(t){yt.call(this,rs.Ta,t)}Ze(lS,yt);function il(t){const e=Jh();ot(e,new lS(e))}rs.STAT_EVENT="statevent";function cS(t,e){yt.call(this,rs.STAT_EVENT,t),this.stat=e}Ze(cS,yt);function St(t){const e=Jh();ot(e,new cS(e,t))}rs.Ua="timingevent";function uS(t,e){yt.call(this,rs.Ua,t),this.size=e}Ze(uS,yt);function Rl(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return H.setTimeout(function(){t()},e)}var Zh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},hS={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function __(){}__.prototype.h=null;function M0(t){return t.h||(t.h=t.i())}function dS(){}var Nl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function y_(){yt.call(this,"d")}Ze(y_,yt);function v_(){yt.call(this,"c")}Ze(v_,yt);var dg;function ed(){}Ze(ed,__);ed.prototype.g=function(){return new XMLHttpRequest};ed.prototype.i=function(){return{}};dg=new ed;function Ol(t,e,n,i){this.l=t,this.j=e,this.m=n,this.W=i||1,this.U=new nl(this),this.P=M2,t=ag?125:void 0,this.V=new Yh(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new fS}function fS(){this.i=null,this.g="",this.h=!1}var M2=45e3,fg={},Hu={};O=Ol.prototype;O.setTimeout=function(t){this.P=t};function pg(t,e,n){t.L=1,t.v=nd(ui(e)),t.s=n,t.S=!0,pS(t,null)}function pS(t,e){t.G=Date.now(),Dl(t),t.A=ui(t.v);var n=t.A,i=t.W;Array.isArray(i)||(i=[String(i)]),ES(n.i,"t",i),t.C=0,n=t.l.J,t.h=new fS,t.g=zS(t.l,n?e:null,!t.s),0<t.O&&(t.M=new P2(_t(t.Pa,t,t.g),t.O)),oS(t.U,t.g,"readystatechange",t.nb),e=t.I?YT(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),il(),R2(t.j,t.u,t.A,t.m,t.W,t.s)}O.nb=function(t){t=t.target;const e=this.M;e&&An(t)==3?e.l():this.Pa(t)};O.Pa=function(t){try{if(t==this.g)e:{const u=An(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>u)&&(u!=3||ag||this.g&&(this.h.h||this.g.ja()||$0(this.g)))){this.J||u!=4||e==7||(e==8||0>=h?il(3):il(2)),td(this);var n=this.g.da();this.ca=n;t:if(gS(this)){var i=$0(this.g);t="";var r=i.length,s=An(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){br(this),va(this);var o="";break t}this.h.i=new H.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.splice(0,r),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,N2(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ja(a)){var c=a;break t}}c=null}if(n=c)Ps(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,gg(this,n);else{this.i=!1,this.o=3,St(12),br(this),va(this);break e}}this.S?(mS(this,u,o),ag&&this.i&&u==3&&(oS(this.U,this.V,"tick",this.mb),this.V.start())):(Ps(this.j,this.m,o,null),gg(this,o)),u==4&&br(this),this.i&&!this.J&&(u==4?$S(this.l,this):(this.i=!1,Dl(this)))}else nL(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,St(12)):(this.o=0,St(13)),br(this),va(this)}}}catch{}finally{}};function gS(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function mS(t,e,n){let i=!0,r;for(;!t.J&&t.C<n.length;)if(r=L2(t,n),r==Hu){e==4&&(t.o=4,St(14),i=!1),Ps(t.j,t.m,null,"[Incomplete Response]");break}else if(r==fg){t.o=4,St(15),Ps(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}else Ps(t.j,t.m,r,null),gg(t,r);gS(t)&&r!=Hu&&r!=fg&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,St(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),S_(e),e.M=!0,St(11))):(Ps(t.j,t.m,n,"[Invalid Chunked Response]"),br(t),va(t))}O.mb=function(){if(this.g){var t=An(this.g),e=this.g.ja();this.C<e.length&&(td(this),mS(this,t,e),this.i&&t!=4&&Dl(this))}};function L2(t,e){var n=t.C,i=e.indexOf(`
`,n);return i==-1?Hu:(n=Number(e.substring(n,i)),isNaN(n)?fg:(i+=1,i+n>e.length?Hu:(e=e.slice(i,i+n),t.C=i+n,e)))}O.cancel=function(){this.J=!0,br(this)};function Dl(t){t.Y=Date.now()+t.P,_S(t,t.P)}function _S(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Rl(_t(t.lb,t),e)}function td(t){t.B&&(H.clearTimeout(t.B),t.B=null)}O.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(O2(this.j,this.A),this.L!=2&&(il(),St(17)),br(this),this.o=2,va(this)):_S(this,this.Y-t)};function va(t){t.l.H==0||t.J||$S(t.l,t)}function br(t){td(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,g_(t.V),aS(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function gg(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||mg(n.i,t))){if(!t.K&&mg(n.i,t)&&n.H==3){try{var i=n.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&i.length==3){var r=i;if(r[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Gu(n),sd(n);else break e;T_(n),St(18)}}else n.Fa=r[1],0<n.Fa-n.V&&37500>r[2]&&n.G&&n.A==0&&!n.v&&(n.v=Rl(_t(n.ib,n),6e3));if(1>=SS(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Tr(n,11)}else if((t.K||n.g==t)&&Gu(n),!Ja(e))for(r=n.Ja.g.parse(e),e=0;e<r.length;e++){let c=r[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const u=c[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const h=c[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const d=c[5];d!=null&&typeof d=="number"&&0<d&&(i=1.5*d,n.L=i,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;const p=t.g;if(p){const g=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var s=i.i;s.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(w_(s,s.h),s.h=null))}if(i.F){const y=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(i.Da=y,we(i.I,i.F,y))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),i=n;var o=t;if(i.wa=US(i,i.J?i.pa:null,i.Y),o.K){IS(i.i,o);var a=o,l=i.L;l&&a.setTimeout(l),a.B&&(td(a),Dl(a)),i.g=o}else VS(i);0<n.j.length&&od(n)}else c[0]!="stop"&&c[0]!="close"||Tr(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Tr(n,7):b_(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}il(4)}catch{}}function V2(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(qh(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}e=[],n=0;for(i in t)e[n++]=t[i];return e}function j2(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(qh(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const i in t)e[n++]=i;return e}}}function yS(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(qh(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=j2(t),i=V2(t),r=i.length,s=0;s<r;s++)e.call(void 0,i[s],n&&n[s],t)}var vS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $2(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var s=t[n].substring(0,i);r=t[n].substring(i+1)}else s=t[n];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function Rr(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Rr){this.h=t.h,Wu(this,t.j),this.s=t.s,this.g=t.g,qu(this,t.m),this.l=t.l;var e=t.i,n=new rl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),L0(this,n),this.o=t.o}else t&&(e=String(t).match(vS))?(this.h=!1,Wu(this,e[1]||"",!0),this.s=ta(e[2]||""),this.g=ta(e[3]||"",!0),qu(this,e[4]),this.l=ta(e[5]||"",!0),L0(this,e[6]||"",!0),this.o=ta(e[7]||"")):(this.h=!1,this.i=new rl(null,this.h))}Rr.prototype.toString=function(){var t=[],e=this.j;e&&t.push(na(e,V0,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(na(e,V0,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(na(n,n.charAt(0)=="/"?U2:B2,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",na(n,H2)),t.join("")};function ui(t){return new Rr(t)}function Wu(t,e,n){t.j=n?ta(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function qu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function L0(t,e,n){e instanceof rl?(t.i=e,W2(t.i,t.h)):(n||(e=na(e,z2)),t.i=new rl(e,t.h))}function we(t,e,n){t.i.set(e,n)}function nd(t){return we(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ta(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function na(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,F2),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function F2(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var V0=/[#\/\?@]/g,B2=/[#\?:]/g,U2=/[#\?]/g,z2=/[#\?@]/g,H2=/#/g;function rl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function or(t){t.g||(t.g=new Map,t.h=0,t.i&&$2(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}O=rl.prototype;O.add=function(t,e){or(this),this.i=null,t=mo(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function wS(t,e){or(t),e=mo(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function xS(t,e){return or(t),e=mo(t,e),t.g.has(e)}O.forEach=function(t,e){or(this),this.g.forEach(function(n,i){n.forEach(function(r){t.call(e,r,i,this)},this)},this)};O.ta=function(){or(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let i=0;i<e.length;i++){const r=t[i];for(let s=0;s<r.length;s++)n.push(e[i])}return n};O.Z=function(t){or(this);let e=[];if(typeof t=="string")xS(this,t)&&(e=e.concat(this.g.get(mo(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};O.set=function(t,e){return or(this),this.i=null,t=mo(this,t),xS(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};O.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function ES(t,e,n){wS(t,e),0<n.length&&(t.i=null,t.g.set(mo(t,e),o_(n)),t.h+=n.length)}O.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var i=e[n];const s=encodeURIComponent(String(i)),o=this.Z(i);for(i=0;i<o.length;i++){var r=s;o[i]!==""&&(r+="="+encodeURIComponent(String(o[i]))),t.push(r)}}return this.i=t.join("&")};function mo(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function W2(t,e){e&&!t.j&&(or(t),t.i=null,t.g.forEach(function(n,i){var r=i.toLowerCase();i!=r&&(wS(this,i),ES(this,r,n))},t)),t.j=e}var q2=class{constructor(t,e){this.g=t,this.map=e}};function bS(t){this.l=t||G2,H.PerformanceNavigationTiming?(t=H.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(H.g&&H.g.Ka&&H.g.Ka()&&H.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var G2=10;function TS(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function SS(t){return t.h?1:t.g?t.g.size:0}function mg(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function w_(t,e){t.g?t.g.add(e):t.h=e}function IS(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}bS.prototype.cancel=function(){if(this.i=kS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function kS(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return o_(t.i)}var K2=class{stringify(t){return H.JSON.stringify(t,void 0)}parse(t){return H.JSON.parse(t,void 0)}};function Q2(){this.g=new K2}function Y2(t,e,n){const i=n||"";try{yS(t,function(r,s){let o=r;Cl(r)&&(o=f_(r)),e.push(i+s+"="+encodeURIComponent(o))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function X2(t,e){const n=new Xh;if(H.Image){const i=new Image;i.onload=_c(vc,n,i,"TestLoadImage: loaded",!0,e),i.onerror=_c(vc,n,i,"TestLoadImage: error",!1,e),i.onabort=_c(vc,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=_c(vc,n,i,"TestLoadImage: timeout",!1,e),H.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}function vc(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function Ml(t){this.l=t.ec||null,this.j=t.ob||!1}Ze(Ml,__);Ml.prototype.g=function(){return new id(this.l,this.j)};Ml.prototype.i=function(t){return function(){return t}}({});function id(t,e){Je.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=x_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ze(id,Je);var x_=0;O=id.prototype;O.open=function(t,e){if(this.readyState!=x_)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,sl(this)};O.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||H).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};O.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ll(this)),this.readyState=x_};O.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,sl(this)),this.g&&(this.readyState=3,sl(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof H.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;AS(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function AS(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}O.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ll(this):sl(this),this.readyState==3&&AS(this)}};O.Za=function(t){this.g&&(this.response=this.responseText=t,Ll(this))};O.Ya=function(t){this.g&&(this.response=t,Ll(this))};O.ka=function(){this.g&&Ll(this)};function Ll(t){t.readyState=4,t.l=null,t.j=null,t.A=null,sl(t)}O.setRequestHeader=function(t,e){this.v.append(t,e)};O.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};O.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function sl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(id.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var J2=H.JSON.parse;function De(t){Je.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=CS,this.L=this.M=!1}Ze(De,Je);var CS="",Z2=/^https?$/i,eL=["POST","PUT"];O=De.prototype;O.Oa=function(t){this.M=t};O.ha=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():dg.g(),this.C=this.u?M0(this.u):M0(dg),this.g.onreadystatechange=_t(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){j0(this,s);return}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)n.set(r,i[r]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(const s of i.keys())n.set(s,i.get(s));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),r=H.FormData&&t instanceof H.FormData,!(0<=qT(eL,e))||i||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{NS(this),0<this.B&&((this.L=tL(this.g))?(this.g.timeout=this.B,this.g.ontimeout=_t(this.ua,this)):this.A=m_(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){j0(this,s)}};function tL(t){return Js&&typeof t.timeout=="number"&&t.ontimeout!==void 0}O.ua=function(){typeof s_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ot(this,"timeout"),this.abort(8))};function j0(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,PS(t),rd(t)}function PS(t){t.F||(t.F=!0,ot(t,"complete"),ot(t,"error"))}O.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,ot(this,"complete"),ot(this,"abort"),rd(this))};O.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),rd(this,!0)),De.$.N.call(this)};O.La=function(){this.s||(this.G||this.v||this.l?RS(this):this.kb())};O.kb=function(){RS(this)};function RS(t){if(t.h&&typeof s_<"u"&&(!t.C[1]||An(t)!=4||t.da()!=2)){if(t.v&&An(t)==4)m_(t.La,0,t);else if(ot(t,"readystatechange"),An(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var i;if(i=o===0){var r=String(t.I).match(vS)[1]||null;!r&&H.self&&H.self.location&&(r=H.self.location.protocol.slice(0,-1)),i=!Z2.test(r?r.toLowerCase():"")}n=i}if(n)ot(t,"complete"),ot(t,"success");else{t.m=6;try{var s=2<An(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",PS(t)}}finally{rd(t)}}}}function rd(t,e){if(t.g){NS(t);const n=t.g,i=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||ot(t,"ready");try{n.onreadystatechange=i}catch{}}}function NS(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(H.clearTimeout(t.A),t.A=null)}O.isActive=function(){return!!this.g};function An(t){return t.g?t.g.readyState:0}O.da=function(){try{return 2<An(this)?this.g.status:-1}catch{return-1}};O.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};O.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),J2(e)}};function $0(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case CS:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function nL(t){const e={};t=(t.g&&2<=An(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let i=0;i<t.length;i++){if(Ja(t[i]))continue;var n=k2(t[i]);const r=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[r]||[];e[r]=s,s.push(n)}w2(e,function(i){return i.join(", ")})}O.Ia=function(){return this.m};O.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function OS(t){let e="";return l_(t,function(n,i){e+=i,e+=":",e+=n,e+=`\r
`}),e}function E_(t,e,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=OS(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):we(t,e,n))}function Vo(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function DS(t){this.Ga=0,this.j=[],this.l=new Xh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Vo("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Vo("baseRetryDelayMs",5e3,t),this.hb=Vo("retryDelaySeedMs",1e4,t),this.eb=Vo("forwardChannelMaxRetries",2,t),this.xa=Vo("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new bS(t&&t.concurrentRequestLimit),this.Ja=new Q2,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}O=DS.prototype;O.ra=8;O.H=1;function b_(t){if(MS(t),t.H==3){var e=t.W++,n=ui(t.I);if(we(n,"SID",t.K),we(n,"RID",e),we(n,"TYPE","terminate"),Vl(t,n),e=new Ol(t,t.l,e),e.L=2,e.v=nd(ui(n)),n=!1,H.navigator&&H.navigator.sendBeacon)try{n=H.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&H.Image&&(new Image().src=e.v,n=!0),n||(e.g=zS(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Dl(e)}BS(t)}function sd(t){t.g&&(S_(t),t.g.cancel(),t.g=null)}function MS(t){sd(t),t.u&&(H.clearTimeout(t.u),t.u=null),Gu(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&H.clearTimeout(t.m),t.m=null)}function od(t){if(!TS(t.i)&&!t.m){t.m=!0;var e=t.Na;el||rS(),tl||(el(),tl=!0),p_.add(e,t),t.C=0}}function iL(t,e){return SS(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Rl(_t(t.Na,t,e),FS(t,t.C)),t.C++,!0)}O.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const r=new Ol(this,this.l,t);let s=this.s;if(this.U&&(s?(s=YT(s),XT(s,this.U)):s=this.U),this.o!==null||this.O||(r.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var i=this.j[n];if("__data__"in i.map&&(i=i.map.__data__,typeof i=="string")){i=i.length;break t}i=void 0}if(i===void 0)break;if(e+=i,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=LS(this,r,e),n=ui(this.I),we(n,"RID",t),we(n,"CVER",22),this.F&&we(n,"X-HTTP-Session-Id",this.F),Vl(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(OS(s)))+"&"+e:this.o&&E_(n,this.o,s)),w_(this.i,r),this.bb&&we(n,"TYPE","init"),this.P?(we(n,"$req",e),we(n,"SID","null"),r.aa=!0,pg(r,n,null)):pg(r,n,e),this.H=2}}else this.H==3&&(t?F0(this,t):this.j.length==0||TS(this.i)||F0(this))};function F0(t,e){var n;e?n=e.m:n=t.W++;const i=ui(t.I);we(i,"SID",t.K),we(i,"RID",n),we(i,"AID",t.V),Vl(t,i),t.o&&t.s&&E_(i,t.o,t.s),n=new Ol(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=LS(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),w_(t.i,n),pg(n,i,e)}function Vl(t,e){t.na&&l_(t.na,function(n,i){we(e,i,n)}),t.h&&yS({},function(n,i){we(e,i,n)})}function LS(t,e,n){n=Math.min(t.j.length,n);var i=t.h?_t(t.h.Va,t.h,t):null;e:{var r=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=r[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let c=r[l].g;const u=r[l].map;if(c-=s,0>c)s=Math.max(0,r[l].g-100),a=!1;else try{Y2(u,o,"req"+c+"_")}catch{i&&i(u)}}if(a){i=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,i}function VS(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;el||rS(),tl||(el(),tl=!0),p_.add(e,t),t.A=0}}function T_(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Rl(_t(t.Ma,t),FS(t,t.A)),t.A++,!0)}O.Ma=function(){if(this.u=null,jS(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Rl(_t(this.jb,this),t)}};O.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,St(10),sd(this),jS(this))};function S_(t){t.B!=null&&(H.clearTimeout(t.B),t.B=null)}function jS(t){t.g=new Ol(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=ui(t.wa);we(e,"RID","rpc"),we(e,"SID",t.K),we(e,"AID",t.V),we(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&we(e,"TO",t.qa),we(e,"TYPE","xmlhttp"),Vl(t,e),t.o&&t.s&&E_(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=nd(ui(e)),n.s=null,n.S=!0,pS(n,t)}O.ib=function(){this.v!=null&&(this.v=null,sd(this),T_(this),St(19))};function Gu(t){t.v!=null&&(H.clearTimeout(t.v),t.v=null)}function $S(t,e){var n=null;if(t.g==e){Gu(t),S_(t),t.g=null;var i=2}else if(mg(t.i,e))n=e.F,IS(t.i,e),i=1;else return;if(t.H!=0){if(e.i)if(i==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var r=t.C;i=Jh(),ot(i,new uS(i,n)),od(t)}else VS(t);else if(r=e.o,r==3||r==0&&0<e.ca||!(i==1&&iL(t,e)||i==2&&T_(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),r){case 1:Tr(t,5);break;case 4:Tr(t,10);break;case 3:Tr(t,6);break;default:Tr(t,2)}}}function FS(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Tr(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var i=_t(t.pb,t);n||(n=new Rr("//www.google.com/images/cleardot.gif"),H.location&&H.location.protocol=="http"||Wu(n,"https"),nd(n)),X2(n.toString(),i)}else St(2);t.H=0,t.h&&t.h.za(e),BS(t),MS(t)}O.pb=function(t){t?(this.l.info("Successfully pinged google.com"),St(2)):(this.l.info("Failed to ping google.com"),St(1))};function BS(t){if(t.H=0,t.ma=[],t.h){const e=kS(t.i);(e.length!=0||t.j.length!=0)&&(P0(t.ma,e),P0(t.ma,t.j),t.i.i.length=0,o_(t.j),t.j.length=0),t.h.ya()}}function US(t,e,n){var i=n instanceof Rr?ui(n):new Rr(n);if(i.g!="")e&&(i.g=e+"."+i.g),qu(i,i.m);else{var r=H.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var s=new Rr(null);i&&Wu(s,i),e&&(s.g=e),r&&qu(s,r),n&&(s.l=n),i=s}return n=t.F,e=t.Da,n&&e&&we(i,n,e),we(i,"VER",t.ra),Vl(t,i),i}function zS(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new De(new Ml({ob:!0})):new De(t.va),e.Oa(t.J),e}O.isActive=function(){return!!this.h&&this.h.isActive(this)};function HS(){}O=HS.prototype;O.Ba=function(){};O.Aa=function(){};O.za=function(){};O.ya=function(){};O.isActive=function(){return!0};O.Va=function(){};function Ku(){if(Js&&!(10<=Number(m2)))throw Error("Environmental error: no available transport.")}Ku.prototype.g=function(t,e){return new Gt(t,e)};function Gt(t,e){Je.call(this),this.g=new DS(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Ja(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ja(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new _o(this)}Ze(Gt,Je);Gt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;St(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=US(t,null,t.Y),od(t)};Gt.prototype.close=function(){b_(this.g)};Gt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=f_(t),t=n);e.j.push(new q2(e.fb++,t)),e.H==3&&od(e)};Gt.prototype.N=function(){this.g.h=null,delete this.j,b_(this.g),delete this.g,Gt.$.N.call(this)};function WS(t){y_.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Ze(WS,y_);function qS(){v_.call(this),this.status=1}Ze(qS,v_);function _o(t){this.g=t}Ze(_o,HS);_o.prototype.Ba=function(){ot(this.g,"a")};_o.prototype.Aa=function(t){ot(this.g,new WS(t))};_o.prototype.za=function(t){ot(this.g,new qS)};_o.prototype.ya=function(){ot(this.g,"b")};function rL(){this.blockSize=-1}function wn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Ze(wn,rL);wn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Mf(t,e,n){n||(n=0);var i=Array(16);if(typeof e=="string")for(var r=0;16>r;++r)i[r]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(r=0;16>r;++r)i[r]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],r=t.g[2];var s=t.g[3],o=e+(s^n&(r^s))+i[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(r^e&(n^r))+i[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=r+(n^s&(e^n))+i[2]+606105819&4294967295,r=s+(o<<17&4294967295|o>>>15),o=n+(e^r&(s^e))+i[3]+3250441966&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(s^n&(r^s))+i[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(r^e&(n^r))+i[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=r+(n^s&(e^n))+i[6]+2821735955&4294967295,r=s+(o<<17&4294967295|o>>>15),o=n+(e^r&(s^e))+i[7]+4249261313&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(s^n&(r^s))+i[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(r^e&(n^r))+i[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=r+(n^s&(e^n))+i[10]+4294925233&4294967295,r=s+(o<<17&4294967295|o>>>15),o=n+(e^r&(s^e))+i[11]+2304563134&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(s^n&(r^s))+i[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(r^e&(n^r))+i[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=r+(n^s&(e^n))+i[14]+2792965006&4294967295,r=s+(o<<17&4294967295|o>>>15),o=n+(e^r&(s^e))+i[15]+1236535329&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(r^s&(n^r))+i[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^r&(e^n))+i[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(s^e))+i[11]+643717713&4294967295,r=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(r^s))+i[0]+3921069994&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(r^s&(n^r))+i[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^r&(e^n))+i[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(s^e))+i[15]+3634488961&4294967295,r=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(r^s))+i[4]+3889429448&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(r^s&(n^r))+i[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^r&(e^n))+i[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(s^e))+i[3]+4107603335&4294967295,r=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(r^s))+i[8]+1163531501&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(r^s&(n^r))+i[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^r&(e^n))+i[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(s^e))+i[7]+1735328473&4294967295,r=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(r^s))+i[12]+2368359562&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(n^r^s)+i[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^r)+i[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=r+(s^e^n)+i[11]+1839030562&4294967295,r=s+(o<<16&4294967295|o>>>16),o=n+(r^s^e)+i[14]+4259657740&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(n^r^s)+i[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^r)+i[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=r+(s^e^n)+i[7]+4139469664&4294967295,r=s+(o<<16&4294967295|o>>>16),o=n+(r^s^e)+i[10]+3200236656&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(n^r^s)+i[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^r)+i[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=r+(s^e^n)+i[3]+3572445317&4294967295,r=s+(o<<16&4294967295|o>>>16),o=n+(r^s^e)+i[6]+76029189&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(n^r^s)+i[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^r)+i[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=r+(s^e^n)+i[15]+530742520&4294967295,r=s+(o<<16&4294967295|o>>>16),o=n+(r^s^e)+i[2]+3299628645&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(r^(n|~s))+i[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~r))+i[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=r+(e^(s|~n))+i[14]+2878612391&4294967295,r=s+(o<<15&4294967295|o>>>17),o=n+(s^(r|~e))+i[5]+4237533241&4294967295,n=r+(o<<21&4294967295|o>>>11),o=e+(r^(n|~s))+i[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~r))+i[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=r+(e^(s|~n))+i[10]+4293915773&4294967295,r=s+(o<<15&4294967295|o>>>17),o=n+(s^(r|~e))+i[1]+2240044497&4294967295,n=r+(o<<21&4294967295|o>>>11),o=e+(r^(n|~s))+i[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~r))+i[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=r+(e^(s|~n))+i[6]+2734768916&4294967295,r=s+(o<<15&4294967295|o>>>17),o=n+(s^(r|~e))+i[13]+1309151649&4294967295,n=r+(o<<21&4294967295|o>>>11),o=e+(r^(n|~s))+i[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~r))+i[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=r+(e^(s|~n))+i[2]+718787259&4294967295,r=s+(o<<15&4294967295|o>>>17),o=n+(s^(r|~e))+i[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(r+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+r&4294967295,t.g[3]=t.g[3]+s&4294967295}wn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,i=this.m,r=this.h,s=0;s<e;){if(r==0)for(;s<=n;)Mf(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(i[r++]=t.charCodeAt(s++),r==this.blockSize){Mf(this,i),r=0;break}}else for(;s<e;)if(i[r++]=t[s++],r==this.blockSize){Mf(this,i),r=0;break}}this.h=r,this.i+=e};wn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var i=0;32>i;i+=8)t[n++]=this.g[e]>>>i&255;return t};function he(t,e){this.h=e;for(var n=[],i=!0,r=t.length-1;0<=r;r--){var s=t[r]|0;i&&s==e||(n[r]=s,i=!1)}this.g=n}var sL={};function I_(t){return-128<=t&&128>t?f2(t,function(e){return new he([e|0],0>e?-1:0)}):new he([t|0],0>t?-1:0)}function Cn(t){if(isNaN(t)||!isFinite(t))return Fs;if(0>t)return it(Cn(-t));for(var e=[],n=1,i=0;t>=n;i++)e[i]=t/n|0,n*=_g;return new he(e,0)}function GS(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return it(GS(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Cn(Math.pow(e,8)),i=Fs,r=0;r<t.length;r+=8){var s=Math.min(8,t.length-r),o=parseInt(t.substring(r,r+s),e);8>s?(s=Cn(Math.pow(e,s)),i=i.R(s).add(Cn(o))):(i=i.R(n),i=i.add(Cn(o)))}return i}var _g=4294967296,Fs=I_(0),yg=I_(1),B0=I_(16777216);O=he.prototype;O.ea=function(){if(en(this))return-it(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var i=this.D(n);t+=(0<=i?i:_g+i)*e,e*=_g}return t};O.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(ei(this))return"0";if(en(this))return"-"+it(this).toString(t);for(var e=Cn(Math.pow(t,6)),n=this,i="";;){var r=Yu(n,e).g;n=Qu(n,r.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=r,ei(n))return s+i;for(;6>s.length;)s="0"+s;i=s+i}};O.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function ei(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function en(t){return t.h==-1}O.X=function(t){return t=Qu(this,t),en(t)?-1:ei(t)?0:1};function it(t){for(var e=t.g.length,n=[],i=0;i<e;i++)n[i]=~t.g[i];return new he(n,~t.h).add(yg)}O.abs=function(){return en(this)?it(this):this};O.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0,r=0;r<=e;r++){var s=i+(this.D(r)&65535)+(t.D(r)&65535),o=(s>>>16)+(this.D(r)>>>16)+(t.D(r)>>>16);i=o>>>16,s&=65535,o&=65535,n[r]=o<<16|s}return new he(n,n[n.length-1]&-2147483648?-1:0)};function Qu(t,e){return t.add(it(e))}O.R=function(t){if(ei(this)||ei(t))return Fs;if(en(this))return en(t)?it(this).R(it(t)):it(it(this).R(t));if(en(t))return it(this.R(it(t)));if(0>this.X(B0)&&0>t.X(B0))return Cn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],i=0;i<2*e;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<t.g.length;r++){var s=this.D(i)>>>16,o=this.D(i)&65535,a=t.D(r)>>>16,l=t.D(r)&65535;n[2*i+2*r]+=o*l,wc(n,2*i+2*r),n[2*i+2*r+1]+=s*l,wc(n,2*i+2*r+1),n[2*i+2*r+1]+=o*a,wc(n,2*i+2*r+1),n[2*i+2*r+2]+=s*a,wc(n,2*i+2*r+2)}for(i=0;i<e;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=e;i<2*e;i++)n[i]=0;return new he(n,0)};function wc(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function jo(t,e){this.g=t,this.h=e}function Yu(t,e){if(ei(e))throw Error("division by zero");if(ei(t))return new jo(Fs,Fs);if(en(t))return e=Yu(it(t),e),new jo(it(e.g),it(e.h));if(en(e))return e=Yu(t,it(e)),new jo(it(e.g),e.h);if(30<t.g.length){if(en(t)||en(e))throw Error("slowDivide_ only works with positive integers.");for(var n=yg,i=e;0>=i.X(t);)n=U0(n),i=U0(i);var r=ds(n,1),s=ds(i,1);for(i=ds(i,2),n=ds(n,2);!ei(i);){var o=s.add(i);0>=o.X(t)&&(r=r.add(n),s=o),i=ds(i,1),n=ds(n,1)}return e=Qu(t,r.R(e)),new jo(r,e)}for(r=Fs;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),i=Math.ceil(Math.log(n)/Math.LN2),i=48>=i?1:Math.pow(2,i-48),s=Cn(n),o=s.R(e);en(o)||0<o.X(t);)n-=i,s=Cn(n),o=s.R(e);ei(s)&&(s=yg),r=r.add(s),t=Qu(t,o)}return new jo(r,t)}O.gb=function(t){return Yu(this,t).h};O.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)&t.D(i);return new he(n,this.h&t.h)};O.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)|t.D(i);return new he(n,this.h|t.h)};O.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)^t.D(i);return new he(n,this.h^t.h)};function U0(t){for(var e=t.g.length+1,n=[],i=0;i<e;i++)n[i]=t.D(i)<<1|t.D(i-1)>>>31;return new he(n,t.h)}function ds(t,e){var n=e>>5;e%=32;for(var i=t.g.length-n,r=[],s=0;s<i;s++)r[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new he(r,t.h)}Ku.prototype.createWebChannel=Ku.prototype.g;Gt.prototype.send=Gt.prototype.u;Gt.prototype.open=Gt.prototype.m;Gt.prototype.close=Gt.prototype.close;Zh.NO_ERROR=0;Zh.TIMEOUT=8;Zh.HTTP_ERROR=6;hS.COMPLETE="complete";dS.EventType=Nl;Nl.OPEN="a";Nl.CLOSE="b";Nl.ERROR="c";Nl.MESSAGE="d";Je.prototype.listen=Je.prototype.O;De.prototype.listenOnce=De.prototype.P;De.prototype.getLastError=De.prototype.Sa;De.prototype.getLastErrorCode=De.prototype.Ia;De.prototype.getStatus=De.prototype.da;De.prototype.getResponseJson=De.prototype.Wa;De.prototype.getResponseText=De.prototype.ja;De.prototype.send=De.prototype.ha;De.prototype.setWithCredentials=De.prototype.Oa;wn.prototype.digest=wn.prototype.l;wn.prototype.reset=wn.prototype.reset;wn.prototype.update=wn.prototype.j;he.prototype.add=he.prototype.add;he.prototype.multiply=he.prototype.R;he.prototype.modulo=he.prototype.gb;he.prototype.compare=he.prototype.X;he.prototype.toNumber=he.prototype.ea;he.prototype.toString=he.prototype.toString;he.prototype.getBits=he.prototype.D;he.fromNumber=Cn;he.fromString=GS;var oL=function(){return new Ku},aL=function(){return Jh()},Lf=Zh,lL=hS,cL=rs,z0={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},uL=Ml,xc=dS,hL=De,dL=wn,Bs=he;const H0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ft.UNAUTHENTICATED=new ft(null),ft.GOOGLE_CREDENTIALS=new ft("google-credentials-uid"),ft.FIRST_PARTY=new ft("first-party-uid"),ft.MOCK_USER=new ft("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yo="10.5.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zr=new Gm("@firebase/firestore");function $o(){return zr.logLevel}function M(t,...e){if(zr.logLevel<=ee.DEBUG){const n=e.map(k_);zr.debug(`Firestore (${yo}): ${t}`,...n)}}function hi(t,...e){if(zr.logLevel<=ee.ERROR){const n=e.map(k_);zr.error(`Firestore (${yo}): ${t}`,...n)}}function Zs(t,...e){if(zr.logLevel<=ee.WARN){const n=e.map(k_);zr.warn(`Firestore (${yo}): ${t}`,...n)}}function k_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z(t="Unexpected state"){const e=`FIRESTORE (${yo}) INTERNAL ASSERTION FAILED: `+t;throw hi(e),new Error(e)}function Ee(t,e){t||z()}function G(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class L extends Un{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ft.UNAUTHENTICATED))}shutdown(){}}class pL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class gL{constructor(e){this.t=e,this.currentUser=ft.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i;const r=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let s=new Wi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Wi,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await r(this.currentUser)})},a=l=>{M("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(M("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Wi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(M("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ee(typeof i.accessToken=="string"),new KS(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ee(e===null||typeof e=="string"),new ft(e)}}class mL{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=ft.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class _L{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new mL(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ft.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vL{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const i=s=>{s.error!=null&&M("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,M("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{M("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?r(s):M("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ee(typeof n.token=="string"),this.R=n.token,new yL(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=wL(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=e.charAt(r[s]%e.length))}return i}}function ae(t,e){return t<e?-1:t>e?1:0}function eo(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new L(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new L(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new L(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new L(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ge.fromMillis(Date.now())}static fromDate(e){return Ge.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new Ge(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ae(this.nanoseconds,e.nanoseconds):ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.timestamp=e}static fromTimestamp(e){return new q(e)}static min(){return new q(new Ge(0,0))}static max(){return new q(new Ge(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e,n,i){n===void 0?n=0:n>e.length&&z(),i===void 0?i=e.length-n:i>e.length-n&&z(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return ol.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ol?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let r=0;r<i;r++){const s=e.get(r),o=n.get(r);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Te extends ol{construct(e,n,i){return new Te(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new L(k.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new Te(n)}static emptyPath(){return new Te([])}}const xL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rt extends ol{construct(e,n,i){return new rt(e,n,i)}static isValidIdentifier(e){return xL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new rt(["__name__"])}static fromServerFormat(e){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new L(k.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let o=!1;for(;r<e.length;){const a=e[r];if(a==="\\"){if(r+1===e.length)throw new L(k.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new L(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new L(k.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rt(n)}static emptyPath(){return new rt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e){this.path=e}static fromPath(e){return new j(Te.fromString(e))}static fromName(e){return new j(Te.fromString(e).popFirst(5))}static empty(){return new j(Te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Te.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Te.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new j(new Te(e.slice()))}}function EL(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=q.fromTimestamp(i===1e9?new Ge(n+1,0):new Ge(n,i));return new Xi(r,j.empty(),e)}function bL(t){return new Xi(t.readTime,t.key,-1)}class Xi{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Xi(q.min(),j.empty(),-1)}static max(){return new Xi(q.max(),j.empty(),-1)}}function TL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=j.comparator(t.documentKey,e.documentKey),n!==0?n:ae(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class IL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jl(t){if(t.code!==k.FAILED_PRECONDITION||t.message!==SL)throw t;M("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&z(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new A((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof A?n:A.resolve(n)}catch(n){return A.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):A.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):A.reject(n)}static resolve(e){return new A((n,i)=>{n(e)})}static reject(e){return new A((n,i)=>{i(e)})}static waitFor(e){return new A((n,i)=>{let r=0,s=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&n()},l=>i(l))}),o=!0,s===r&&n()})}static or(e){let n=A.resolve(!1);for(const i of e)n=n.next(r=>r?A.resolve(r):i());return n}static forEach(e,n){const i=[];return e.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(e,n){return new A((i,r)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===s&&i(o)},u=>r(u))}})}static doWhile(e,n){return new A((i,r)=>{const s=()=>{e()===!0?n().next(()=>{s()},r):i()};s()})}}function $l(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.se(i),this.oe=i=>n.writeSequenceNumber(i))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}A_._e=-1;function ad(t){return t==null}function Xu(t){return t===0&&1/t==-1/0}function kL(t){return typeof t=="number"&&Number.isInteger(t)&&!Xu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ss(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function YS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e,n){this.comparator=e,this.root=n||nt.EMPTY}insert(e,n){return new Pe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,nt.BLACK,null,null))}remove(e){return new Pe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ec(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ec(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ec(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ec(this.root,e,this.comparator,!0)}}class Ec{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?i(e.key,n):1,n&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nt{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??nt.RED,this.left=r??nt.EMPTY,this.right=s??nt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,s){return new nt(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return nt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return nt.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw z();const e=this.left.check();if(e!==this.right.check())throw z();return e+(this.isRed()?0:1)}}nt.EMPTY=null,nt.RED=!0,nt.BLACK=!1;nt.EMPTY=new class{constructor(){this.size=0}get key(){throw z()}get value(){throw z()}get color(){throw z()}get left(){throw z()}get right(){throw z()}copy(e,n,i,r,s){return this}insert(e,n,i){return new nt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e){this.comparator=e,this.data=new Pe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new q0(this.data.getIterator())}getIteratorFrom(e){return new q0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof at)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new at(this.comparator);return n.data=e,n}}class q0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.fields=e,e.sort(rt.comparator)}static empty(){return new zt([])}unionWith(e){let n=new at(rt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new zt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return eo(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new XS("Invalid base64 string: "+s):s}}(e);return new xt(n)}static fromUint8Array(e){const n=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xt.EMPTY_BYTE_STRING=new xt("");const AL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ji(t){if(Ee(!!t),typeof t=="string"){let e=0;const n=AL.exec(t);if(Ee(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Fe(t.seconds),nanos:Fe(t.nanos)}}function Fe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Hr(t){return typeof t=="string"?xt.fromBase64String(t):xt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C_(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function P_(t){const e=t.mapValue.fields.__previous_value__;return C_(e)?P_(e):e}function al(t){const e=Ji(t.mapValue.fields.__local_write_time__.timestampValue);return new Ge(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(e,n,i,r,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class ll{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ll("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ll&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Wr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?C_(t)?4:PL(t)?9007199254740991:10:z()}function Fn(t,e){if(t===e)return!0;const n=Wr(t);if(n!==Wr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return al(t).isEqual(al(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=Ji(r.timestampValue),a=Ji(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return Hr(r.bytesValue).isEqual(Hr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return Fe(r.geoPointValue.latitude)===Fe(s.geoPointValue.latitude)&&Fe(r.geoPointValue.longitude)===Fe(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Fe(r.integerValue)===Fe(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=Fe(r.doubleValue),a=Fe(s.doubleValue);return o===a?Xu(o)===Xu(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return eo(t.arrayValue.values||[],e.arrayValue.values||[],Fn);case 10:return function(r,s){const o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(W0(o)!==W0(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Fn(o[l],a[l])))return!1;return!0}(t,e);default:return z()}}function cl(t,e){return(t.values||[]).find(n=>Fn(n,e))!==void 0}function to(t,e){if(t===e)return 0;const n=Wr(t),i=Wr(e);if(n!==i)return ae(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return ae(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Fe(s.integerValue||s.doubleValue),l=Fe(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return G0(t.timestampValue,e.timestampValue);case 4:return G0(al(t),al(e));case 5:return ae(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Hr(s),l=Hr(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=ae(a[c],l[c]);if(u!==0)return u}return ae(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ae(Fe(s.latitude),Fe(o.latitude));return a!==0?a:ae(Fe(s.longitude),Fe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=to(a[c],l[c]);if(u)return u}return ae(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===bc.mapValue&&o===bc.mapValue)return 0;if(s===bc.mapValue)return 1;if(o===bc.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){const d=ae(l[h],u[h]);if(d!==0)return d;const p=to(a[l[h]],c[u[h]]);if(p!==0)return p}return ae(l.length,u.length)}(t.mapValue,e.mapValue);default:throw z()}}function G0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ae(t,e);const n=Ji(t),i=Ji(e),r=ae(n.seconds,i.seconds);return r!==0?r:ae(n.nanos,i.nanos)}function no(t){return vg(t)}function vg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=Ji(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Hr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return j.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(const s of n.values||[])r?r=!1:i+=",",i+=vg(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",s=!0;for(const o of i)s?s=!1:r+=",",r+=`${o}:${vg(n.fields[o])}`;return r+"}"}(t.mapValue):z()}function wg(t){return!!t&&"integerValue"in t}function R_(t){return!!t&&"arrayValue"in t}function K0(t){return!!t&&"nullValue"in t}function Q0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ru(t){return!!t&&"mapValue"in t}function wa(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ss(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=wa(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=wa(t.arrayValue.values[n]);return e}return Object.assign({},t)}function PL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.value=e}static empty(){return new Nt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!ru(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=wa(n)}setAll(e){let n=rt.emptyPath(),i={},r=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,i,r),i={},r=[],n=a.popLast()}o?i[a.lastSegment()]=wa(o):r.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(e){const n=this.field(e.popLast());ru(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];ru(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){ss(n,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new Nt(wa(this.value))}}function JS(t){const e=[];return ss(t.fields,(n,i)=>{const r=new rt([n]);if(ru(i)){const s=JS(i.mapValue).fields;if(s.length===0)e.push(r);else for(const o of s)e.push(r.child(o))}else e.push(r)}),new zt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,n,i,r,s,o,a){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new gt(e,0,q.min(),q.min(),q.min(),Nt.empty(),0)}static newFoundDocument(e,n,i,r){return new gt(e,1,n,q.min(),i,r,0)}static newNoDocument(e,n){return new gt(e,2,n,q.min(),q.min(),Nt.empty(),0)}static newUnknownDocument(e,n){return new gt(e,3,n,q.min(),q.min(),Nt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(q.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=q.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e,n){this.position=e,this.inclusive=n}}function Y0(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const s=e[r],o=t.position[r];if(s.field.isKeyField()?i=j.comparator(j.fromName(o.referenceValue),n.key):i=to(o,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function X0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Fn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,n="asc"){this.field=e,this.dir=n}}function RL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{}class He extends ZS{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new OL(e,n,i):n==="array-contains"?new LL(e,i):n==="in"?new VL(e,i):n==="not-in"?new jL(e,i):n==="array-contains-any"?new $L(e,i):new He(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new DL(e,i):new ML(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(to(n,this.value)):n!==null&&Wr(this.value)===Wr(n)&&this.matchesComparison(to(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return z()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bn extends ZS{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Bn(e,n)}matches(e){return eI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function eI(t){return t.op==="and"}function tI(t){return NL(t)&&eI(t)}function NL(t){for(const e of t.filters)if(e instanceof Bn)return!1;return!0}function xg(t){if(t instanceof He)return t.field.canonicalString()+t.op.toString()+no(t.value);if(tI(t))return t.filters.map(e=>xg(e)).join(",");{const e=t.filters.map(n=>xg(n)).join(",");return`${t.op}(${e})`}}function nI(t,e){return t instanceof He?function(i,r){return r instanceof He&&i.op===r.op&&i.field.isEqual(r.field)&&Fn(i.value,r.value)}(t,e):t instanceof Bn?function(i,r){return r instanceof Bn&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,a)=>s&&nI(o,r.filters[a]),!0):!1}(t,e):void z()}function iI(t){return t instanceof He?function(n){return`${n.field.canonicalString()} ${n.op} ${no(n.value)}`}(t):t instanceof Bn?function(n){return n.op.toString()+" {"+n.getFilters().map(iI).join(" ,")+"}"}(t):"Filter"}class OL extends He{constructor(e,n,i){super(e,n,i),this.key=j.fromName(i.referenceValue)}matches(e){const n=j.comparator(e.key,this.key);return this.matchesComparison(n)}}class DL extends He{constructor(e,n){super(e,"in",n),this.keys=rI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ML extends He{constructor(e,n){super(e,"not-in",n),this.keys=rI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function rI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>j.fromName(i.referenceValue))}class LL extends He{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return R_(n)&&cl(n.arrayValue,this.value)}}class VL extends He{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&cl(this.value.arrayValue,n)}}class jL extends He{constructor(e,n){super(e,"not-in",n)}matches(e){if(cl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!cl(this.value.arrayValue,n)}}class $L extends He{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!R_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>cl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(e,n=null,i=[],r=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function J0(t,e=null,n=[],i=[],r=null,s=null,o=null){return new FL(t,e,n,i,r,s,o)}function N_(t){const e=G(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>xg(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),ad(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>no(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>no(i)).join(",")),e.ce=n}return e.ce}function O_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!RL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!nI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!X0(t.startAt,e.startAt)&&X0(t.endAt,e.endAt)}function Eg(t){return j.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,n=null,i=[],r=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function BL(t,e,n,i,r,s,o,a){return new ld(t,e,n,i,r,s,o,a)}function sI(t){return new ld(t)}function Z0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function UL(t){return t.collectionGroup!==null}function xa(t){const e=G(t);if(e.le===null){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new at(rt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new Zu(s,i))}),n.has(rt.keyField().canonicalString())||e.le.push(new Zu(rt.keyField(),i))}return e.le}function Ln(t){const e=G(t);return e.he||(e.he=zL(e,xa(t))),e.he}function zL(t,e){if(t.limitType==="F")return J0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new Zu(r.field,s)});const n=t.endAt?new Ju(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Ju(t.startAt.position,t.startAt.inclusive):null;return J0(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function bg(t,e,n){return new ld(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function cd(t,e){return O_(Ln(t),Ln(e))&&t.limitType===e.limitType}function oI(t){return`${N_(Ln(t))}|lt:${t.limitType}`}function ps(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>iI(r)).join(", ")}]`),ad(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>no(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>no(r)).join(",")),`Target(${i})`}(Ln(t))}; limitType=${t.limitType})`}function ud(t,e){return e.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):j.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(t,e)&&function(i,r){for(const s of xa(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(o,a,l){const c=Y0(o,a,l);return o.inclusive?c<=0:c<0}(i.startAt,xa(i),r)||i.endAt&&!function(o,a,l){const c=Y0(o,a,l);return o.inclusive?c>=0:c>0}(i.endAt,xa(i),r))}(t,e)}function HL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function aI(t){return(e,n)=>{let i=!1;for(const r of xa(t)){const s=WL(r,e,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function WL(t,e,n){const i=t.field.isKeyField()?j.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?to(l,c):z()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return z()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){ss(this.inner,(n,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return YS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL=new Pe(j.comparator);function di(){return qL}const lI=new Pe(j.comparator);function ia(...t){let e=lI;for(const n of t)e=e.insert(n.key,n);return e}function cI(t){let e=lI;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Sr(){return Ea()}function uI(){return Ea()}function Ea(){return new vo(t=>t.toString(),(t,e)=>t.isEqual(e))}const GL=new Pe(j.comparator),KL=new at(j.comparator);function J(...t){let e=KL;for(const n of t)e=e.add(n);return e}const QL=new at(ae);function YL(){return QL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xu(e)?"-0":e}}function dI(t){return{integerValue:""+t}}function XL(t,e){return kL(e)?dI(e):hI(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(){this._=void 0}}function JL(t,e,n){return t instanceof eh?function(r,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&C_(s)&&(s=P_(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof ul?pI(t,e):t instanceof hl?gI(t,e):function(r,s){const o=fI(r,s),a=ew(o)+ew(r.Ie);return wg(o)&&wg(r.Ie)?dI(a):hI(r.serializer,a)}(t,e)}function ZL(t,e,n){return t instanceof ul?pI(t,e):t instanceof hl?gI(t,e):n}function fI(t,e){return t instanceof th?function(i){return wg(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}class eh extends hd{}class ul extends hd{constructor(e){super(),this.elements=e}}function pI(t,e){const n=mI(e);for(const i of t.elements)n.some(r=>Fn(r,i))||n.push(i);return{arrayValue:{values:n}}}class hl extends hd{constructor(e){super(),this.elements=e}}function gI(t,e){let n=mI(e);for(const i of t.elements)n=n.filter(r=>!Fn(r,i));return{arrayValue:{values:n}}}class th extends hd{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function ew(t){return Fe(t.integerValue||t.doubleValue)}function mI(t){return R_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function eV(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof ul&&r instanceof ul||i instanceof hl&&r instanceof hl?eo(i.elements,r.elements,Fn):i instanceof th&&r instanceof th?Fn(i.Ie,r.Ie):i instanceof eh&&r instanceof eh}(t.transform,e.transform)}class tV{constructor(e,n){this.version=e,this.transformResults=n}}class Vn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Vn}static exists(e){return new Vn(void 0,e)}static updateTime(e){return new Vn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function su(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class dd{}function _I(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new vI(t.key,Vn.none()):new Fl(t.key,t.data,Vn.none());{const n=t.data,i=Nt.empty();let r=new at(rt.comparator);for(let s of e.fields)if(!r.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new ar(t.key,i,new zt(r.toArray()),Vn.none())}}function nV(t,e,n){t instanceof Fl?function(r,s,o){const a=r.value.clone(),l=nw(r.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ar?function(r,s,o){if(!su(r.precondition,s))return void s.convertToUnknownDocument(o.version);const a=nw(r.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(yI(r)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ba(t,e,n,i){return t instanceof Fl?function(s,o,a,l){if(!su(s.precondition,o))return a;const c=s.value.clone(),u=iw(s.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,i):t instanceof ar?function(s,o,a,l){if(!su(s.precondition,o))return a;const c=iw(s.fieldTransforms,l,o),u=o.data;return u.setAll(yI(s)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,i):function(s,o,a){return su(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function iV(t,e){let n=null;for(const i of t.fieldTransforms){const r=e.data.field(i.field),s=fI(i.transform,r||null);s!=null&&(n===null&&(n=Nt.empty()),n.set(i.field,s))}return n||null}function tw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&eo(i,r,(s,o)=>eV(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Fl extends dd{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class ar extends dd{constructor(e,n,i,r,s=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function yI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function nw(t,e,n){const i=new Map;Ee(t.length===n.length);for(let r=0;r<n.length;r++){const s=t[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,ZL(o,a,n[r]))}return i}function iw(t,e,n){const i=new Map;for(const r of t){const s=r.transform,o=n.data.field(r.field);i.set(r.field,JL(s,o,e))}return i}class vI extends dd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rV extends dd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&nV(s,e,i[r])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=ba(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=ba(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=uI();return this.mutations.forEach(r=>{const s=e.get(r.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(r.key)?null:a;const l=_I(o,a);l!==null&&i.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(q.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),J())}isEqual(e){return this.batchId===e.batchId&&eo(this.mutations,e.mutations,(n,i)=>tw(n,i))&&eo(this.baseMutations,e.baseMutations,(n,i)=>tw(n,i))}}class D_{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){Ee(e.mutations.length===i.length);let r=function(){return GL}();const s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new D_(e,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $e,ie;function lV(t){switch(t){default:return z();case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0}}function wI(t){if(t===void 0)return hi("GRPC error has no .code"),k.UNKNOWN;switch(t){case $e.OK:return k.OK;case $e.CANCELLED:return k.CANCELLED;case $e.UNKNOWN:return k.UNKNOWN;case $e.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case $e.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case $e.INTERNAL:return k.INTERNAL;case $e.UNAVAILABLE:return k.UNAVAILABLE;case $e.UNAUTHENTICATED:return k.UNAUTHENTICATED;case $e.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case $e.NOT_FOUND:return k.NOT_FOUND;case $e.ALREADY_EXISTS:return k.ALREADY_EXISTS;case $e.PERMISSION_DENIED:return k.PERMISSION_DENIED;case $e.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case $e.ABORTED:return k.ABORTED;case $e.OUT_OF_RANGE:return k.OUT_OF_RANGE;case $e.UNIMPLEMENTED:return k.UNIMPLEMENTED;case $e.DATA_LOSS:return k.DATA_LOSS;default:return z()}}(ie=$e||($e={}))[ie.OK=0]="OK",ie[ie.CANCELLED=1]="CANCELLED",ie[ie.UNKNOWN=2]="UNKNOWN",ie[ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ie[ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ie[ie.NOT_FOUND=5]="NOT_FOUND",ie[ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",ie[ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",ie[ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",ie[ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ie[ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ie[ie.ABORTED=10]="ABORTED",ie[ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",ie[ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",ie[ie.INTERNAL=13]="INTERNAL",ie[ie.UNAVAILABLE=14]="UNAVAILABLE",ie[ie.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uV=new Bs([4294967295,4294967295],0);function rw(t){const e=cV().encode(t),n=new dL;return n.update(e),new Uint8Array(n.digest())}function sw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Bs([n,i],0),new Bs([r,s],0)]}class M_{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new ra(`Invalid padding: ${n}`);if(i<0)throw new ra(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new ra(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new ra(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Bs.fromNumber(this.Te)}de(e,n,i){let r=e.add(n.multiply(Bs.fromNumber(i)));return r.compare(uV)===1&&(r=new Bs([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=rw(e),[i,r]=sw(n);for(let s=0;s<this.hashCount;s++){const o=this.de(i,r,s);if(!this.Ae(o))return!1}return!0}static create(e,n,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new M_(s,r,n);return i.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=rw(e),[i,r]=sw(n);for(let s=0;s<this.hashCount;s++){const o=this.de(i,r,s);this.Re(o)}}Re(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class ra extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e,n,i,r,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const r=new Map;return r.set(e,Bl.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new fd(q.min(),r,new Pe(ae),di(),J())}}class Bl{constructor(e,n,i,r,s){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Bl(i,n,J(),J(),J())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,n,i,r){this.Ve=e,this.removedTargetIds=n,this.key=i,this.me=r}}class xI{constructor(e,n){this.targetId=e,this.fe=n}}class EI{constructor(e,n,i=xt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}}class ow{constructor(){this.ge=0,this.pe=lw(),this.ye=xt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=J(),n=J(),i=J();return this.pe.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:z()}}),new Bl(this.ye,this.we,e,n,i)}Fe(){this.Se=!1,this.pe=lw()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class hV{constructor(e){this.Le=e,this.ke=new Map,this.qe=di(),this.Qe=aw(),this.Ke=new Pe(ae)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const i=this.ze(n);switch(e.state){case 0:this.je(n)&&i.Ce(e.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(e.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(n);break;case 3:this.je(n)&&(i.Be(),i.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),i.Ce(e.resumeToken));break;default:z()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((i,r)=>{this.je(r)&&n(r)})}Je(e){const n=e.targetId,i=e.fe.count,r=this.Ye(n);if(r){const s=r.target;if(Eg(s))if(i===0){const o=new j(s.path);this.We(n,o,gt.newNoDocument(o,q.min()))}else Ee(i===1);else{const o=this.Ze(n);if(o!==i){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n;let o,a;try{o=Hr(i).toUint8Array()}catch(l){if(l instanceof XS)return Zs("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new M_(o,r,s)}catch(l){return Zs(l instanceof ra?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,i){return n.fe.count===i-this.rt(e,n.targetId)?0:2}rt(e,n){const i=this.Le.getRemoteKeysForTarget(n);let r=0;return i.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),r++)}),r}it(e){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&Eg(a.target)){const l=new j(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,gt.newNoDocument(l,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let i=J();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Ye(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const r=new fd(e,n,this.Ke,this.qe,i);return this.qe=di(),this.Qe=aw(),this.Ke=new Pe(ae),r}Ue(e,n){if(!this.je(e))return;const i=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,i),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,i){if(!this.je(e))return;const r=this.ze(e);this.st(e,n)?r.Me(n,1):r.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),i&&(this.qe=this.qe.insert(n,i))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new ow,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new at(ae),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||M("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new ow),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function aw(){return new Pe(j.comparator)}function lw(){return new Pe(j.comparator)}const dV=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),fV=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),pV=(()=>({and:"AND",or:"OR"}))();class gV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Tg(t,e){return t.useProto3Json||ad(e)?e:{value:e}}function nh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function mV(t,e){return nh(t,e.toTimestamp())}function jn(t){return Ee(!!t),q.fromTimestamp(function(n){const i=Ji(n);return new Ge(i.seconds,i.nanos)}(t))}function L_(t,e){return function(i){return new Te(["projects",i.projectId,"databases",i.database])}(t).child("documents").child(e).canonicalString()}function TI(t){const e=Te.fromString(t);return Ee(AI(e)),e}function Sg(t,e){return L_(t.databaseId,e.path)}function Vf(t,e){const n=TI(e);if(n.get(1)!==t.databaseId.projectId)throw new L(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new L(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new j(SI(n))}function Ig(t,e){return L_(t.databaseId,e)}function _V(t){const e=TI(t);return e.length===4?Te.emptyPath():SI(e)}function kg(t){return new Te(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function SI(t){return Ee(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function cw(t,e,n){return{name:Sg(t,e),fields:n.value.mapValue.fields}}function yV(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:z()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(Ee(u===void 0||typeof u=="string"),xt.fromBase64String(u||"")):(Ee(u===void 0||u instanceof Uint8Array),xt.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?k.UNKNOWN:wI(c.code);return new L(u,c.message||"")}(o);n=new EI(i,r,s,a||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=Vf(t,i.document.name),s=jn(i.document.updateTime),o=i.document.createTime?jn(i.document.createTime):q.min(),a=new Nt({mapValue:{fields:i.document.fields}}),l=gt.newFoundDocument(r,s,o,a),c=i.targetIds||[],u=i.removedTargetIds||[];n=new ou(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=Vf(t,i.document),s=i.readTime?jn(i.readTime):q.min(),o=gt.newNoDocument(r,s),a=i.removedTargetIds||[];n=new ou([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=Vf(t,i.document),s=i.removedTargetIds||[];n=new ou([],s,r,null)}else{if(!("filter"in e))return z();{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,o=new aV(r,s),a=i.targetId;n=new xI(a,o)}}return n}function vV(t,e){let n;if(e instanceof Fl)n={update:cw(t,e.key,e.value)};else if(e instanceof vI)n={delete:Sg(t,e.key)};else if(e instanceof ar)n={update:cw(t,e.key,e.data),updateMask:AV(e.fieldMask)};else{if(!(e instanceof rV))return z();n={verify:Sg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(s,o){const a=o.transform;if(a instanceof eh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ul)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof hl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof th)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw z()}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:mV(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:z()}(t,e.precondition)),n}function wV(t,e){return t&&t.length>0?(Ee(e!==void 0),t.map(n=>function(r,s){let o=r.updateTime?jn(r.updateTime):jn(s);return o.isEqual(q.min())&&(o=jn(s)),new tV(o,r.transformResults||[])}(n,e))):[]}function xV(t,e){return{documents:[Ig(t,e.path)]}}function EV(t,e){const n={structuredQuery:{}},i=e.path;e.collectionGroup!==null?(n.parent=Ig(t,i),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Ig(t,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(l){if(l.length!==0)return kI(Bn.create(l,"and"))}(e.filters);r&&(n.structuredQuery.where=r);const s=function(l){if(l.length!==0)return l.map(c=>function(h){return{field:gs(h.field),direction:SV(h.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Tg(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function bV(t){let e=_V(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){Ee(i===1);const u=n.from[0];u.allDescendants?r=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(h){const d=II(h);return d instanceof Bn&&tI(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(d=>function(g){return new Zu(ms(g.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(h){let d;return d=typeof h=="object"?h.value:h,ad(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(h){const d=!!h.before,p=h.values||[];return new Ju(p,d)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const d=!h.before,p=h.values||[];return new Ju(p,d)}(n.endAt)),BL(e,r,o,s,a,"F",l,c)}function TV(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return z()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function II(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=ms(n.unaryFilter.field);return He.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=ms(n.unaryFilter.field);return He.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ms(n.unaryFilter.field);return He.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ms(n.unaryFilter.field);return He.create(o,"!=",{nullValue:"NULL_VALUE"});default:return z()}}(t):t.fieldFilter!==void 0?function(n){return He.create(ms(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return z()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Bn.create(n.compositeFilter.filters.map(i=>II(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return z()}}(n.compositeFilter.op))}(t):z()}function SV(t){return dV[t]}function IV(t){return fV[t]}function kV(t){return pV[t]}function gs(t){return{fieldPath:t.canonicalString()}}function ms(t){return rt.fromServerFormat(t.fieldPath)}function kI(t){return t instanceof He?function(n){if(n.op==="=="){if(Q0(n.value))return{unaryFilter:{field:gs(n.field),op:"IS_NAN"}};if(K0(n.value))return{unaryFilter:{field:gs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Q0(n.value))return{unaryFilter:{field:gs(n.field),op:"IS_NOT_NAN"}};if(K0(n.value))return{unaryFilter:{field:gs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gs(n.field),op:IV(n.op),value:n.value}}}(t):t instanceof Bn?function(n){const i=n.getFilters().map(r=>kI(r));return i.length===1?i[0]:{compositeFilter:{op:kV(n.op),filters:i}}}(t):z()}function AV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function AI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,n,i,r,s=q.min(),o=q.min(),a=xt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ni(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ni(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ni(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ni(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(e){this.ut=e}}function PV(t){const e=bV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?bg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(){this.on=new NV}addToCollectionParentIndex(e,n){return this.on.add(n),A.resolve()}getCollectionParents(e,n){return A.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return A.resolve()}deleteFieldIndex(e,n){return A.resolve()}deleteAllFieldIndexes(e){return A.resolve()}createTargetIndexes(e,n){return A.resolve()}getDocumentsMatchingTarget(e,n){return A.resolve(null)}getIndexType(e,n){return A.resolve(0)}getFieldIndexes(e,n){return A.resolve([])}getNextCollectionGroupToUpdate(e){return A.resolve(null)}getMinOffset(e,n){return A.resolve(Xi.min())}getMinOffsetFromCollectionGroup(e,n){return A.resolve(Xi.min())}updateCollectionGroup(e,n,i){return A.resolve()}updateIndexEntries(e,n){return A.resolve()}}class NV{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new at(Te.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new at(Te.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new io(0)}static Nn(){return new io(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(){this.changes=new vo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,gt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?A.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&ba(i.mutation,r,zt.empty(),Ge.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,J()).next(()=>i))}getLocalViewOfDocuments(e,n,i=J()){const r=Sr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(s=>{let o=ia();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const i=Sr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,J()))}populateOverlays(e,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,i,r){let s=di();const o=Ea(),a=function(){return Ea()}();return n.forEach((l,c)=>{const u=i.get(c.key);r.has(c.key)&&(u===void 0||u.mutation instanceof ar)?s=s.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),ba(u.mutation,c,u.mutation.getFieldMask(),Ge.now())):o.set(c.key,zt.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var h;return a.set(c,new DV(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const i=Ea();let r=new Pe((o,a)=>o-a),s=J();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=i.get(l)||zt.empty();u=a.applyToLocalView(c,u),i.set(l,u);const h=(r.get(a.batchId)||J()).add(l);r=r.insert(a.batchId,h)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=uI();u.forEach(d=>{if(!s.has(d)){const p=_I(n.get(d),i.get(d));p!==null&&h.set(d,p),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return A.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(o){return j.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):UL(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-s.size):A.resolve(Sr());let a=-1,l=s;return o.next(c=>A.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(u)?A.resolve():this.remoteDocumentCache.getEntry(e,u).next(d=>{l=l.insert(u,d)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,J())).next(u=>({batchId:a,changes:cI(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new j(n)).next(i=>{let r=ia();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){const s=n.collectionGroup;let o=ia();return this.indexManager.getCollectionParents(e,s).next(a=>A.forEach(a,l=>{const c=function(h,d){return new ld(d,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,i,r).next(u=>{u.forEach((h,d)=>{o=o.insert(h,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,s,r))).next(o=>{s.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,gt.newInvalidDocument(u)))});let a=ia();return o.forEach((l,c)=>{const u=s.get(l);u!==void 0&&ba(u.mutation,c,zt.empty(),Ge.now()),ud(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return A.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(r){return{id:r.id,version:r.version,createTime:jn(r.createTime)}}(n)),A.resolve()}getNamedQuery(e,n){return A.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(r){return{name:r.name,query:PV(r.bundledQuery),readTime:jn(r.readTime)}}(n)),A.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(){this.overlays=new Pe(j.comparator),this.lr=new Map}getOverlay(e,n){return A.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Sr();return A.forEach(n,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,s)=>{this.lt(e,n,s)}),A.resolve()}removeOverlaysForBatchId(e,n,i){const r=this.lr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(i)),A.resolve()}getOverlaysForCollection(e,n,i){const r=Sr(),s=n.length+1,o=new j(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return A.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let s=new Pe((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>i){let u=s.get(c.largestBatchId);u===null&&(u=Sr(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Sr(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=r)););return A.resolve(a)}lt(e,n,i){const r=this.overlays.get(i.key);if(r!==null){const o=this.lr.get(r.largestBatchId).delete(i.key);this.lr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new oV(n,i));let s=this.lr.get(n);s===void 0&&(s=J(),this.lr.set(n,s)),this.lr.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(){this.hr=new at(Ke.Pr),this.Ir=new at(Ke.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const i=new Ke(e,n);this.hr=this.hr.add(i),this.Ir=this.Ir.add(i)}Er(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.dr(new Ke(e,n))}Ar(e,n){e.forEach(i=>this.removeReference(i,n))}Rr(e){const n=new j(new Te([])),i=new Ke(n,e),r=new Ke(n,e+1),s=[];return this.Ir.forEachInRange([i,r],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new j(new Te([])),i=new Ke(n,e),r=new Ke(n,e+1);let s=J();return this.Ir.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Ke(e,0),i=this.hr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Ke{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return j.comparator(e.key,n.key)||ae(e.gr,n.gr)}static Tr(e,n){return ae(e.gr,n.gr)||j.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new at(Ke.Pr)}checkEmpty(e){return A.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){const s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new sV(s,n,i,r);this.mutationQueue.push(o);for(const a of r)this.yr=this.yr.add(new Ke(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return A.resolve(o)}lookupMutationBatch(e,n){return A.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,r=this.Sr(i),s=r<0?0:r;return A.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return A.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return A.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Ke(n,0),r=new Ke(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([i,r],o=>{const a=this.wr(o.gr);s.push(a)}),A.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new at(ae);return n.forEach(r=>{const s=new Ke(r,0),o=new Ke(r,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{i=i.add(a.gr)})}),A.resolve(this.br(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1;let s=i;j.isDocumentKey(s)||(s=s.child(""));const o=new Ke(new j(s),0);let a=new at(ae);return this.yr.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.gr)),!0)},o),A.resolve(this.br(a))}br(e){const n=[];return e.forEach(i=>{const r=this.wr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){Ee(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.yr;return A.forEach(n.mutations,r=>{const s=new Ke(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.yr=i})}Fn(e){}containsKey(e,n){const i=new Ke(n,0),r=this.yr.firstAfterOrEqual(i);return A.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,A.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(e){this.Cr=e,this.docs=function(){return new Pe(j.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,o=this.Cr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return A.resolve(i?i.document.mutableCopy():gt.newInvalidDocument(n))}getEntries(e,n){let i=di();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():gt.newInvalidDocument(r))}),A.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let s=di();const o=n.path,a=new j(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||TL(bL(u),i)<=0||(r.has(u.key)||ud(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return A.resolve(s)}getAllFromCollectionGroup(e,n,i,r){z()}vr(e,n){return A.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new FV(this)}getSize(e){return A.resolve(this.size)}}class FV extends OV{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this._r.addEntry(e,r)):this._r.removeEntry(i)}),A.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(e){this.persistence=e,this.Fr=new vo(n=>N_(n),O_),this.lastRemoteSnapshotVersion=q.min(),this.highestTargetId=0,this.Mr=0,this.Or=new V_,this.targetCount=0,this.Nr=io.On()}forEachTarget(e,n){return this.Fr.forEach((i,r)=>n(r)),A.resolve()}getLastRemoteSnapshotVersion(e){return A.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return A.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),A.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Mr&&(this.Mr=n),A.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new io(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,A.resolve()}updateTargetData(e,n){return this.kn(n),A.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,A.resolve()}removeTargets(e,n,i){let r=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),A.waitFor(s).next(()=>r)}getTargetCount(e){return A.resolve(this.targetCount)}getTargetData(e,n){const i=this.Fr.get(n)||null;return A.resolve(i)}addMatchingKeys(e,n,i){return this.Or.Er(n,i),A.resolve()}removeMatchingKeys(e,n,i){this.Or.Ar(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),A.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),A.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Or.mr(n);return A.resolve(i)}containsKey(e,n){return A.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(e,n){this.Br={},this.overlays={},this.Lr=new A_(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new BV(this),this.indexManager=new RV,this.remoteDocumentCache=function(r){return new $V(r)}(i=>this.referenceDelegate.Qr(i)),this.serializer=new CV(n),this.Kr=new LV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new VV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Br[e.toKey()];return i||(i=new jV(n,this.referenceDelegate),this.Br[e.toKey()]=i),i}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,i){M("MemoryPersistence","Starting transaction:",e);const r=new zV(this.Lr.next());return this.referenceDelegate.$r(),i(r).next(s=>this.referenceDelegate.Ur(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Wr(e,n){return A.or(Object.values(this.Br).map(i=>()=>i.containsKey(e,n)))}}class zV extends IL{constructor(e){super(),this.currentSequenceNumber=e}}class j_{constructor(e){this.persistence=e,this.Gr=new V_,this.zr=null}static jr(e){return new j_(e)}get Hr(){if(this.zr)return this.zr;throw z()}addReference(e,n,i){return this.Gr.addReference(i,n),this.Hr.delete(i.toString()),A.resolve()}removeReference(e,n,i){return this.Gr.removeReference(i,n),this.Hr.add(i.toString()),A.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),A.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(r=>this.Hr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(s=>this.Hr.add(s.toString()))}).next(()=>i.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return A.forEach(this.Hr,i=>{const r=j.fromPath(i);return this.Jr(e,r).next(s=>{s||n.removeEntry(r,q.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(i=>{i?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return A.or([()=>A.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.ki=i,this.qi=r}static Qi(e,n){let i=J(),r=J();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new $_(e,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,i,r){const s={result:null};return this.zi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,n,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new HV;return this.Hi(e,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>s.result)}Ji(e,n,i,r){return i.documentReadCount<this.Ui?($o()<=ee.DEBUG&&M("QueryEngine","SDK will not create cache indexes for query:",ps(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),A.resolve()):($o()<=ee.DEBUG&&M("QueryEngine","Query:",ps(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Wi*r?($o()<=ee.DEBUG&&M("QueryEngine","The SDK decides to create cache indexes for query:",ps(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ln(n))):A.resolve())}zi(e,n){if(Z0(n))return A.resolve(null);let i=Ln(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=bg(n,null,"F"),i=Ln(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const o=J(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{const c=this.Yi(n,a);return this.Zi(n,c,o,l.readTime)?this.zi(e,bg(n,null,"F")):this.Xi(e,c,n,l)}))})))}ji(e,n,i,r){return Z0(n)||r.isEqual(q.min())?A.resolve(null):this.Gi.getDocuments(e,i).next(s=>{const o=this.Yi(n,s);return this.Zi(n,o,i,r)?A.resolve(null):($o()<=ee.DEBUG&&M("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ps(n)),this.Xi(e,o,n,EL(r,-1)).next(a=>a))})}Yi(e,n){let i=new at(aI(e));return n.forEach((r,s)=>{ud(e,s)&&(i=i.add(s))}),i}Zi(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Hi(e,n,i){return $o()<=ee.DEBUG&&M("QueryEngine","Using full collection scan to execute query:",ps(n)),this.Gi.getDocumentsMatchingQuery(e,n,Xi.min(),i)}Xi(e,n,i,r){return this.Gi.getDocumentsMatchingQuery(e,i,r).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(e,n,i,r){this.persistence=e,this.es=n,this.serializer=r,this.ts=new Pe(ae),this.ns=new vo(s=>N_(s),O_),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(i)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new MV(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function GV(t,e,n,i){return new qV(t,e,n,i)}async function CI(t,e){const n=G(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.os(e),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],a=[];let l=J();for(const c of r){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(i,l).next(c=>({_s:c,removedBatchIds:o,addedBatchIds:a}))})})}function KV(t,e){const n=G(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const h=c.batch,d=h.keys();let p=A.resolve();return d.forEach(g=>{p=p.next(()=>u.getEntry(l,g)).next(y=>{const w=c.docVersions.get(g);Ee(w!==null),y.version.compareTo(w)<0&&(h.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),u.addEntry(y)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,i,e,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=J();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function PI(t){const e=G(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function QV(t,e){const n=G(t),i=e.snapshotVersion;let r=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});r=n.ts;const a=[];e.targetChanges.forEach((u,h)=>{const d=r.get(h);if(!d)return;a.push(n.qr.removeMatchingKeys(s,u.removedDocuments,h).next(()=>n.qr.addMatchingKeys(s,u.addedDocuments,h)));let p=d.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(xt.EMPTY_BYTE_STRING,q.min()).withLastLimboFreeSnapshotVersion(q.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,i)),r=r.insert(h,p),function(y,w,m){return y.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(d,p,u)&&a.push(n.qr.updateTargetData(s,p))});let l=di(),c=J();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(YV(s,o,e.documentUpdates).next(u=>{l=u.us,c=u.cs})),!i.isEqual(q.min())){const u=n.qr.getLastRemoteSnapshotVersion(s).next(h=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(u)}return A.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.ts=r,s))}function YV(t,e,n){let i=J(),r=J();return n.forEach(s=>i=i.add(s)),e.getEntries(t,i).next(s=>{let o=di();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(q.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):M("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{us:o,cs:r}})}function XV(t,e){const n=G(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function JV(t,e){const n=G(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.qr.getTargetData(i,e).next(s=>s?(r=s,A.resolve(r)):n.qr.allocateTargetId(i).next(o=>(r=new Ni(e,o,"TargetPurposeListen",i.currentSequenceNumber),n.qr.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.ts.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ts=n.ts.insert(i.targetId,i),n.ns.set(e,i.targetId)),i})}async function Ag(t,e,n){const i=G(t),r=i.ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!$l(o))throw o;M("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}i.ts=i.ts.remove(e),i.ns.delete(r.target)}function uw(t,e,n){const i=G(t);let r=q.min(),s=J();return i.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const h=G(l),d=h.ns.get(u);return d!==void 0?A.resolve(h.ts.get(d)):h.qr.getTargetData(c,u)}(i,o,Ln(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>i.es.getDocumentsMatchingQuery(o,e,n?r:q.min(),n?s:J())).next(a=>(ZV(i,HL(e),a),{documents:a,ls:s})))}function ZV(t,e,n){let i=t.rs.get(e)||q.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),t.rs.set(e,i)}class hw{constructor(){this.activeTargetIds=YL()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ej{constructor(){this.eo=new hw,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,i){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new hw,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{ro(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){M("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){M("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tc=null;function jf(){return Tc===null?Tc=function(){return 268435456+Math.round(2147483648*Math.random())}():Tc++,"0x"+Tc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ht="WebChannelConnection";class rj extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=i+"://"+n.host,this.fo=`projects/${r}/databases/${s}`,this.po=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get yo(){return!1}wo(n,i,r,s,o){const a=jf(),l=this.So(n,i);M("RestConnection",`Sending RPC '${n}' ${a}:`,l,r);const c={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(c,s,o),this.Do(n,l,c,r).then(u=>(M("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw Zs("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",r),u})}Co(n,i,r,s,o,a){return this.wo(n,i,r,s,o)}bo(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+yo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>n[o]=s),r&&r.headers.forEach((s,o)=>n[o]=s)}So(n,i){const r=nj[n];return`${this.mo}/v1/${i}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,i,r){const s=jf();return new Promise((o,a)=>{const l=new hL;l.setWithCredentials(!0),l.listenOnce(lL.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Lf.NO_ERROR:const u=l.getResponseJson();M(ht,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case Lf.TIMEOUT:M(ht,`RPC '${e}' ${s} timed out`),a(new L(k.DEADLINE_EXCEEDED,"Request time out"));break;case Lf.HTTP_ERROR:const h=l.getStatus();if(M(ht,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const p=d==null?void 0:d.error;if(p&&p.status&&p.message){const g=function(w){const m=w.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(m)>=0?m:k.UNKNOWN}(p.status);a(new L(g,p.message))}else a(new L(k.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new L(k.UNAVAILABLE,"Connection failed."));break;default:z()}}finally{M(ht,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(r);M(ht,`RPC '${e}' ${s} sending request:`,r),l.send(n,"POST",c,i,15)})}vo(e,n,i){const r=jf(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=oL(),a=aL(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new uL({})),this.bo(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;const u=s.join("");M(ht,`Creating RPC '${e}' stream ${r}: ${u}`,l);const h=o.createWebChannel(u,l);let d=!1,p=!1;const g=new ij({co:w=>{p?M(ht,`Not sending because RPC '${e}' stream ${r} is closed:`,w):(d||(M(ht,`Opening RPC '${e}' stream ${r} transport.`),h.open(),d=!0),M(ht,`RPC '${e}' stream ${r} sending:`,w),h.send(w))},lo:()=>h.close()}),y=(w,m,_)=>{w.listen(m,v=>{try{_(v)}catch(x){setTimeout(()=>{throw x},0)}})};return y(h,xc.EventType.OPEN,()=>{p||M(ht,`RPC '${e}' stream ${r} transport opened.`)}),y(h,xc.EventType.CLOSE,()=>{p||(p=!0,M(ht,`RPC '${e}' stream ${r} transport closed`),g.Ro())}),y(h,xc.EventType.ERROR,w=>{p||(p=!0,Zs(ht,`RPC '${e}' stream ${r} transport errored:`,w),g.Ro(new L(k.UNAVAILABLE,"The operation could not be completed")))}),y(h,xc.EventType.MESSAGE,w=>{var m;if(!p){const _=w.data[0];Ee(!!_);const v=_,x=v.error||((m=v[0])===null||m===void 0?void 0:m.error);if(x){M(ht,`RPC '${e}' stream ${r} received error:`,x);const E=x.status;let T=function(P){const N=$e[P];if(N!==void 0)return wI(N)}(E),S=x.message;T===void 0&&(T=k.INTERNAL,S="Unknown error status: "+E+" with message "+x.message),p=!0,g.Ro(new L(T,S)),h.close()}else M(ht,`RPC '${e}' stream ${r} received:`,_),g.Vo(_)}}),y(a,cL.STAT_EVENT,w=>{w.stat===z0.PROXY?M(ht,`RPC '${e}' stream ${r} detected buffering proxy`):w.stat===z0.NOPROXY&&M(ht,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{g.Ao()},0),g}}function $f(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pd(t){return new gV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e,n,i=1e3,r=1.5,s=6e4){this.si=e,this.timerId=n,this.Fo=i,this.Mo=r,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),i=Math.max(0,Date.now()-this.Bo),r=Math.max(0,n-i);r>0&&M("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,r,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e,n,i,r,s,o,a,l){this.si=e,this.Ko=i,this.$o=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new RI(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===k.RESOURCE_EXHAUSTED?(hi(n.toString()),hi("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(n)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Uo===n&&this.s_(i,r)},i=>{e(()=>{const r=new L(k.UNKNOWN,"Fetching auth token failed: "+i.message);return this.o_(r)})})}s_(e,n){const i=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{i(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(r=>{i(()=>this.o_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(e){return M("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(M("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class sj extends NI{constructor(e,n,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=yV(this.serializer,e),i=function(s){if(!("targetChange"in s))return q.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?q.min():o.readTime?jn(o.readTime):q.min()}(e);return this.listener.a_(n,i)}u_(e){const n={};n.database=kg(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Eg(l)?{documents:xV(s,l)}:{query:EV(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=bI(s,o.resumeToken);const c=Tg(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(q.min())>0){a.readTime=nh(s,o.snapshotVersion.toTimestamp());const c=Tg(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const i=TV(this.serializer,e);i&&(n.labels=i),this.e_(n)}c_(e){const n={};n.database=kg(this.serializer),n.removeTarget=e,this.e_(n)}}class oj extends NI{constructor(e,n,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(Ee(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=wV(e.writeResults,e.commitTime),i=jn(e.commitTime);return this.listener.I_(i,n)}return Ee(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=kg(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>vV(this.serializer,i))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.d_=!1}A_(){if(this.d_)throw new L(k.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.wo(e,n,i,r,s)).catch(r=>{throw r.name==="FirebaseError"?(r.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new L(k.UNKNOWN,r.toString())})}Co(e,n,i,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,n,i,s,o,r)).catch(s=>{throw s.name==="FirebaseError"?(s.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new L(k.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class lj{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(hi(n),this.f_=!1):M("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(e,n,i,r,s){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(o=>{i.enqueueAndForget(async()=>{os(this)&&(M("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=G(l);c.C_.add(4),await Ul(c),c.M_.set("Unknown"),c.C_.delete(4),await gd(c)}(this))})}),this.M_=new lj(i,r)}}async function gd(t){if(os(t))for(const e of t.v_)await e(!0)}async function Ul(t){for(const e of t.v_)await e(!1)}function OI(t,e){const n=G(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),U_(n)?B_(n):wo(n).Ho()&&F_(n,e))}function DI(t,e){const n=G(t),i=wo(n);n.D_.delete(e),i.Ho()&&MI(n,e),n.D_.size===0&&(i.Ho()?i.Zo():os(n)&&n.M_.set("Unknown"))}function F_(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(q.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}wo(t).u_(e)}function MI(t,e){t.x_.Oe(e),wo(t).c_(e)}function B_(t){t.x_=new hV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),wo(t).start(),t.M_.g_()}function U_(t){return os(t)&&!wo(t).jo()&&t.D_.size>0}function os(t){return G(t).C_.size===0}function LI(t){t.x_=void 0}async function uj(t){t.D_.forEach((e,n)=>{F_(t,e)})}async function hj(t,e){LI(t),U_(t)?(t.M_.w_(e),B_(t)):t.M_.set("Unknown")}async function dj(t,e,n){if(t.M_.set("Online"),e instanceof EI&&e.state===2&&e.cause)try{await async function(r,s){const o=s.cause;for(const a of s.targetIds)r.D_.has(a)&&(await r.remoteSyncer.rejectListen(a,o),r.D_.delete(a),r.x_.removeTarget(a))}(t,e)}catch(i){M("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await ih(t,i)}else if(e instanceof ou?t.x_.$e(e):e instanceof xI?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(q.min()))try{const i=await PI(t.localStore);n.compareTo(i)>=0&&await function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.D_.get(c);u&&s.D_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=s.D_.get(l);if(!u)return;s.D_.set(l,u.withResumeToken(xt.EMPTY_BYTE_STRING,u.snapshotVersion)),MI(s,l);const h=new Ni(u.target,l,c,u.sequenceNumber);F_(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(i){M("RemoteStore","Failed to raise snapshot:",i),await ih(t,i)}}async function ih(t,e,n){if(!$l(e))throw e;t.C_.add(1),await Ul(t),t.M_.set("Offline"),n||(n=()=>PI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{M("RemoteStore","Retrying IndexedDB access"),await n(),t.C_.delete(1),await gd(t)})}function VI(t,e){return e().catch(n=>ih(t,n,e))}async function md(t){const e=G(t),n=Zi(e);let i=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;fj(e);)try{const r=await XV(e.localStore,i);if(r===null){e.b_.length===0&&n.Zo();break}i=r.batchId,pj(e,r)}catch(r){await ih(e,r)}jI(e)&&$I(e)}function fj(t){return os(t)&&t.b_.length<10}function pj(t,e){t.b_.push(e);const n=Zi(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function jI(t){return os(t)&&!Zi(t).jo()&&t.b_.length>0}function $I(t){Zi(t).start()}async function gj(t){Zi(t).E_()}async function mj(t){const e=Zi(t);for(const n of t.b_)e.P_(n.mutations)}async function _j(t,e,n){const i=t.b_.shift(),r=D_.from(i,e,n);await VI(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await md(t)}async function yj(t,e){e&&Zi(t).h_&&await async function(i,r){if(function(o){return lV(o)&&o!==k.ABORTED}(r.code)){const s=i.b_.shift();Zi(i).Yo(),await VI(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await md(i)}}(t,e),jI(t)&&$I(t)}async function fw(t,e){const n=G(t);n.asyncQueue.verifyOperationInProgress(),M("RemoteStore","RemoteStore received new credentials");const i=os(n);n.C_.add(3),await Ul(n),i&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),await gd(n)}async function vj(t,e){const n=G(t);e?(n.C_.delete(2),await gd(n)):e||(n.C_.add(2),await Ul(n),n.M_.set("Unknown"))}function wo(t){return t.O_||(t.O_=function(n,i,r){const s=G(n);return s.A_(),new sj(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{ho:uj.bind(null,t),Io:hj.bind(null,t),a_:dj.bind(null,t)}),t.v_.push(async e=>{e?(t.O_.Yo(),U_(t)?B_(t):t.M_.set("Unknown")):(await t.O_.stop(),LI(t))})),t.O_}function Zi(t){return t.N_||(t.N_=function(n,i,r){const s=G(n);return s.A_(),new oj(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{ho:gj.bind(null,t),Io:yj.bind(null,t),T_:mj.bind(null,t),I_:_j.bind(null,t)}),t.v_.push(async e=>{e?(t.N_.Yo(),await md(t)):(await t.N_.stop(),t.b_.length>0&&(M("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))})),t.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(e,n,i,r,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,s){const o=Date.now()+i,a=new z_(e,n,o,r,s);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new L(k.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function H_(t,e){if(hi("AsyncQueue",`${e}: ${t}`),$l(t))return new L(k.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e){this.comparator=e?(n,i)=>e(n,i)||j.comparator(n.key,i.key):(n,i)=>j.comparator(n.key,i.key),this.keyedMap=ia(),this.sortedSet=new Pe(this.comparator)}static emptySet(e){return new Us(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Us)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Us;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(){this.B_=new Pe(j.comparator)}track(e){const n=e.doc.key,i=this.B_.get(n);i?e.type!==0&&i.type===3?this.B_=this.B_.insert(n,e):e.type===3&&i.type!==1?this.B_=this.B_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.B_=this.B_.remove(n):e.type===1&&i.type===2?this.B_=this.B_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):z():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,i)=>{e.push(i)}),e}}class ro{constructor(e,n,i,r,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,i,r,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ro(e,n,Us.emptySet(n),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{constructor(){this.k_=void 0,this.listeners=[]}}class xj{constructor(){this.queries=new vo(e=>oI(e),cd),this.onlineState="Unknown",this.q_=new Set}}async function Ej(t,e){const n=G(t),i=e.query;let r=!1,s=n.queries.get(i);if(s||(r=!0,s=new wj),r)try{s.k_=await n.onListen(i)}catch(o){const a=H_(o,`Initialization of query '${ps(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.listeners.push(e),e.Q_(n.onlineState),s.k_&&e.K_(s.k_)&&W_(n)}async function bj(t,e){const n=G(t),i=e.query;let r=!1;const s=n.queries.get(i);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),r=s.listeners.length===0)}if(r)return n.queries.delete(i),n.onUnlisten(i)}function Tj(t,e){const n=G(t);let i=!1;for(const r of e){const s=r.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.K_(r)&&(i=!0);o.k_=r}}i&&W_(n)}function Sj(t,e,n){const i=G(t),r=i.queries.get(e);if(r)for(const s of r.listeners)s.onError(n);i.queries.delete(e)}function W_(t){t.q_.forEach(e=>{e.next()})}class Ij{constructor(e,n,i){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=i||{}}K_(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new ro(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;const i=n!=="Offline";return(!this.options.J_||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=ro.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(e){this.key=e}}class BI{constructor(e){this.key=e}}class kj{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=J(),this.mutatedKeys=J(),this._a=aI(e),this.aa=new Us(this._a)}get ua(){return this.ia}ca(e,n){const i=n?n.la:new pw,r=n?n.aa:this.aa;let s=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1;const l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((u,h)=>{const d=r.get(u),p=ud(this.query,h)?h:null,g=!!d&&this.mutatedKeys.has(d.key),y=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let w=!1;d&&p?d.data.isEqual(p.data)?g!==y&&(i.track({type:3,doc:p}),w=!0):this.ha(d,p)||(i.track({type:2,doc:p}),w=!0,(l&&this._a(p,l)>0||c&&this._a(p,c)<0)&&(a=!0)):!d&&p?(i.track({type:0,doc:p}),w=!0):d&&!p&&(i.track({type:1,doc:d}),w=!0,(l||c)&&(a=!0)),w&&(p?(o=o.add(p),s=y?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),i.track({type:1,doc:u})}return{aa:o,la:i,Zi:a,mutatedKeys:s}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i){const r=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const s=e.la.L_();s.sort((c,u)=>function(d,p){const g=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return z()}};return g(d)-g(p)}(c.type,u.type)||this._a(c.doc,u.doc)),this.Pa(i);const o=n?this.Ia():[],a=this.oa.size===0&&this.current?1:0,l=a!==this.sa;return this.sa=a,s.length!==0||l?{snapshot:new ro(this.query,e.aa,r,s,e.mutatedKeys,a===0,l,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ta:o}:{Ta:o}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new pw,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=J(),this.aa.forEach(i=>{this.Ea(i.key)&&(this.oa=this.oa.add(i.key))});const n=[];return e.forEach(i=>{this.oa.has(i)||n.push(new BI(i))}),this.oa.forEach(i=>{e.has(i)||n.push(new FI(i))}),n}da(e){this.ia=e.ls,this.oa=J();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return ro.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class Aj{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class Cj{constructor(e){this.key=e,this.Ra=!1}}class Pj{constructor(e,n,i,r,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new vo(a=>oI(a),cd),this.fa=new Map,this.ga=new Set,this.pa=new Pe(j.comparator),this.ya=new Map,this.wa=new V_,this.Sa={},this.ba=new Map,this.Da=io.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function Rj(t,e){const n=Bj(t);let i,r;const s=n.ma.get(e);if(s)i=s.targetId,n.sharedClientState.addLocalQueryTarget(i),r=s.view.Aa();else{const o=await JV(n.localStore,Ln(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);i=o.targetId,r=await Nj(n,e,i,a==="current",o.resumeToken),n.isPrimaryClient&&OI(n.remoteStore,o)}return r}async function Nj(t,e,n,i,r){t.va=(h,d,p)=>async function(y,w,m,_){let v=w.view.ca(m);v.Zi&&(v=await uw(y.localStore,w.query,!1).then(({documents:T})=>w.view.ca(T,v)));const x=_&&_.targetChanges.get(w.targetId),E=w.view.applyChanges(v,y.isPrimaryClient,x);return mw(y,w.targetId,E.Ta),E.snapshot}(t,h,d,p);const s=await uw(t.localStore,e,!0),o=new kj(e,s.ls),a=o.ca(s.documents),l=Bl.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),c=o.applyChanges(a,t.isPrimaryClient,l);mw(t,n,c.Ta);const u=new Aj(e,n,o);return t.ma.set(e,u),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),c.snapshot}async function Oj(t,e){const n=G(t),i=n.ma.get(e),r=n.fa.get(i.targetId);if(r.length>1)return n.fa.set(i.targetId,r.filter(s=>!cd(s,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Ag(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),DI(n.remoteStore,i.targetId),Cg(n,i.targetId)}).catch(jl)):(Cg(n,i.targetId),await Ag(n.localStore,i.targetId,!0))}async function Dj(t,e,n){const i=Uj(t);try{const r=await function(o,a){const l=G(o),c=Ge.now(),u=a.reduce((p,g)=>p.add(g.key),J());let h,d;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=di(),y=J();return l.ss.getEntries(p,u).next(w=>{g=w,g.forEach((m,_)=>{_.isValidDocument()||(y=y.add(m))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(w=>{h=w;const m=[];for(const _ of a){const v=iV(_,h.get(_.key).overlayedDocument);v!=null&&m.push(new ar(_.key,v,JS(v.value.mapValue),Vn.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,m,a)}).next(w=>{d=w;const m=w.applyToLocalDocumentSet(h,y);return l.documentOverlayCache.saveOverlays(p,w.batchId,m)})}).then(()=>({batchId:d.batchId,changes:cI(h)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,l){let c=o.Sa[o.currentUser.toKey()];c||(c=new Pe(ae)),c=c.insert(a,l),o.Sa[o.currentUser.toKey()]=c}(i,r.batchId,n),await zl(i,r.changes),await md(i.remoteStore)}catch(r){const s=H_(r,"Failed to persist write");n.reject(s)}}async function UI(t,e){const n=G(t);try{const i=await QV(n.localStore,e);e.targetChanges.forEach((r,s)=>{const o=n.ya.get(s);o&&(Ee(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.Ra=!0:r.modifiedDocuments.size>0?Ee(o.Ra):r.removedDocuments.size>0&&(Ee(o.Ra),o.Ra=!1))}),await zl(n,i,e)}catch(i){await jl(i)}}function gw(t,e,n){const i=G(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.ma.forEach((s,o)=>{const a=o.view.Q_(e);a.snapshot&&r.push(a.snapshot)}),function(o,a){const l=G(o);l.onlineState=a;let c=!1;l.queries.forEach((u,h)=>{for(const d of h.listeners)d.Q_(a)&&(c=!0)}),c&&W_(l)}(i.eventManager,e),r.length&&i.Va.a_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function Mj(t,e,n){const i=G(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.ya.get(e),s=r&&r.key;if(s){let o=new Pe(j.comparator);o=o.insert(s,gt.newNoDocument(s,q.min()));const a=J().add(s),l=new fd(q.min(),new Map,new Pe(ae),o,a);await UI(i,l),i.pa=i.pa.remove(s),i.ya.delete(e),q_(i)}else await Ag(i.localStore,e,!1).then(()=>Cg(i,e,n)).catch(jl)}async function Lj(t,e){const n=G(t),i=e.batch.batchId;try{const r=await KV(n.localStore,e);HI(n,i,null),zI(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await zl(n,r)}catch(r){await jl(r)}}async function Vj(t,e,n){const i=G(t);try{const r=await function(o,a){const l=G(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(Ee(h!==null),u=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(i.localStore,e);HI(i,e,n),zI(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await zl(i,r)}catch(r){await jl(r)}}function zI(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function HI(t,e,n){const i=G(t);let r=i.Sa[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(n?s.reject(n):s.resolve(),r=r.remove(e)),i.Sa[i.currentUser.toKey()]=r}}function Cg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.fa.get(e))t.ma.delete(i),n&&t.Va.Fa(i,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(i=>{t.wa.containsKey(i)||WI(t,i)})}function WI(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);n!==null&&(DI(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),q_(t))}function mw(t,e,n){for(const i of n)i instanceof FI?(t.wa.addReference(i.key,e),jj(t,i)):i instanceof BI?(M("SyncEngine","Document no longer in limbo: "+i.key),t.wa.removeReference(i.key,e),t.wa.containsKey(i.key)||WI(t,i.key)):z()}function jj(t,e){const n=e.key,i=n.path.canonicalString();t.pa.get(n)||t.ga.has(i)||(M("SyncEngine","New document in limbo: "+n),t.ga.add(i),q_(t))}function q_(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new j(Te.fromString(e)),i=t.Da.next();t.ya.set(i,new Cj(n)),t.pa=t.pa.insert(n,i),OI(t.remoteStore,new Ni(Ln(sI(n.path)),i,"TargetPurposeLimboResolution",A_._e))}}async function zl(t,e,n){const i=G(t),r=[],s=[],o=[];i.ma.isEmpty()||(i.ma.forEach((a,l)=>{o.push(i.va(l,e,n).then(c=>{if((c||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){r.push(c);const u=$_.Qi(l.targetId,c);s.push(u)}}))}),await Promise.all(o),i.Va.a_(r),await async function(l,c){const u=G(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>A.forEach(c,d=>A.forEach(d.ki,p=>u.persistence.referenceDelegate.addReference(h,d.targetId,p)).next(()=>A.forEach(d.qi,p=>u.persistence.referenceDelegate.removeReference(h,d.targetId,p)))))}catch(h){if(!$l(h))throw h;M("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const d=h.targetId;if(!h.fromCache){const p=u.ts.get(d),g=p.snapshotVersion,y=p.withLastLimboFreeSnapshotVersion(g);u.ts=u.ts.insert(d,y)}}}(i.localStore,s))}async function $j(t,e){const n=G(t);if(!n.currentUser.isEqual(e)){M("SyncEngine","User change. New user:",e.toKey());const i=await CI(n.localStore,e);n.currentUser=e,function(s,o){s.ba.forEach(a=>{a.forEach(l=>{l.reject(new L(k.CANCELLED,o))})}),s.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await zl(n,i._s)}}function Fj(t,e){const n=G(t),i=n.ya.get(e);if(i&&i.Ra)return J().add(i.key);{let r=J();const s=n.fa.get(e);if(!s)return r;for(const o of s){const a=n.ma.get(o);r=r.unionWith(a.view.ua)}return r}}function Bj(t){const e=G(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=UI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Fj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Mj.bind(null,e),e.Va.a_=Tj.bind(null,e.eventManager),e.Va.Fa=Sj.bind(null,e.eventManager),e}function Uj(t){const e=G(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Lj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Vj.bind(null,e),e}class _w{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=pd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return GV(this.persistence,new WV,e.initialUser,this.serializer)}createPersistence(e){return new UV(j_.jr,this.serializer)}createSharedClientState(e){return new ej}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class zj{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>gw(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=$j.bind(null,this.syncEngine),await vj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new xj}()}createDatastore(e){const n=pd(e.databaseInfo.databaseId),i=function(s){return new rj(s)}(e.databaseInfo);return function(s,o,a,l){return new aj(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,s,o,a){return new cj(i,r,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>gw(this.syncEngine,n,0),function(){return dw.D()?new dw:new tj}())}createSyncEngine(e,n){return function(r,s,o,a,l,c,u){const h=new Pj(r,s,o,a,l,c);return u&&(h.Ca=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const i=G(n);M("RemoteStore","RemoteStore shutting down."),i.C_.add(5),await Ul(i),i.F_.shutdown(),i.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hj{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):hi("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wj{constructor(e,n,i,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=ft.UNAUTHENTICATED,this.clientId=QS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async s=>{M("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(i,s=>(M("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new L(k.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=H_(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Ff(t,e){t.asyncQueue.verifyOperationInProgress(),M("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async r=>{i.isEqual(r)||(await CI(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function yw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Gj(t);M("FirestoreClient","Initializing OnlineComponentProvider");const i=await t.getConfiguration();await e.initialize(n,i),t.setCredentialChangeListener(r=>fw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>fw(e.remoteStore,s)),t._onlineComponents=e}function qj(t){return t.name==="FirebaseError"?t.code===k.FAILED_PRECONDITION||t.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function Gj(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){M("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ff(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!qj(n))throw n;Zs("Error using user provided cache. Falling back to memory cache: "+n),await Ff(t,new _w)}}else M("FirestoreClient","Using default OfflineComponentProvider"),await Ff(t,new _w);return t._offlineComponents}async function qI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(M("FirestoreClient","Using user provided OnlineComponentProvider"),await yw(t,t._uninitializedComponentsProvider._online)):(M("FirestoreClient","Using default OnlineComponentProvider"),await yw(t,new zj))),t._onlineComponents}function Kj(t){return qI(t).then(e=>e.syncEngine)}async function Qj(t){const e=await qI(t),n=e.eventManager;return n.onListen=Rj.bind(null,e.syncEngine),n.onUnlisten=Oj.bind(null,e.syncEngine),n}function Yj(t,e,n={}){const i=new Wi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new Hj({next:d=>{o.enqueueAndForget(()=>bj(s,h)),d.fromCache&&l.source==="server"?c.reject(new L(k.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(d)},error:d=>c.reject(d)}),h=new Ij(a,u,{includeMetadataChanges:!0,J_:!0});return Ej(s,h)}(await Qj(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(t,e,n){if(!n)throw new L(k.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Xj(t,e,n,i){if(e===!0&&i===!0)throw new L(k.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ww(t){if(!j.isDocumentKey(t))throw new L(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function xw(t){if(j.isDocumentKey(t))throw new L(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function G_(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":z()}function so(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new L(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=G_(t);throw new L(k.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new L(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new L(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Xj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GI((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new L(k.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new L(k.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new L(k.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _d{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ew({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new L(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new L(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ew(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new fL;switch(i.type){case"firstParty":return new _L(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new L(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=vw.get(n);i&&(M("ComponentProvider","Removing Datastore"),vw.delete(n),i.terminate())}(this),Promise.resolve()}}function Jj(t,e,n,i={}){var r;const s=(t=so(t,_d))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Zs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let a,l;if(typeof i.mockUserToken=="string")a=i.mockUserToken,l=ft.MOCK_USER;else{a=lT(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new L(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new ft(c)}t._authCredentials=new pL(new KS(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new yd(this.firestore,e,this._query)}}class sn{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sn(this.firestore,e,this._key)}}class qi extends yd{constructor(e,n,i){super(e,n,sI(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sn(this.firestore,null,new j(e))}withConverter(e){return new qi(this.firestore,e,this._path)}}function Wt(t,e,...n){if(t=Oe(t),KI("collection","path",e),t instanceof _d){const i=Te.fromString(e,...n);return xw(i),new qi(t,null,i)}{if(!(t instanceof sn||t instanceof qi))throw new L(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Te.fromString(e,...n));return xw(i),new qi(t.firestore,null,i)}}function K_(t,e,...n){if(t=Oe(t),arguments.length===1&&(e=QS.newId()),KI("doc","path",e),t instanceof _d){const i=Te.fromString(e,...n);return ww(i),new sn(t,null,new j(i))}{if(!(t instanceof sn||t instanceof qi))throw new L(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Te.fromString(e,...n));return ww(i),new sn(t.firestore,t instanceof qi?t.converter:null,new j(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new RI(this,"async_queue_retry"),this.iu=()=>{const n=$f();n&&M("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=$f();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=$f();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new Wi;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!$l(e))throw e;M("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(i=>{this.eu=i,this.tu=!1;const r=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i);throw hi("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.tu=!1,i))));return this.Ja=n,n}enqueueAfterDelay(e,n,i){this.su(),this.ru.indexOf(e)>-1&&(n=0);const r=z_.createAndSchedule(this,e,n,i,s=>this.au(s));return this.Xa.push(r),r}su(){this.eu&&z()}verifyOperationInProgress(){}async uu(){let e;do e=this.Ja,await e;while(e!==this.Ja)}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}class vd extends _d{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=function(){return new Zj}(),this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||YI(this),this._firestoreClient.terminate()}}function e$(t,e){const n=typeof t=="object"?t:Qm(),i=typeof t=="string"?t:e||"(default)",r=Uh(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=sT("firestore");s&&Jj(r,...s)}return r}function QI(t){return t._firestoreClient||YI(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function YI(t){var e,n,i;const r=t._freezeSettings(),s=function(a,l,c,u){return new CL(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,GI(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new Wj(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new oo(xt.fromBase64String(e))}catch(n){throw new L(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new oo(xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new L(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new L(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new L(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ae(this._lat,e._lat)||ae(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t$=/^__.*__$/;class n${constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new ar(e,this.data,this.fieldMask,n,this.fieldTransforms):new Fl(e,this.data,n,this.fieldTransforms)}}class XI{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new ar(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function JI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw z()}}class X_{constructor(e,n,i,r,s,o){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new X_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Tu({path:i,du:!1});return r.Au(e),r}Ru(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Tu({path:i,du:!1});return r.Pu(),r}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return rh(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(JI(this.Iu)&&t$.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class i${constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||pd(e)}pu(e,n,i,r=!1){return new X_({Iu:e,methodName:n,gu:i,path:rt.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ZI(t){const e=t._freezeSettings(),n=pd(t._databaseId);return new i$(t._databaseId,!!e.ignoreUndefinedProperties,n)}function r$(t,e,n,i,r,s={}){const o=t.pu(s.merge||s.mergeFields?2:0,e,n,r);J_("Data must be an object, but it was:",o,i);const a=ek(i,o);let l,c;if(s.merge)l=new zt(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const h of s.mergeFields){const d=Pg(e,h,n);if(!o.contains(d))throw new L(k.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);nk(u,d)||u.push(d)}l=new zt(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new n$(new Nt(a),l,c)}class xd extends Q_{_toFieldTransform(e){if(e.Iu!==2)throw e.Iu===1?e.mu(`${this._methodName}() can only appear at the top level of your update data`):e.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xd}}function s$(t,e,n,i){const r=t.pu(1,e,n);J_("Data must be an object, but it was:",r,i);const s=[],o=Nt.empty();ss(i,(l,c)=>{const u=Z_(e,l,n);c=Oe(c);const h=r.Ru(u);if(c instanceof xd)s.push(u);else{const d=Ed(c,h);d!=null&&(s.push(u),o.set(u,d))}});const a=new zt(s);return new XI(o,a,r.fieldTransforms)}function o$(t,e,n,i,r,s){const o=t.pu(1,e,n),a=[Pg(e,i,n)],l=[r];if(s.length%2!=0)throw new L(k.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(Pg(e,s[d])),l.push(s[d+1]);const c=[],u=Nt.empty();for(let d=a.length-1;d>=0;--d)if(!nk(c,a[d])){const p=a[d];let g=l[d];g=Oe(g);const y=o.Ru(p);if(g instanceof xd)c.push(p);else{const w=Ed(g,y);w!=null&&(c.push(p),u.set(p,w))}}const h=new zt(c);return new XI(u,h,o.fieldTransforms)}function Ed(t,e){if(tk(t=Oe(t)))return J_("Unsupported field value:",e,t),ek(t,e);if(t instanceof Q_)return function(i,r){if(!JI(r.Iu))throw r.mu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.mu(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(i,r){const s=[];let o=0;for(const a of i){let l=Ed(a,r.Vu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(i,r){if((i=Oe(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return XL(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=Ge.fromDate(i);return{timestampValue:nh(r.serializer,s)}}if(i instanceof Ge){const s=new Ge(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:nh(r.serializer,s)}}if(i instanceof Y_)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof oo)return{bytesValue:bI(r.serializer,i._byteString)};if(i instanceof sn){const s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:L_(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.mu(`Unsupported field value: ${G_(i)}`)}(t,e)}function ek(t,e){const n={};return YS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ss(t,(i,r)=>{const s=Ed(r,e.Eu(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function tk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ge||t instanceof Y_||t instanceof oo||t instanceof sn||t instanceof Q_)}function J_(t,e,n){if(!tk(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const i=G_(n);throw i==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+i)}}function Pg(t,e,n){if((e=Oe(e))instanceof wd)return e._internalPath;if(typeof e=="string")return Z_(t,e);throw rh("Field path arguments must be of type string or ",t,!1,void 0,n)}const a$=new RegExp("[~\\*/\\[\\]]");function Z_(t,e,n){if(e.search(a$)>=0)throw rh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new wd(...e.split("."))._internalPath}catch{throw rh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function rh(t,e,n,i,r){const s=i&&!i.isEmpty(),o=r!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new L(k.INVALID_ARGUMENT,a+t+l)}function nk(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(e,n,i,r,s){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new l$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(rk("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class l$ extends ik{data(){return super.data()}}function rk(t,e){return typeof e=="string"?Z_(t,e):e instanceof wd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c$(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new L(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class u${convertValue(e,n="none"){switch(Wr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Hr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw z()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return ss(e,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertGeoPoint(e){return new Y_(Fe(e.latitude),Fe(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=P_(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(al(e));default:return null}}convertTimestamp(e){const n=Ji(e);return new Ge(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Te.fromString(e);Ee(AI(i));const r=new ll(i.get(1),i.get(3)),s=new j(i.popFirst(5));return r.isEqual(n)||hi(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h$(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class d$ extends ik{constructor(e,n,i,r,s,o){super(e,n,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new au(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(rk("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class au extends d${data(e={}){return super.data(e)}}class f${constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new Sc(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new au(this._firestore,this._userDataWriter,i.key,i,new Sc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new L(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>{const l=new au(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Sc(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new au(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Sc(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:p$(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function p$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return z()}}class g$ extends u${constructor(e){super(),this.firestore=e}convertBytes(e){return new oo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new sn(this.firestore,null,n)}}function Gi(t){t=so(t,yd);const e=so(t.firestore,vd),n=QI(e),i=new g$(e);return c$(t._query),Yj(n,t._query).then(r=>new f$(e,i,t,r))}function _r(t,e,n,...i){t=so(t,sn);const r=so(t.firestore,vd),s=ZI(r);let o;return o=typeof(e=Oe(e))=="string"||e instanceof wd?o$(s,"updateDoc",t._key,e,n,i):s$(s,"updateDoc",t._key,e),sk(r,[o.toMutation(t._key,Vn.exists(!0))])}function Rg(t,e){const n=so(t.firestore,vd),i=K_(t),r=h$(t.converter,e);return sk(n,[r$(ZI(t.firestore),"addDoc",i._key,r,t.converter!==null,{}).toMutation(i._key,Vn.exists(!1))]).then(()=>i)}function sk(t,e){return function(i,r){const s=new Wi;return i.asyncQueue.enqueueAndForget(async()=>Dj(await Kj(i),r,s)),s.promise}(QI(t),e)}(function(e,n=!0){(function(r){yo=r})(es),Fr(new Yi("firestore",(i,{instanceIdentifier:r,options:s})=>{const o=i.getProvider("app").getImmediate(),a=new vd(new gL(i.getProvider("auth-internal")),new vL(i.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new L(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ll(c.options.projectId,u)}(o,r),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),On(H0,"4.3.2",e),On(H0,"4.3.2","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok="firebasestorage.googleapis.com",ak="storageBucket",m$=2*60*1e3,_$=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le extends Un{constructor(e,n,i=0){super(Bf(e),`Firebase Storage: ${n} (${Bf(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Le.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Bf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Me;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Me||(Me={}));function Bf(t){return"storage/"+t}function ey(){const t="An unknown error occurred, please check the error payload for server response.";return new Le(Me.UNKNOWN,t)}function y$(t){return new Le(Me.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function v$(t){return new Le(Me.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function w$(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Le(Me.UNAUTHENTICATED,t)}function x$(){return new Le(Me.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function E$(t){return new Le(Me.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function b$(){return new Le(Me.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function T$(){return new Le(Me.CANCELED,"User canceled the upload/download.")}function S$(t){return new Le(Me.INVALID_URL,"Invalid URL '"+t+"'.")}function I$(t){return new Le(Me.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function k$(){return new Le(Me.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+ak+"' property when initializing the app?")}function A$(){return new Le(Me.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function C$(){return new Le(Me.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function P$(t){return new Le(Me.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Ng(t){return new Le(Me.INVALID_ARGUMENT,t)}function lk(){return new Le(Me.APP_DELETED,"The Firebase app was deleted.")}function R$(t){return new Le(Me.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ta(t,e){return new Le(Me.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Fo(t){throw new Le(Me.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=It.makeFromUrl(e,n)}catch{return new It(e,"")}if(i.path==="")return i;throw I$(e)}static makeFromUrl(e,n){let i=null;const r="([A-Za-z0-9.\\-_]+)";function s(x){x.path.charAt(x.path.length-1)==="/"&&(x.path_=x.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+r+o,"i"),l={bucket:1,path:3};function c(x){x.path_=decodeURIComponent(x.path)}const u="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${u}/b/${r}/o${d}`,"i"),g={bucket:1,path:3},y=n===ok?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",m=new RegExp(`^https?://${y}/${r}/${w}`,"i"),v=[{regex:a,indices:l,postModify:s},{regex:p,indices:g,postModify:c},{regex:m,indices:{bucket:1,path:2},postModify:c}];for(let x=0;x<v.length;x++){const E=v[x],T=E.regex.exec(e);if(T){const S=T[E.indices.bucket];let I=T[E.indices.path];I||(I=""),i=new It(S,I),E.postModify(i);break}}if(i==null)throw S$(e);return i}}class N${constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O$(t,e,n){let i=1,r=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function u(...w){c||(c=!0,e.apply(null,w))}function h(w){r=setTimeout(()=>{r=null,t(p,l())},w)}function d(){s&&clearTimeout(s)}function p(w,...m){if(c){d();return}if(w){d(),u.call(null,w,...m);return}if(l()||o){d(),u.call(null,w,...m);return}i<64&&(i*=2);let v;a===1?(a=2,v=0):v=(i+Math.random())*1e3,h(v)}let g=!1;function y(w){g||(g=!0,d(),!c&&(r!==null?(w||(a=2),clearTimeout(r),h(0)):w||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,y(!0)},n),y}function D$(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M$(t){return t!==void 0}function L$(t){return typeof t=="object"&&!Array.isArray(t)}function ty(t){return typeof t=="string"||t instanceof String}function bw(t){return ny()&&t instanceof Blob}function ny(){return typeof Blob<"u"&&!TN()}function Og(t,e,n,i){if(i<e)throw Ng(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw Ng(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bd(t,e,n){let i=e;return n==null&&(i=`https://${e}`),`${n}://${i}/v0${t}`}function ck(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const r=e(i)+"="+e(t[i]);n=n+r+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nr;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Nr||(Nr={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V$(t,e){const n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||r||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j${constructor(e,n,i,r,s,o,a,l,c,u,h,d=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=h,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,g)=>{this.resolve_=p,this.reject_=g,this.start_()})}start_(){const e=(i,r)=>{if(r){i(!1,new Ic(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Nr.NO_ERROR,l=s.getStatus();if(!a||V$(l,this.additionalRetryCodes_)&&this.retry){const u=s.getErrorCode()===Nr.ABORT;i(!1,new Ic(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;i(!0,new Ic(c,s))})},n=(i,r)=>{const s=this.resolve_,o=this.reject_,a=r.connection;if(r.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());M$(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=ey();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(r.canceled){const l=this.appDelete_?lk():T$();o(l)}else{const l=b$();o(l)}};this.canceled_?n(!1,new Ic(!1,null,!0)):this.backoffId_=O$(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&D$(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ic{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function $$(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function F$(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function B$(t,e){e&&(t["X-Firebase-GMPID"]=e)}function U$(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function z$(t,e,n,i,r,s,o=!0){const a=ck(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return B$(c,e),$$(c,n),F$(c,s),U$(c,i),new j$(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H$(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function W$(...t){const e=H$();if(e!==void 0){const n=new e;for(let i=0;i<t.length;i++)n.append(t[i]);return n.getBlob()}else{if(ny())return new Blob(t);throw new Le(Me.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function q$(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G$(t){if(typeof atob>"u")throw P$("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Uf{constructor(e,n){this.data=e,this.contentType=n||null}}function K$(t,e){switch(t){case Pn.RAW:return new Uf(uk(e));case Pn.BASE64:case Pn.BASE64URL:return new Uf(hk(t,e));case Pn.DATA_URL:return new Uf(Y$(e),X$(e))}throw ey()}function uk(t){const e=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=i,o=t.charCodeAt(++n);i=65536|(s&1023)<<10|o&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function Q$(t){let e;try{e=decodeURIComponent(t)}catch{throw Ta(Pn.DATA_URL,"Malformed data URL.")}return uk(e)}function hk(t,e){switch(t){case Pn.BASE64:{const r=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(r||s)throw Ta(t,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Pn.BASE64URL:{const r=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(r||s)throw Ta(t,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=G$(e)}catch(r){throw r.message.includes("polyfill")?r:Ta(t,"Invalid character found")}const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}class dk{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Ta(Pn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=n[1]||null;i!=null&&(this.base64=J$(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function Y$(t){const e=new dk(t);return e.base64?hk(Pn.BASE64,e.rest):Q$(e.rest)}function X$(t){return new dk(t).contentType}function J$(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e,n){let i=0,r="";bw(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,n){if(bw(this.data_)){const i=this.data_,r=q$(i,e,n);return r===null?null:new Ai(r)}else{const i=new Uint8Array(this.data_.buffer,e,n-e);return new Ai(i,!0)}}static getBlob(...e){if(ny()){const n=e.map(i=>i instanceof Ai?i.data_:i);return new Ai(W$.apply(null,n))}else{const n=e.map(o=>ty(o)?K$(Pn.RAW,o).data:o.data_);let i=0;n.forEach(o=>{i+=o.byteLength});const r=new Uint8Array(i);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)r[s++]=o[a]}),new Ai(r,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iy(t){let e;try{e=JSON.parse(t)}catch{return null}return L$(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z$(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function eF(t,e){const n=e.split("/").filter(i=>i.length>0).join("/");return t.length===0?n:t+"/"+n}function fk(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tF(t,e){return e}class bt{constructor(e,n,i,r){this.server=e,this.local=n||e,this.writable=!!i,this.xform=r||tF}}let kc=null;function nF(t){return!ty(t)||t.length<2?t:fk(t)}function pk(){if(kc)return kc;const t=[];t.push(new bt("bucket")),t.push(new bt("generation")),t.push(new bt("metageneration")),t.push(new bt("name","fullPath",!0));function e(s,o){return nF(o)}const n=new bt("name");n.xform=e,t.push(n);function i(s,o){return o!==void 0?Number(o):o}const r=new bt("size");return r.xform=i,t.push(r),t.push(new bt("timeCreated")),t.push(new bt("updated")),t.push(new bt("md5Hash",null,!0)),t.push(new bt("cacheControl",null,!0)),t.push(new bt("contentDisposition",null,!0)),t.push(new bt("contentEncoding",null,!0)),t.push(new bt("contentLanguage",null,!0)),t.push(new bt("contentType",null,!0)),t.push(new bt("metadata","customMetadata",!0)),kc=t,kc}function iF(t,e){function n(){const i=t.bucket,r=t.fullPath,s=new It(i,r);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function rF(t,e,n){const i={};i.type="file";const r=n.length;for(let s=0;s<r;s++){const o=n[s];i[o.local]=o.xform(i,e[o.server])}return iF(i,t),i}function gk(t,e,n){const i=iy(e);return i===null?null:rF(t,i,n)}function sF(t,e,n,i){const r=iy(e);if(r===null||!ty(r.downloadTokens))return null;const s=r.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const u=t.bucket,h=t.fullPath,d="/b/"+o(u)+"/o/"+o(h),p=bd(d,n,i),g=ck({alt:"media",token:c});return p+g})[0]}function oF(t,e){const n={},i=e.length;for(let r=0;r<i;r++){const s=e[r];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw="prefixes",Sw="items";function aF(t,e,n){const i={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[Tw])for(const r of n[Tw]){const s=r.replace(/\/$/,""),o=t._makeStorageReference(new It(e,s));i.prefixes.push(o)}if(n[Sw])for(const r of n[Sw]){const s=t._makeStorageReference(new It(e,r.name));i.items.push(s)}return i}function lF(t,e,n){const i=iy(n);return i===null?null:aF(t,e,i)}class ry{constructor(e,n,i,r){this.url=e,this.method=n,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sy(t){if(!t)throw ey()}function cF(t,e){function n(i,r){const s=gk(t,r,e);return sy(s!==null),s}return n}function uF(t,e){function n(i,r){const s=lF(t,e,r);return sy(s!==null),s}return n}function hF(t,e){function n(i,r){const s=gk(t,r,e);return sy(s!==null),sF(s,r,t.host,t._protocol)}return n}function oy(t){function e(n,i){let r;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?r=x$():r=w$():n.getStatus()===402?r=v$(t.bucket):n.getStatus()===403?r=E$(t.path):r=i,r.status=n.getStatus(),r.serverResponse=i.serverResponse,r}return e}function dF(t){const e=oy(t);function n(i,r){let s=e(i,r);return i.getStatus()===404&&(s=y$(t.path)),s.serverResponse=r.serverResponse,s}return n}function fF(t,e,n,i,r){const s={};e.isRoot?s.prefix="":s.prefix=e.path+"/",n&&n.length>0&&(s.delimiter=n),i&&(s.pageToken=i),r&&(s.maxResults=r);const o=e.bucketOnlyServerUrl(),a=bd(o,t.host,t._protocol),l="GET",c=t.maxOperationRetryTime,u=new ry(a,l,uF(t,e.bucket),c);return u.urlParams=s,u.errorHandler=oy(e),u}function pF(t,e,n){const i=e.fullServerUrl(),r=bd(i,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new ry(r,s,hF(t,n),o);return a.errorHandler=dF(e),a}function gF(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function mF(t,e,n){const i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=gF(null,e)),i}function _F(t,e,n,i,r){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let v="";for(let x=0;x<2;x++)v=v+Math.random().toString().slice(2);return v}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=mF(e,i,r),u=oF(c,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,d=`\r
--`+l+"--",p=Ai.getBlob(h,i,d);if(p===null)throw A$();const g={name:c.fullPath},y=bd(s,t.host,t._protocol),w="POST",m=t.maxUploadRetryTime,_=new ry(y,w,cF(t,n),m);return _.urlParams=g,_.headers=o,_.body=p.uploadData(),_.errorHandler=oy(e),_}class yF{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Nr.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Nr.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Nr.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,i,r){if(this.sent_)throw Fo("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),r!==void 0)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Fo("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Fo("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Fo("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Fo("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class vF extends yF{initXhr(){this.xhr_.responseType="text"}}function ay(){return new vF}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e,n){this._service=e,n instanceof It?this._location=n:this._location=It.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new qr(e,n)}get root(){const e=new It(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return fk(this._location.path)}get storage(){return this._service}get parent(){const e=Z$(this._location.path);if(e===null)return null;const n=new It(this._location.bucket,e);return new qr(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw R$(e)}}function wF(t,e,n){t._throwIfRoot("uploadBytes");const i=_F(t.storage,t._location,pk(),new Ai(e,!0),n);return t.storage.makeRequestWithTokens(i,ay).then(r=>({metadata:r,ref:t}))}function xF(t){const e={prefixes:[],items:[]};return mk(t,e).then(()=>e)}async function mk(t,e,n){const r=await EF(t,{pageToken:n});e.prefixes.push(...r.prefixes),e.items.push(...r.items),r.nextPageToken!=null&&await mk(t,e,r.nextPageToken)}function EF(t,e){e!=null&&typeof e.maxResults=="number"&&Og("options.maxResults",1,1e3,e.maxResults);const n=e||{},i=fF(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(i,ay)}function bF(t){t._throwIfRoot("getDownloadURL");const e=pF(t.storage,t._location,pk());return t.storage.makeRequestWithTokens(e,ay).then(n=>{if(n===null)throw C$();return n})}function TF(t,e){const n=eF(t._location.path,e),i=new It(t._location.bucket,n);return new qr(t.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SF(t){return/^[A-Za-z]+:\/\//.test(t)}function IF(t,e){return new qr(t,e)}function _k(t,e){if(t instanceof ly){const n=t;if(n._bucket==null)throw k$();const i=new qr(n,n._bucket);return e!=null?_k(i,e):i}else return e!==void 0?TF(t,e):t}function kF(t,e){if(e&&SF(e)){if(t instanceof ly)return IF(t,e);throw Ng("To use ref(service, url), the first argument must be a Storage instance.")}else return _k(t,e)}function Iw(t,e){const n=e==null?void 0:e[ak];return n==null?null:It.makeFromBucketSpec(n,t)}function AF(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:r}=i;r&&(t._overrideAuthToken=typeof r=="string"?r:lT(r,t.app.options.projectId))}class ly{constructor(e,n,i,r,s){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=ok,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=m$,this._maxUploadRetryTime=_$,this._requests=new Set,r!=null?this._bucket=It.makeFromBucketSpec(r,this._host):this._bucket=Iw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=It.makeFromBucketSpec(this._url,e):this._bucket=Iw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Og("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Og("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new qr(this,e)}_makeRequest(e,n,i,r,s=!0){if(this._deleted)return new N$(lk());{const o=z$(e,this._appId,i,r,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,r).getPromise()}}const kw="@firebase/storage",Aw="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk="storage";function CF(t,e,n){return t=Oe(t),wF(t,e,n)}function vk(t){return t=Oe(t),xF(t)}function wk(t){return t=Oe(t),bF(t)}function Ir(t,e){return t=Oe(t),kF(t,e)}function PF(t=Qm(),e){t=Oe(t);const i=Uh(t,yk).getImmediate({identifier:e}),r=sT("storage");return r&&RF(i,...r),i}function RF(t,e,n,i={}){AF(t,e,n,i)}function NF(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new ly(n,i,r,e,es)}function OF(){Fr(new Yi(yk,NF,"PUBLIC").setMultipleInstances(!0)),On(kw,Aw,""),On(kw,Aw,"esm2017")}OF();const DF={apiKey:"AIzaSyAQWQGjTywY9hjM5lsvI4O9GAGa7toT37g",authDomain:"ileap-a49b9.firebaseapp.com",projectId:"ileap-a49b9",storageBucket:"ileap-a49b9.appspot.com",messagingSenderId:"484042538340",appId:"1:484042538340:web:4daa041c359048b7d44e71",measurementId:"G-4DRPRDKH31"},cy=hT(DF),er=s2(cy),At=e$(cy),kr=PF(cy),Td=async(t,e,n,i)=>{const s=(await Gi(e)).docs.map(a=>({...a.data(),id:a.id}));if(!t||!s||!s.length)return;let o=!1;for(let a=0;a<s.length;a++)if(s[a].userID===t.uid){o=!0;const c=s.findIndex(u=>u.userID===t.uid);if(c!==-1){const u=s[c];n(u)}console.log("condition met!");break}o||await Rg(e,{username:t.displayName,userID:t.uid,status:i,phoneNumber:t.phoneNumber,internships:0,imageURL:t.photoURL,time:{hours:0,minutes:0,seconds:0},sex:"",course:""})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function MF(t,e,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(h){o(h)}}function l(u){try{c(i.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):r(u.value).then(a,l)}c((i=i.apply(t,e||[])).next())})}function LF(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,r,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(i)throw new TypeError("Generator is already executing.");for(;n;)try{if(i=1,r&&(s=c[0]&2?r.return:c[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,c[1])).done)return s;switch(r=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,r=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(u){c=[6,u],r=0}finally{i=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Rs=function(){return Rs=Object.assign||function(e){for(var n,i=1,r=arguments.length;i<r;i++){n=arguments[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Rs.apply(this,arguments)},xk=function(t){return{loading:t==null,value:t}},VF=function(){return function(t,e){switch(e.type){case"error":return Rs(Rs({},t),{error:e.error,loading:!1,value:void 0});case"reset":return xk(e.defaultValue);case"value":return Rs(Rs({},t),{error:void 0,loading:!1,value:e.value});default:return t}}},jF=function(t){var e=t?t():void 0,n=b.useReducer(VF(),xk(e)),i=n[0],r=n[1],s=b.useCallback(function(){var l=t?t():void 0;r({type:"reset",defaultValue:l})},[t]),o=b.useCallback(function(l){r({type:"error",error:l})},[]),a=b.useCallback(function(l){r({type:"value",value:l})},[]);return b.useMemo(function(){return{error:i.error,loading:i.loading,reset:s,setError:o,setValue:a,value:i.value}},[i.error,i.loading,s,o,a,i.value])},Hl=function(t,e){var n=jF(function(){return t.currentUser}),i=n.error,r=n.loading,s=n.setError,o=n.setValue,a=n.value;return b.useEffect(function(){var l=qD(t,function(c){return MF(void 0,void 0,void 0,function(){var u;return LF(this,function(h){switch(h.label){case 0:if(!(e!=null&&e.onUserChanged))return[3,4];h.label=1;case 1:return h.trys.push([1,3,,4]),[4,e.onUserChanged(c)];case 2:return h.sent(),[3,4];case 3:return u=h.sent(),s(u),[3,4];case 4:return o(c),[2]}})})},s);return function(){l()}},[t]),[a,r,i]};const $F="/assets/4_BatStateU-FO-OJT-02_Student-Trainees-Personal-History-Statement_Rev.-02-1753d2b7.pdf",FF="/assets/BatStateU-FO-OJT-03_Student-Trainees-Performance-Appraisal-Report_Rev.-01-7977026d.pdf",BF="/assets/BatStateU-FO-OJT-04_Training-Supervisors-Feedback-Form_Rev.-01-02631ca5.pdf",UF="/assets/BatStateU-FO-OJT-05_Student-Trainees-Feedback-Form_Rev.-01-221e50dd.pdf",zF=({actualUser:t,setActualUser:e})=>{const[n,i]=Hl(er),r=Wt(At,"users"),s=K_(At,"users",`${t.id}`);b.useEffect(()=>{i||n&&Td(n,r,e)},[n,i]);const[o,a]=b.useState({hours:0,minutes:0,seconds:0}),[l,c]=b.useState({hours:0,minutes:0,seconds:0}),[u,h]=b.useState(t.time||{hours:0,minutes:0,seconds:0}),[d,p]=b.useState(!1);b.useEffect(()=>{const m=JSON.parse(localStorage.getItem("timer"))||{hours:0,minutes:0,seconds:0};c(m)},[]),b.useEffect(()=>{let m;return d&&(m=setInterval(()=>{a(_=>{const v={..._,seconds:_.seconds+1};return v.seconds===60&&(v.seconds=0,v.minutes+=1,v.minutes===60&&(v.minutes=0,v.hours+=1)),localStorage.setItem("timer",JSON.stringify(v)),v})},1e3)),()=>clearInterval(m)},[d]);const g=()=>{p(!0)},y=async()=>{p(!1),w(o),c({hours:o.hours,minutes:o.minutes,seconds:o.seconds}),a({hours:0,minutes:0,seconds:0}),localStorage.setItem("totalTimeToday",JSON.stringify(l)),await _r(s,{time:{hours:u.hours,minutes:u.minutes,seconds:u.seconds}})},w=async m=>{h(_=>({hours:_.hours+m.hours,minutes:_.minutes+m.minutes+Math.floor((_.seconds+m.seconds)/60),seconds:(_.seconds+m.seconds)%60}))};return f.jsxs("div",{children:[f.jsxs("div",{className:"ttime",children:[" ",f.jsxs("h1",{className:"time",children:["Total Time Today: ",l.hours<10?"0"+l.hours:l.hours,":",l.minutes<10?"0"+l.minutes:l.minutes,":",l.seconds<10?"0"+l.seconds:l.seconds]}),f.jsxs("div",{className:"inout",children:[f.jsx("button",{className:"inn",onClick:g,children:"Time In"}),f.jsx("button",{className:"outt",onClick:y,children:"Time Out"})]}),f.jsxs("h1",{className:"time",children:[String(o.hours).padStart(2,"0"),":",String(o.minutes).padStart(2,"0"),":",String(o.seconds).padStart(2,"0")]})]}),f.jsxs("div",{className:"bfr",children:[f.jsx("h1",{children:"1. Download the PDF below"}),f.jsx("h1",{children:"2. Fill-up the form"}),f.jsx("h1",{children:"3. Proceed to upload the file"})]}),f.jsxs("div",{className:"linkk",children:[f.jsx(fn,{className:"lin",to:$F,target:"_blank",download:!0,children:"Information Form"}),f.jsx(fn,{className:"lin",to:FF,target:"_blank",download:!0,children:"ST feedback Form"}),f.jsx(fn,{className:"lin",to:BF,target:"_blank",download:!0,children:"SV feeback Form"}),f.jsx(fn,{className:"lin",to:UF,target:"_blank",download:!0,children:"Grades Form"})]})]})};let Ac;const HF=new Uint8Array(16);function WF(){if(!Ac&&(Ac=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Ac))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ac(HF)}const et=[];for(let t=0;t<256;++t)et.push((t+256).toString(16).slice(1));function qF(t,e=0){return et[t[e+0]]+et[t[e+1]]+et[t[e+2]]+et[t[e+3]]+"-"+et[t[e+4]]+et[t[e+5]]+"-"+et[t[e+6]]+et[t[e+7]]+"-"+et[t[e+8]]+et[t[e+9]]+"-"+et[t[e+10]]+et[t[e+11]]+et[t[e+12]]+et[t[e+13]]+et[t[e+14]]+et[t[e+15]]}const GF=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Cw={randomUUID:GF};function KF(t,e,n){if(Cw.randomUUID&&!e&&!t)return Cw.randomUUID();t=t||{};const i=t.random||(t.rng||WF)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,e){n=n||0;for(let r=0;r<16;++r)e[n+r]=i[r];return e}return qF(i)}const QF=()=>{const[t,e]=b.useState(null),[n,i]=b.useState(null),r=()=>{if(console.log(n),t==null)return;const o=Ir(kr,`${n}/${t.name+KF()}`);CF(o,t).then(()=>{alert("Image Uploaded")})},s=o=>{i(o)};return f.jsxs("div",{className:"aaa",children:[f.jsxs("div",{className:"bft",children:[f.jsx("h1",{children:"4. Make the file is of type png or jpg"}),f.jsx("h1",{children:"5. Upload the file"}),f.jsx("h1",{children:"6. Choose the file you're uploading"}),f.jsx("h1",{children:"7. Click submit"})]}),f.jsx("input",{className:"cff",type:"file",onChange:o=>{e(o.target.files[0])}}),f.jsxs("div",{className:"labll",children:[f.jsxs("label",{children:[f.jsx("input",{type:"radio",value:"Information",checked:n==="Information",onChange:()=>s("Information")}),"Student Information form"]}),f.jsx("br",{}),f.jsxs("label",{children:[f.jsx("input",{type:"radio",value:"STfeedback",checked:n==="STfeedback",onChange:()=>s("STfeedback")}),"Student Feedback Form"]}),f.jsx("br",{}),f.jsxs("label",{children:[f.jsx("input",{type:"radio",value:"SVfeedback",checked:n==="SVfeedback",onChange:()=>s("SVfeedback")}),"SV feedback"]}),f.jsx("br",{}),f.jsxs("label",{children:[f.jsx("input",{type:"radio",value:"Grades",checked:n==="Grades",onChange:()=>s("Grades")}),"Grades Form"]}),f.jsx("br",{})]}),f.jsx("button",{className:"subsub",onClick:r,children:"Submit"})]})};const YF=({actualUser:t,setActualUser:e})=>f.jsxs("div",{children:[f.jsx(pi,{}),f.jsxs("div",{className:"goddy",children:[f.jsxs("div",{className:"rright",children:[" ",f.jsx(zF,{actualUser:t,setActualUser:e})]}),f.jsx("div",{className:"lleft",children:f.jsx(QF,{})})]})]});const XF=({setDetails:t})=>{const e=Wt(At,"internships"),[n,i]=b.useState([]),r=cn(),s=async()=>{const a=await Gi(e);i(a.docs.map(l=>({...l.data(),id:l.id})))};b.useEffect(()=>{s()},[]);const o=a=>{t(a),r("/details")};return f.jsx("div",{className:"jobs-container",children:f.jsx("div",{className:"job-grid",children:n.slice(0).reverse().map(a=>f.jsxs("div",{className:"job",children:[f.jsx("div",{className:"companyImage",children:f.jsx("img",{className:"cImg",src:a.imageURL})}),f.jsx("div",{className:"companyName",children:a.companyName}),f.jsx("div",{className:"location",children:a.location}),f.jsx("div",{className:"workingHours",children:a.workingHours}),f.jsx("div",{className:"cMore",children:f.jsx("button",{onClick:()=>o(a),children:"See more "})})]}))})})},JF=({setDetails:t})=>{const e=Wt(At,"Jobs"),[n,i]=b.useState([]),r=cn();console.log(n);const s=async()=>{const a=await Gi(e);i(a.docs.map(l=>({...l.data(),id:l.id})))};b.useEffect(()=>{s()},[]);const o=a=>{t(a),r("/details")};return f.jsx("div",{className:"jobs-container",children:f.jsx("div",{className:"job-grid",children:n.slice(0).reverse().map(a=>f.jsxs("div",{className:"job",children:[f.jsx("div",{className:"companyImage",children:f.jsx("img",{className:"cImg",src:a.imageURL})}),f.jsx("div",{className:"companyName genn",children:a.companyName}),f.jsx("div",{className:"location genn",children:a.location}),f.jsx("div",{className:"workingHours genn",children:a.workingHours}),f.jsx("div",{className:"cMore",children:f.jsx("button",{onClick:()=>o(a),children:"See more "})})]}))})})},ZF=({setActualUser:t,actualUser:e,signedUpFor:n,setDetails:i})=>{const[r,s]=Hl(er),o=Wt(At,"users");return b.useEffect(()=>{s||r&&Td(r,o,t,n)},[r,s]),f.jsxs("div",{className:"jobs-internships-container",children:[f.jsx(pi,{}),(e==null?void 0:e.status)==="student"?f.jsx(XF,{setDetails:i}):(e==null?void 0:e.status)==="alumni"?f.jsx(JF,{setDetails:i}):"404 error status not found"]})};const e4=()=>{const[t,e]=b.useState(null),[n,i]=b.useState([]),[r,s]=b.useState([]),[o,a]=b.useState([]),[l,c]=b.useState([]),u=Ir(kr,"/Information"),h=Ir(kr,"/Grades"),d=Ir(kr,"/SVfeedback"),p=Ir(kr,"/STfeedback"),g=w=>{e(w),y(w)},y=w=>{let m,_;w==="Information"?(m=u,_=i):w==="Grades"?(m=h,_=s):w==="STfeedback"?(m=p,_=a):w==="SVfeedback"&&(m=d,_=c),m&&_&&vk(m).then(v=>{const x=v.items.map(E=>wk(E).then(T=>T));return Promise.all(x)}).then(v=>_(v)).catch(v=>console.error("Error fetching data:",v))};return f.jsxs("div",{children:[f.jsx(pi,{}),f.jsxs("div",{className:"gddd",children:[f.jsxs("div",{className:"containerr",children:[f.jsx("input",{type:"radio",id:"yes",value:"Information",checked:t==="Information",onChange:()=>g("Information")}),f.jsx("label",{for:"yes",children:"Student Information form"}),f.jsx("input",{id:"yess",type:"radio",value:"Grades",checked:t==="Grades",onChange:()=>g("Grades")}),f.jsx("label",{for:"yess",children:"Grades Form"}),f.jsx("input",{id:"no",type:"radio",value:"STfeedback",checked:t==="STfeedback",onChange:()=>g("STfeedback")}),f.jsx("label",{for:"no",children:"ST Feedback Form"}),f.jsx("input",{id:"noo",type:"radio",value:"SVfeedback",checked:t==="SVfeedback",onChange:()=>g("SVfeedback")}),f.jsx("label",{for:"noo",children:"SV Feedback Forms"})]}),f.jsx("h2",{className:"trt",children:t}),f.jsx("div",{className:"image-container",children:t==="Information"?n.map(w=>f.jsx("div",{className:"image",children:f.jsx("img",{src:w,alt:"Student Information"})},w)):t==="Grades"?r.map(w=>f.jsx("div",{className:"image",children:f.jsx("img",{src:w,alt:"Student Grades"})},w)):t==="STfeedback"?o.map(w=>f.jsx("div",{className:"image",children:f.jsx("img",{src:w,alt:"ST feedback"})},w)):t==="SVfeedback"?l.map(w=>f.jsx("div",{className:"image",children:f.jsx("img",{src:w,alt:"SV feedback"})},w)):null})]})]})},t4=()=>f.jsx("div",{children:f.jsx(pi,{})});const Bo="/assets/edit-93d9c6f0.png",n4=({For:t,setPopUp:e,actualUser:n})=>{const i=K_(At,"users",`${n.id}`),[r,s]=b.useState(""),o=t;cn();const a=async()=>{t==="name"&&(await _r(i,{username:r}),window.location.reload()),t==="number"&&(await _r(i,{phoneNumber:r}),window.location.reload()),t==="status"&&(await _r(i,{status:r.toLowerCase()}),window.location.reload()),t==="imageURL"&&(await _r(i,{imageURL:r}),window.location.reload()),t==="sex"&&(await _r(i,{sex:r.toLowerCase()}),window.location.reload()),t==="course"&&(await _r(i,{course:r}),window.location.reload())},l=c=>{s(c.target.value),console.log(r)};return f.jsx("div",{className:"pop-up-container",children:f.jsxs("div",{className:"pop-up",children:[f.jsx("div",{className:"x-button-container",children:f.jsx("button",{onClick:()=>e(c=>!c),children:"x"})}),f.jsxs("h1",{className:"h1Pop",children:["Edit your ",o]}),f.jsx("input",{className:"inputPop",onChange:l,type:"text"}),f.jsx("button",{className:"buttonPop",onClick:a,children:"Confirm"})]})})},i4=({actualUser:t,setActualUser:e,signedUpFor:n})=>{const[i,r]=Hl(er),s=cn(),[o,a]=b.useState(!1),[l,c]=b.useState(""),u=Wt(At,"users");console.log(t);const h=async()=>{await GD(er),alert("You Will Be Signed Out"),s("/")},d=p=>{c(p),a(!0)};return b.useEffect(()=>{r||i&&Td(i,u,e,n)},[i,r]),f.jsxs("div",{className:"Profile",children:[f.jsx("div",{className:"pop-up-body",children:o&&f.jsx(n4,{actualUser:t,For:l,setPopUp:a,user:i,usersRef:u,setActualUser:e,signedUpFor:n})}),f.jsx(pi,{}),f.jsx("div",{className:"god",children:f.jsxs("div",{className:"profile-container",children:[f.jsx("div",{className:"user-img",children:f.jsxs("div",{className:"user-img-inner",children:[f.jsx("img",{src:t==null?void 0:t.imageURL}),f.jsx("img",{onClick:()=>d("imageURL"),className:"edit-icon",src:Bo})]})}),f.jsx("div",{className:"user-details",children:f.jsxs("table",{children:[f.jsxs("tr",{children:[f.jsx("th",{children:"NAME:"}),f.jsxs("td",{className:"user-value",children:[(t==null?void 0:t.username)||"Insert Your Name",` (${t.id})`,f.jsx("img",{onClick:()=>d("name"),className:"edit-icon",src:Bo})]})]}),f.jsxs("tr",{children:[f.jsx("th",{children:"EMAIL:"}),f.jsx("td",{className:"user-value",children:i==null?void 0:i.email})]}),f.jsxs("tr",{children:[f.jsx("th",{children:"CONTACT NUMBER:"}),f.jsxs("td",{className:"user-value",children:[(t==null?void 0:t.phoneNumber)||"Please Put A Phone Number",f.jsx("img",{className:"edit-icon",onClick:()=>d("number"),src:Bo})]})]}),f.jsxs("tr",{children:[f.jsx("th",{children:"AMMOUNT OF INTERNSHIPS/JOBS:"}),f.jsx("td",{className:"user-value",children:(t==null?void 0:t.internships)||"0"})]}),f.jsxs("tr",{children:[f.jsx("th",{children:"STATUS:"}),f.jsx("td",{className:"user-value",children:(t==null?void 0:t.status)||"Null"})]}),f.jsxs("tr",{children:[f.jsx("th",{children:"SEX:"}),f.jsxs("td",{className:"user-value",children:[(t==null?void 0:t.sex)||"Null",f.jsx("img",{className:"edit-icon",onClick:()=>d("sex"),src:Bo})]})]}),(t==null?void 0:t.status)==="student"||(t==null?void 0:t.status)==="alumni"?f.jsxs("tr",{children:[f.jsx("th",{children:"COURSE:"}),f.jsxs("td",{className:"user-value",children:[(t==null?void 0:t.course)||"Null",f.jsx("img",{className:"edit-icon",onClick:()=>d("course"),src:Bo})]})]}):null]})})]})}),f.jsx("div",{className:"sign-out-button-container",children:f.jsx("button",{onClick:h,children:f.jsx("div",{className:"a",children:f.jsx("span",{className:"b",children:"Log Out"})})})})]})};const r4=({actualUser:t})=>f.jsxs(f.Fragment,{children:[f.jsx(fn,{to:"/profile",className:"dropdown-options",children:"My Profile"}),(t==null?void 0:t.status)==="student"||(t==null?void 0:t.status)==="alumni"?f.jsx(fn,{to:"/progress",className:"dropdown-options",children:"My Progress"}):(t==null?void 0:t.status)==="employer"?f.jsx(fn,{to:"/student-progress",className:"dropdown-options",children:"Student Progress"}):null,t.status==="employer"?f.jsx(fn,{to:"/employer",className:"dropdown-options",children:"Post A Job/Internship "}):t.status==="admin"?null:f.jsx(fn,{to:"/jobs-and-internships",className:"dropdown-options",children:"Jobs/Internships"}),t.status==="admin"&&f.jsx(fn,{to:"/graph",className:"dropdown-options",children:"Data Portal"}),t.status==="admin"&&f.jsx(fn,{to:"/analytics",className:"dropdown-options",children:"Analytics and Reporting"})]});const s4=()=>f.jsxs("div",{className:"socket",children:[f.jsxs("div",{className:"gel center-gel",children:[f.jsx("div",{className:"hex-brick h1"}),f.jsx("div",{className:"hex-brick h2"}),f.jsx("div",{className:"hex-brick h3"})]}),f.jsxs("div",{className:"gel c1 r1",children:[f.jsx("div",{className:"hex-brick h1"}),f.jsx("div",{className:"hex-brick h2"}),f.jsx("div",{className:"hex-brick h3"})]}),f.jsxs("div",{className:"gel c2 r1",children:[f.jsx("div",{className:"hex-brick h1"}),f.jsx("div",{className:"hex-brick h2"}),f.jsx("div",{className:"hex-brick h3"})]}),f.jsxs("div",{className:"gel c3 r1",children:[f.jsx("div",{className:"hex-brick h1"}),f.jsx("div",{className:"hex-brick h2"}),f.jsx("div",{className:"hex-brick h3"})]}),f.jsxs("div",{className:"gel c4 r1",children:[f.jsx("div",{className:"hex-brick h1"}),f.jsx("div",{className:"hex-brick h2"}),f.jsx("div",{className:"hex-brick h3"})]}),f.jsxs("div",{className:"gel c5 r1",children:[f.jsx("div",{className:"hex-brick h1"}),f.jsx("div",{className:"hex-brick h2"}),f.jsx("div",{className:"hex-brick h3"})]}),f.jsxs("div",{className:"gel c6 r1",children:[f.jsx("div",{className:"hex-brick h1"}),f.jsx("div",{className:"hex-brick h2"}),f.jsx("div",{className:"hex-brick h3"})]}),f.jsxs("div",{className:"gel c7 r2",children:[f.jsx("div",{className:"hex-brick h1"}),f.jsx("div",{className:"hex-brick h2"}),f.jsx("div",{className:"hex-brick h3"})]}),f.jsxs("div",{className:"gel c8 r2",children:[f.jsx("div",{className:"hex-brick h1"}),f.jsx("div",{className:"hex-brick h2"}),f.jsx("div",{className:"hex-brick h3"})]}),f.jsxs("div",{className:"gel c9 r2",children:[f.jsx("div",{className:"hex-brick h1"}),f.jsx("div",{className:"hex-brick h2"}),f.jsx("div",{className:"hex-brick h3"})]}),f.jsxs("div",{className:"gel c10 r2",children:[f.jsx("div",{className:"hex-brick h1"}),f.jsx("div",{className:"hex-brick h2"}),f.jsx("div",{className:"hex-brick h3"})]}),f.jsxs("div",{className:"gel c11 r2",children:[f.jsx("div",{className:"hex-brick h1"}),f.jsx("div",{className:"hex-brick h2"}),f.jsx("div",{className:"hex-brick h3"})]}),f.jsxs("div",{className:"gel c12 r2",children:[f.jsx("div",{className:"hex-brick h1"}),f.jsx("div",{className:"hex-brick h2"}),f.jsx("div",{className:"hex-brick h3"})]}),f.jsxs("div",{className:"gel c13 r2",children:[f.jsx("div",{className:"hex-brick h1"}),f.jsx("div",{className:"hex-brick h2"}),f.jsx("div",{className:"hex-brick h3"})]}),f.jsxs("div",{className:"gel c14 r2",children:[f.jsx("div",{className:"hex-brick h1"}),f.jsx("div",{className:"hex-brick h2"}),f.jsx("div",{className:"hex-brick h3"})]}),f.jsxs("div",{className:"gel c15 r2",children:[f.jsx("div",{className:"hex-brick h1"}),f.jsx("div",{className:"hex-brick h2"}),f.jsx("div",{className:"hex-brick h3"})]}),f.jsxs("div",{className:"gel c16 r2",children:[f.jsx("div",{className:"hex-brick h1"}),f.jsx("div",{className:"hex-brick h2"}),f.jsx("div",{className:"hex-brick h3"})]}),f.jsxs("div",{className:"gel c17 r2",children:[f.jsx("div",{className:"hex-brick h1"}),f.jsx("div",{className:"hex-brick h2"}),f.jsx("div",{className:"hex-brick h3"})]}),f.jsxs("div",{className:"gel c18 r2",children:[f.jsx("div",{className:"hex-brick h1"}),f.jsx("div",{className:"hex-brick h2"}),f.jsx("div",{className:"hex-brick h3"})]}),f.jsxs("div",{className:"gel c19 r3",children:[f.jsx("div",{className:"hex-brick h1"}),f.jsx("div",{className:"hex-brick h2"}),f.jsx("div",{className:"hex-brick h3"})]}),f.jsxs("div",{className:"gel c20 r3",children:[f.jsx("div",{className:"hex-brick h1"}),f.jsx("div",{className:"hex-brick h2"}),f.jsx("div",{className:"hex-brick h3"})]}),f.jsxs("div",{className:"gel c21 r3",children:[f.jsx("div",{className:"hex-brick h1"}),f.jsx("div",{className:"hex-brick h2"}),f.jsx("div",{className:"hex-brick h3"})]}),f.jsxs("div",{className:"gel c22 r3",children:[f.jsx("div",{className:"hex-brick h1"}),f.jsx("div",{className:"hex-brick h2"}),f.jsx("div",{className:"hex-brick h3"})]}),f.jsxs("div",{className:"gel c23 r3",children:[f.jsx("div",{className:"hex-brick h1"}),f.jsx("div",{className:"hex-brick h2"}),f.jsx("div",{className:"hex-brick h3"})]}),f.jsxs("div",{className:"gel c24 r3",children:[f.jsx("div",{className:"hex-brick h1"}),f.jsx("div",{className:"hex-brick h2"}),f.jsx("div",{className:"hex-brick h3"})]}),f.jsxs("div",{className:"gel c25 r3",children:[f.jsx("div",{className:"hex-brick h1"}),f.jsx("div",{className:"hex-brick h2"}),f.jsx("div",{className:"hex-brick h3"})]}),f.jsxs("div",{className:"gel c26 r3",children:[f.jsx("div",{className:"hex-brick h1"}),f.jsx("div",{className:"hex-brick h2"}),f.jsx("div",{className:"hex-brick h3"})]}),f.jsxs("div",{className:"gel c28 r3",children:[f.jsx("div",{className:"hex-brick h1"}),f.jsx("div",{className:"hex-brick h2"}),f.jsx("div",{className:"hex-brick h3"})]}),f.jsxs("div",{className:"gel c29 r3",children:[f.jsx("div",{className:"hex-brick h1"}),f.jsx("div",{className:"hex-brick h2"}),f.jsx("div",{className:"hex-brick h3"})]}),f.jsxs("div",{className:"gel c30 r3",children:[f.jsx("div",{className:"hex-brick h1"}),f.jsx("div",{className:"hex-brick h2"}),f.jsx("div",{className:"hex-brick h3"})]}),f.jsxs("div",{className:"gel c31 r3",children:[f.jsx("div",{className:"hex-brick h1"}),f.jsx("div",{className:"hex-brick h2"}),f.jsx("div",{className:"hex-brick h3"})]}),f.jsxs("div",{className:"gel c32 r3",children:[f.jsx("div",{className:"hex-brick h1"}),f.jsx("div",{className:"hex-brick h2"}),f.jsx("div",{className:"hex-brick h3"})]}),f.jsxs("div",{className:"gel c33 r3",children:[f.jsx("div",{className:"hex-brick h1"}),f.jsx("div",{className:"hex-brick h2"}),f.jsx("div",{className:"hex-brick h3"})]}),f.jsxs("div",{className:"gel c34 r3",children:[f.jsx("div",{className:"hex-brick h1"}),f.jsx("div",{className:"hex-brick h2"}),f.jsx("div",{className:"hex-brick h3"})]}),f.jsxs("div",{className:"gel c35 r3",children:[f.jsx("div",{className:"hex-brick h1"}),f.jsx("div",{className:"hex-brick h2"}),f.jsx("div",{className:"hex-brick h3"})]}),f.jsxs("div",{className:"gel c36 r3",children:[f.jsx("div",{className:"hex-brick h1"}),f.jsx("div",{className:"hex-brick h2"}),f.jsx("div",{className:"hex-brick h3"})]}),f.jsxs("div",{className:"gel c37 r3",children:[f.jsx("div",{className:"hex-brick h1"}),f.jsx("div",{className:"hex-brick h2"}),f.jsx("div",{className:"hex-brick h3"})]})]}),o4="/assets/BSU_LOGO-a4a9c549.jpg",a4=(t,e,n)=>{e&&t&&(t.status!==e?n(!0):n(!1))},l4="/assets/bsuVid1-06451c6d.mp4",c4=({setActualUser:t,actualUser:e,signedUpFor:n,loggedInFor:i})=>{const[r,s]=Hl(er),[o,a]=b.useState(!1),l=Wt(At,"users"),c=cn();b.useEffect(()=>{s||r&&(Td(r,l,t,n),a4(e,i,a))},[r,s]),(()=>{o&&(console.log("matched"),alert(`Sorry There Is A Problem In Our End. Please Log in Again. 
 This could be because your status does not match with the one you signed up with or a file error`),c("/"))})();const h=d=>{d.preventDefault();const p=document.getElementById("home-page");p&&p.scrollIntoView({behavior:"smooth",block:"start"})};return f.jsxs("div",{className:"home-container",children:[f.jsxs("header",{children:[f.jsx("div",{className:"user-container",children:f.jsx("div",{className:"logo-container",children:f.jsx("img",{src:o4})})}),f.jsx("section",{class:"p-menu1",children:f.jsxs("nav",{id:"navbar",class:"navigation",role:"navigation",children:[f.jsx("input",{id:"toggle1",type:"checkbox"}),f.jsxs("label",{class:"hamburger1",for:"toggle1",children:[f.jsx("div",{class:"top"}),f.jsx("div",{class:"meat"}),f.jsx("div",{class:"bottom"})]}),f.jsx("nav",{class:"menu1",children:f.jsx(r4,{actualUser:e})}),f.jsxs("nav",{class:"menu2",children:[f.jsx("div",{className:"user-profile",children:f.jsx("img",{src:(e==null?void 0:e.imageURL)||""})}),f.jsx("div",{className:"user-name",children:(e==null?void 0:e.username)||"insert a name"})]})]})})]}),f.jsxs("div",{className:"video",children:[f.jsx("video",{autoPlay:!0,loop:!0,muted:!0,src:l4}),f.jsx("div",{className:"scroll-container",children:f.jsx("a",{href:"#home-page",onClick:h,children:f.jsxs("div",{class:"box",children:[f.jsx("span",{}),f.jsx("span",{}),f.jsx("span",{})]})})})]}),f.jsxs("div",{id:"home-page",className:"home-main",children:[f.jsxs("div",{className:"details-container",children:[f.jsx("div",{className:"title",children:"ILEAP"}),f.jsx("p",{children:"Internship, Learning, Experience, Advancement, and Placement Web Based System for OJT and Job Placement Offices of Batangas State University-The National Engineering University-Lipa Campus"})]}),f.jsx("div",{children:f.jsx(s4,{})})]})]})},u4=({setLoggedInFor:t})=>{const[e,n]=b.useState(""),[i,r]=b.useState(""),s=cn(),o=()=>{zD(er,e,i).then(()=>{s("/home")}).catch(l=>{alert(l)})},a=l=>{t(l),o()};return f.jsxs("div",{className:"bodyy",children:[f.jsx("h1",{children:"Welcome back"}),f.jsxs("div",{className:"email-log-in-container",children:[f.jsx("label",{children:"Email:"}),f.jsx("input",{type:"text",className:"email mailBorder",value:e,onChange:l=>{n(l.target.value)}}),f.jsx("label",{children:"Password:"}),f.jsx("input",{type:"password",className:"password mailBorder",value:i,onChange:l=>{r(l.target.value)}}),f.jsx("div",{className:"warning",children:"  Login as a"}),f.jsxs("div",{className:"btnContainer",children:[f.jsx("button",{onClick:()=>{a("student")},children:"Student"}),f.jsx("button",{onClick:()=>{a("alumni")},children:"Alumni"}),f.jsx("button",{onClick:()=>{a("employer")},children:"Employer"}),f.jsx("button",{onClick:()=>{a("admin")},children:"Admin"})]})]})]})},h4=({setSignedUpFor:t})=>{const[e,n]=b.useState(""),[i,r]=b.useState(""),s=cn(),o=a=>{a.preventDefault(),UD(er,e,i).then(l=>{console.log(l),s("/home")}).catch(l=>{alert(l)})};return f.jsxs(f.Fragment,{children:[f.jsx("h1",{children:"Sign Up"}),f.jsx("form",{onSubmit:o,children:f.jsxs("div",{className:"email-log-in-container",children:[f.jsx("label",{children:"Email:"}),f.jsx("input",{type:"text",className:"email mailBorder",value:e,onChange:a=>{n(a.target.value)}}),f.jsx("label",{children:"Password:"}),f.jsx("input",{type:"password",className:"password mailBorder",value:i,onChange:a=>{r(a.target.value)}}),f.jsx("div",{className:"warning",children:" Sign up as a"}),f.jsxs("div",{className:"btnContainer",children:[f.jsx("button",{onClick:()=>t("student"),children:"Student"}),f.jsx("button",{onClick:()=>t("alumni"),children:"Alumni"}),f.jsx("button",{onClick:()=>t("employer"),children:"Employer"})]})]})})]})};const d4=({setSignedUpFor:t,setLoggedInFor:e})=>{const[n,i]=b.useState();return f.jsxs("div",{className:"container",children:[f.jsx("h1",{className:"Title",children:"ILEAP"}),f.jsxs("div",{className:"log-in-container",children:[n?f.jsx(h4,{setSignedUpFor:t}):f.jsx(u4,{setLoggedInFor:e}),n?f.jsxs(f.Fragment,{children:["Already have an Account?",f.jsx("button",{className:"sign-up-btn",onClick:()=>{i(!1)},children:"Login"})]}):f.jsxs(f.Fragment,{children:["Don't have an Account?",f.jsx("button",{className:"log-in-btn",onClick:()=>i(!0),children:"Sign up"})]})]})]})},f4=({actualUser:t})=>{const[e]=Hl(er),n=Wt(At,"Jobs"),i=Wt(At,"internships"),r=cn(),s=async a=>{a.preventDefault(),await Rg(i,{companyName:a.target.companyName.value,imageURL:a.target.imageURL.value,location:a.target.location.value,workingHours:a.target.workingHours.value,employer:t==null?void 0:t.username,employerNumber:t==null?void 0:t.phoneNumber,employerPosition:a.target.position.value,employerPhoto:t==null?void 0:t.imageURL,employerEmail:e.email,description:a.target.description.value}),alert("Internship Has Been Added Successfully")},o=async a=>{a.preventDefault(),await Rg(n,{companyName:a.target.companyName.value,imageURL:a.target.imageURL.value,location:a.target.location.value,workingHours:a.target.workingHours.value,employer:t==null?void 0:t.username,employerNumber:t==null?void 0:t.phoneNumber,employerPosition:a.target.position.value,employerPhoto:t==null?void 0:t.imageURL,employerEmail:e.email,description:a.target.description.value}),alert("Job Has Been Added Successfully")};return f.jsxs(f.Fragment,{children:[f.jsx(pi,{}),f.jsxs("div",{className:"employer-container",children:[f.jsxs("div",{className:"add-internship",children:[f.jsx("div",{className:"add ttle",children:"POST AN INTERNSHIP"}),f.jsxs("form",{onSubmit:s,children:[f.jsx("input",{className:"bb",name:"companyName",placeholder:"Company name...",required:!0}),f.jsx("input",{className:"bb",name:"imageURL",type:"url",placeholder:"Image Of The Company...",required:!0}),f.jsx("input",{className:"bb",name:"location",placeholder:"Location...",required:!0}),f.jsx("input",{className:"bb",name:"workingHours",placeholder:"Working Hours...",required:!0}),f.jsx("textarea",{className:"bb",name:"description",placeholder:"Description...",required:!0}),f.jsx("input",{className:"bb",name:"position",placeholder:"Your Position in the Company...",required:!0}),f.jsx("input",{className:"bbtn",type:"submit"})]})]}),f.jsxs("div",{className:"add-job ",children:[f.jsx("div",{className:"add ttle",children:"POST A JOB"}),f.jsxs("form",{onSubmit:o,children:[f.jsx("input",{className:"bb",name:"companyName",placeholder:"Company name...",required:!0}),f.jsx("input",{name:"imageURL",className:"bb",type:"url",placeholder:"Image Of The Company...",required:!0}),f.jsx("input",{className:"bb",name:"location",placeholder:"Location...",required:!0}),f.jsx("input",{className:"bb",name:"workingHours",placeholder:"Working Hours...",required:!0}),f.jsx("textarea",{className:"bb",name:"description",placeholder:"Description...",required:!0}),f.jsx("input",{className:"bb",name:"position",placeholder:"Your Position in the Company...",required:!0}),f.jsx("input",{className:"bbtn",type:"submit"})]})]})]}),f.jsx("div",{className:"to-totality",children:f.jsx("div",{onClick:()=>r("/employer/totality"),className:"totality-button",children:"See posted Jobs/internships"})})]})};const p4=({setDetails:t})=>{const e=Wt(At,"internships"),[n,i]=b.useState([]),r=Wt(At,"Jobs"),[s,o]=b.useState([]),a=cn(),l=async()=>{const h=await Gi(e);i(h.docs.map(d=>({...d.data(),id:d.id})))},c=async()=>{const h=await Gi(r);o(h.docs.map(d=>({...d.data(),id:d.id})))},u=h=>{t(h),a("/details")};return b.useEffect(()=>{l(),c()},[]),f.jsxs("div",{className:"totality-container",children:[f.jsx(pi,{}),f.jsxs("div",{className:"h1s",children:[f.jsx("h1",{children:"JOBS"}),f.jsx("h1",{children:"INTERNSHPS"})]}),f.jsxs("div",{className:"totality",children:[f.jsx("div",{className:"jobs-grid",children:s.slice(0).reverse().map(h=>f.jsxs("div",{onClick:()=>u(h),className:"job11",children:[f.jsx("div",{className:"companyImage11",children:f.jsx("img",{className:"cImg1",src:h.imageURL})}),f.jsx("div",{className:"companyName11 genn",children:h.companyName}),f.jsx("div",{className:"location11 genn",children:h.location}),f.jsx("div",{className:"workingHours11 genn",children:h.workingHours})]},h.id))}),f.jsx("div",{className:"internship-grid",children:n.slice(0).reverse().map(h=>f.jsxs("div",{onClick:()=>u(h),className:"internship11 job11",children:[f.jsx("div",{className:"companyImage11",children:f.jsx("img",{className:"cImg1",src:h.imageURL})}),f.jsx("div",{className:"companyName11 genn",children:h.companyName}),f.jsx("div",{className:"location11 genn",children:h.location}),f.jsx("div",{className:"workingHours11 genn",children:h.workingHours})]},h.id))})]})]})},g4=({details:t,actualUser:e})=>{const n=cn();console.log(t);const i=()=>{e.status==="student"&&n("/jobs-and-internships"),e.status==="alumni"&&n("/jobs-and-internships"),e.status==="employer"&&n("/employer/totality")};return f.jsx(f.Fragment,{children:f.jsxs("div",{className:"detailsCont",children:[f.jsxs("div",{className:"leftt",children:[f.jsx("div",{className:"btnnn",children:f.jsx("button",{onClick:()=>{i()},children:"return"})}),f.jsx("div",{className:"detImg",children:f.jsx("img",{src:t.imageURL})}),f.jsx("div",{className:"detCompName",children:t.companyName}),f.jsx("div",{className:"detDesc",children:t.description}),f.jsx("div",{className:"dett",children:t.location}),f.jsx("div",{className:"dett",children:t.workingHours})]}),f.jsxs("div",{className:"rightt",children:[f.jsx("h1",{className:"empDet",children:"Employer Details"}),f.jsx("div",{className:"detProf",children:f.jsx("img",{src:t.employerPhoto})}),f.jsx("div",{className:"detName",children:t.employer}),f.jsx("div",{className:"detNumb",children:t.employerNumber?`Contact Number: ${t.employerNumber}`:"Contact Number: N/A"}),f.jsx("div",{className:"detEm",children:t.employerEmail})]})]})})};const m4=()=>{const[t,e]=b.useState(null),n=Ir(kr,"/Information"),i=Ir(kr,"/Grades"),[r,s]=b.useState([]),[o,a]=b.useState([]),l=u=>{e(u),c(u)},c=u=>{let h,d;u==="Information"?(h=n,d=s):u==="Grades"&&(h=i,d=a),h&&d&&vk(h).then(p=>{const g=p.items.map(y=>wk(y).then(w=>w));return Promise.all(g)}).then(p=>d(p)).catch(p=>console.error("Error fetching data:",p))};return f.jsxs(f.Fragment,{children:[f.jsx(pi,{}),f.jsxs("div",{className:"gddd",children:[f.jsxs("div",{className:"containerr",children:[f.jsx("input",{type:"radio",name:"radio",id:"yes",value:"Information",checked:t==="Information",onChange:()=>l("Information")}),f.jsx("label",{for:"yes",children:f.jsx("h3",{children:"Student Information form"})}),f.jsx("input",{name:"radio",id:"no",type:"radio",value:"Grades",checked:t==="Grades",onChange:()=>l("Grades")}),f.jsx("label",{for:"no",children:f.jsx("h3",{children:"Grades Form"})}),f.jsx("br",{})]}),f.jsx("h2",{className:"trt",children:t}),f.jsx("div",{className:"image-container ",children:t==="Information"?r.map(u=>f.jsx("div",{className:"image",children:f.jsx("img",{src:u,alt:"Student Information"})},u)):t==="Grades"?o.map(u=>f.jsx("div",{className:"image",children:f.jsx("img",{src:u,alt:"Student Grades"})},u)):null})]})]})};/*!
 * Chart.js v3.7.0
 * https://www.chartjs.org
 * (c) 2021 Chart.js Contributors
 * Released under the MIT License
 */const Ek=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function bk(t,e,n){const i=n||(o=>Array.prototype.slice.call(o));let r=!1,s=[];return function(...o){s=i(o),r||(r=!0,Ek.call(window,()=>{r=!1,t.apply(e,s)}))}}function _4(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const uy=t=>t==="start"?"left":t==="end"?"right":"center",dt=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,y4=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e;function Wn(){}const v4=function(){let t=0;return function(){return t++}}();function se(t){return t===null||typeof t>"u"}function me(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.substr(0,7)==="[object"&&e.substr(-6)==="Array]"}function te(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}const je=t=>(typeof t=="number"||t instanceof Number)&&isFinite(+t);function Xt(t,e){return je(t)?t:e}function K(t,e){return typeof t>"u"?e:t}const w4=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:t/e,Tk=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function pe(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function ce(t,e,n,i){let r,s,o;if(me(t))if(s=t.length,i)for(r=s-1;r>=0;r--)e.call(n,t[r],r);else for(r=0;r<s;r++)e.call(n,t[r],r);else if(te(t))for(o=Object.keys(t),s=o.length,r=0;r<s;r++)e.call(n,t[o[r]],o[r])}function sh(t,e){let n,i,r,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(r=t[n],s=e[n],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function oh(t){if(me(t))return t.map(oh);if(te(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let r=0;for(;r<i;++r)e[n[r]]=oh(t[n[r]]);return e}return t}function Sk(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function x4(t,e,n,i){if(!Sk(t))return;const r=e[t],s=n[t];te(r)&&te(s)?dl(r,s,i):e[t]=oh(s)}function dl(t,e,n){const i=me(e)?e:[e],r=i.length;if(!te(t))return t;n=n||{};const s=n.merger||x4;for(let o=0;o<r;++o){if(e=i[o],!te(e))continue;const a=Object.keys(e);for(let l=0,c=a.length;l<c;++l)s(a[l],t,e,n)}return t}function Sa(t,e){return dl(t,e,{merger:E4})}function E4(t,e,n){if(!Sk(t))return;const i=e[t],r=n[t];te(i)&&te(r)?Sa(i,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=oh(r))}const b4="",T4=".";function Pw(t,e){const n=t.indexOf(T4,e);return n===-1?t.length:n}function Gr(t,e){if(e===b4)return t;let n=0,i=Pw(e,n);for(;t&&i>n;)t=t[e.substr(n,i-n)],n=i+1,i=Pw(e,n);return t}function hy(t){return t.charAt(0).toUpperCase()+t.slice(1)}const ln=t=>typeof t<"u",tr=t=>typeof t=="function",Rw=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function S4(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Se=Math.PI,fe=2*Se,I4=fe+Se,ah=Number.POSITIVE_INFINITY,k4=Se/180,Ne=Se/2,Uo=Se/4,Nw=Se*2/3,tn=Math.log10,$n=Math.sign;function Ow(t){const e=Math.round(t);t=Ia(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(tn(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function A4(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((r,s)=>r-s).pop(),e}function fl(t){return!isNaN(parseFloat(t))&&isFinite(t)}function Ia(t,e,n){return Math.abs(t-e)<n}function C4(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function Ik(t,e,n){let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function gn(t){return t*(Se/180)}function dy(t){return t*(180/Se)}function Dw(t){if(!je(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function kk(t,e){const n=e.x-t.x,i=e.y-t.y,r=Math.sqrt(n*n+i*i);let s=Math.atan2(i,n);return s<-.5*Se&&(s+=fe),{angle:s,distance:r}}function Dg(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function P4(t,e){return(t-e+I4)%fe-Se}function Bt(t){return(t%fe+fe)%fe}function pl(t,e,n,i){const r=Bt(t),s=Bt(e),o=Bt(n),a=Bt(s-r),l=Bt(o-r),c=Bt(r-s),u=Bt(r-o);return r===s||r===o||i&&s===o||a>l&&c<u}function Ye(t,e,n){return Math.max(e,Math.min(n,t))}function R4(t){return Ye(t,-32768,32767)}function ti(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}const Cc=t=>t===0||t===1,Mw=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*fe/n)),Lw=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*fe/n)+1,ka={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Ne)+1,easeOutSine:t=>Math.sin(t*Ne),easeInOutSine:t=>-.5*(Math.cos(Se*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Cc(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Cc(t)?t:Mw(t,.075,.3),easeOutElastic:t=>Cc(t)?t:Lw(t,.075,.3),easeInOutElastic(t){return Cc(t)?t:t<.5?.5*Mw(t*2,.1125,.45):.5+.5*Lw(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-ka.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?ka.easeInBounce(t*2)*.5:ka.easeOutBounce(t*2-1)*.5+.5};/*!
 * @kurkle/color v0.1.9
 * https://github.com/kurkle/color#readme
 * (c) 2020 Jukka Kurkela
 * Released under the MIT License
 */const Yt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Mg="0123456789ABCDEF",N4=t=>Mg[t&15],O4=t=>Mg[(t&240)>>4]+Mg[t&15],Pc=t=>(t&240)>>4===(t&15);function D4(t){return Pc(t.r)&&Pc(t.g)&&Pc(t.b)&&Pc(t.a)}function M4(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Yt[t[1]]*17,g:255&Yt[t[2]]*17,b:255&Yt[t[3]]*17,a:e===5?Yt[t[4]]*17:255}:(e===7||e===9)&&(n={r:Yt[t[1]]<<4|Yt[t[2]],g:Yt[t[3]]<<4|Yt[t[4]],b:Yt[t[5]]<<4|Yt[t[6]],a:e===9?Yt[t[7]]<<4|Yt[t[8]]:255})),n}function L4(t){var e=D4(t)?N4:O4;return t&&"#"+e(t.r)+e(t.g)+e(t.b)+(t.a<255?e(t.a):"")}function Wl(t){return t+.5|0}const Sd=(t,e,n)=>Math.max(Math.min(t,n),e);function sa(t){return Sd(Wl(t*2.55),0,255)}function gl(t){return Sd(Wl(t*255),0,255)}function fy(t){return Sd(Wl(t/2.55)/100,0,1)}function Vw(t){return Sd(Wl(t*100),0,100)}const V4=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function j4(t){const e=V4.exec(t);let n=255,i,r,s;if(e){if(e[7]!==i){const o=+e[7];n=255&(e[8]?sa(o):o*255)}return i=+e[1],r=+e[3],s=+e[5],i=255&(e[2]?sa(i):i),r=255&(e[4]?sa(r):r),s=255&(e[6]?sa(s):s),{r:i,g:r,b:s,a:n}}}function $4(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${fy(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const F4=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Ak(t,e,n){const i=e*Math.min(n,1-n),r=(s,o=(s+t/30)%12)=>n-i*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function B4(t,e,n){const i=(r,s=(r+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function U4(t,e,n){const i=Ak(t,1,.5);let r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)i[r]*=1-e-n,i[r]+=e;return i}function py(t){const n=t.r/255,i=t.g/255,r=t.b/255,s=Math.max(n,i,r),o=Math.min(n,i,r),a=(s+o)/2;let l,c,u;return s!==o&&(u=s-o,c=a>.5?u/(2-s-o):u/(s+o),l=s===n?(i-r)/u+(i<r?6:0):s===i?(r-n)/u+2:(n-i)/u+4,l=l*60+.5),[l|0,c||0,a]}function gy(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(gl)}function my(t,e,n){return gy(Ak,t,e,n)}function z4(t,e,n){return gy(U4,t,e,n)}function H4(t,e,n){return gy(B4,t,e,n)}function Ck(t){return(t%360+360)%360}function W4(t){const e=F4.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?sa(+e[5]):gl(+e[5]));const r=Ck(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?i=z4(r,s,o):e[1]==="hsv"?i=H4(r,s,o):i=my(r,s,o),{r:i[0],g:i[1],b:i[2],a:n}}function q4(t,e){var n=py(t);n[0]=Ck(n[0]+e),n=my(n),t.r=n[0],t.g=n[1],t.b=n[2]}function G4(t){if(!t)return;const e=py(t),n=e[0],i=Vw(e[1]),r=Vw(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${r}%, ${fy(t.a)})`:`hsl(${n}, ${i}%, ${r}%)`}const jw={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},$w={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function K4(){const t={},e=Object.keys($w),n=Object.keys(jw);let i,r,s,o,a;for(i=0;i<e.length;i++){for(o=a=e[i],r=0;r<n.length;r++)s=n[r],a=a.replace(s,jw[s]);s=parseInt($w[o],16),t[a]=[s>>16&255,s>>8&255,s&255]}return t}let Rc;function Q4(t){Rc||(Rc=K4(),Rc.transparent=[0,0,0,0]);const e=Rc[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}function Nc(t,e,n){if(t){let i=py(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=my(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function Pk(t,e){return t&&Object.assign(e||{},t)}function Fw(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=gl(t[3]))):(e=Pk(t,{r:0,g:0,b:0,a:1}),e.a=gl(e.a)),e}function Y4(t){return t.charAt(0)==="r"?j4(t):W4(t)}class lh{constructor(e){if(e instanceof lh)return e;const n=typeof e;let i;n==="object"?i=Fw(e):n==="string"&&(i=M4(e)||Q4(e)||Y4(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=Pk(this._rgb);return e&&(e.a=fy(e.a)),e}set rgb(e){this._rgb=Fw(e)}rgbString(){return this._valid?$4(this._rgb):this._rgb}hexString(){return this._valid?L4(this._rgb):this._rgb}hslString(){return this._valid?G4(this._rgb):this._rgb}mix(e,n){const i=this;if(e){const r=i.rgb,s=e.rgb;let o;const a=n===o?.5:n,l=2*a-1,c=r.a-s.a,u=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;o=1-u,r.r=255&u*r.r+o*s.r+.5,r.g=255&u*r.g+o*s.g+.5,r.b=255&u*r.b+o*s.b+.5,r.a=a*r.a+(1-a)*s.a,i.rgb=r}return i}clone(){return new lh(this.rgb)}alpha(e){return this._rgb.a=gl(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Wl(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Nc(this._rgb,2,e),this}darken(e){return Nc(this._rgb,2,-e),this}saturate(e){return Nc(this._rgb,1,e),this}desaturate(e){return Nc(this._rgb,1,-e),this}rotate(e){return q4(this._rgb,e),this}}function Rk(t){return new lh(t)}const Nk=t=>t instanceof CanvasGradient||t instanceof CanvasPattern;function Bw(t){return Nk(t)?t:Rk(t)}function zf(t){return Nk(t)?t:Rk(t).saturate(.5).darken(.1).hexString()}const Kr=Object.create(null),Lg=Object.create(null);function Aa(t,e){if(!e)return t;const n=e.split(".");for(let i=0,r=n.length;i<r;++i){const s=n[i];t=t[s]||(t[s]=Object.create(null))}return t}function Hf(t,e,n){return typeof e=="string"?dl(Aa(t,e),n):dl(Aa(t,""),e)}class X4{constructor(e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,i)=>zf(i.backgroundColor),this.hoverBorderColor=(n,i)=>zf(i.borderColor),this.hoverColor=(n,i)=>zf(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e)}set(e,n){return Hf(this,e,n)}get(e){return Aa(this,e)}describe(e,n){return Hf(Lg,e,n)}override(e,n){return Hf(Kr,e,n)}route(e,n,i,r){const s=Aa(this,e),o=Aa(this,i),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[r];return te(l)?Object.assign({},c,l):K(l,c)},set(l){this[a]=l}}})}}var ne=new X4({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function J4(t){return!t||se(t.size)||se(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function ch(t,e,n,i,r){let s=e[r];return s||(s=e[r]=t.measureText(r).width,n.push(r)),s>i&&(i=s),i}function Z4(t,e,n,i){i=i||{};let r=i.data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(r=i.data={},s=i.garbageCollect=[],i.font=e),t.save(),t.font=e;let o=0;const a=n.length;let l,c,u,h,d;for(l=0;l<a;l++)if(h=n[l],h!=null&&me(h)!==!0)o=ch(t,r,s,o,h);else if(me(h))for(c=0,u=h.length;c<u;c++)d=h[c],d!=null&&!me(d)&&(o=ch(t,r,s,o,d));t.restore();const p=s.length/2;if(p>n.length){for(l=0;l<p;l++)delete r[s[l]];s.splice(0,p)}return o}function dr(t,e,n){const i=t.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((e-r)*i)/i+r}function Uw(t,e){e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function uh(t,e,n,i){let r,s,o,a,l;const c=e.pointStyle,u=e.rotation,h=e.radius;let d=(u||0)*k4;if(c&&typeof c=="object"&&(r=c.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(d),t.drawImage(c,-c.width/2,-c.height/2,c.width,c.height),t.restore();return}if(!(isNaN(h)||h<=0)){switch(t.beginPath(),c){default:t.arc(n,i,h,0,fe),t.closePath();break;case"triangle":t.moveTo(n+Math.sin(d)*h,i-Math.cos(d)*h),d+=Nw,t.lineTo(n+Math.sin(d)*h,i-Math.cos(d)*h),d+=Nw,t.lineTo(n+Math.sin(d)*h,i-Math.cos(d)*h),t.closePath();break;case"rectRounded":l=h*.516,a=h-l,s=Math.cos(d+Uo)*a,o=Math.sin(d+Uo)*a,t.arc(n-s,i-o,l,d-Se,d-Ne),t.arc(n+o,i-s,l,d-Ne,d),t.arc(n+s,i+o,l,d,d+Ne),t.arc(n-o,i+s,l,d+Ne,d+Se),t.closePath();break;case"rect":if(!u){a=Math.SQRT1_2*h,t.rect(n-a,i-a,2*a,2*a);break}d+=Uo;case"rectRot":s=Math.cos(d)*h,o=Math.sin(d)*h,t.moveTo(n-s,i-o),t.lineTo(n+o,i-s),t.lineTo(n+s,i+o),t.lineTo(n-o,i+s),t.closePath();break;case"crossRot":d+=Uo;case"cross":s=Math.cos(d)*h,o=Math.sin(d)*h,t.moveTo(n-s,i-o),t.lineTo(n+s,i+o),t.moveTo(n+o,i-s),t.lineTo(n-o,i+s);break;case"star":s=Math.cos(d)*h,o=Math.sin(d)*h,t.moveTo(n-s,i-o),t.lineTo(n+s,i+o),t.moveTo(n+o,i-s),t.lineTo(n-o,i+s),d+=Uo,s=Math.cos(d)*h,o=Math.sin(d)*h,t.moveTo(n-s,i-o),t.lineTo(n+s,i+o),t.moveTo(n+o,i-s),t.lineTo(n-o,i+s);break;case"line":s=Math.cos(d)*h,o=Math.sin(d)*h,t.moveTo(n-s,i-o),t.lineTo(n+s,i+o);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(d)*h,i+Math.sin(d)*h);break}t.fill(),e.borderWidth>0&&t.stroke()}}function Qr(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Id(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function kd(t){t.restore()}function eB(t,e,n,i,r){if(!e)return t.lineTo(n.x,n.y);if(r==="middle"){const s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else r==="after"!=!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function tB(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function Yr(t,e,n,i,r,s={}){const o=me(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(t.save(),t.font=r.string,nB(t,s),l=0;l<o.length;++l)c=o[l],a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),se(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(c,n,i,s.maxWidth)),t.fillText(c,n,i,s.maxWidth),iB(t,n,i,c,s),i+=r.lineHeight;t.restore()}function nB(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),se(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function iB(t,e,n,i,r){if(r.strikethrough||r.underline){const s=t.measureText(i),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,u=r.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function hh(t,e){const{x:n,y:i,w:r,h:s,radius:o}=e;t.arc(n+o.topLeft,i+o.topLeft,o.topLeft,-Ne,Se,!0),t.lineTo(n,i+s-o.bottomLeft),t.arc(n+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,Se,Ne,!0),t.lineTo(n+r-o.bottomRight,i+s),t.arc(n+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,Ne,0,!0),t.lineTo(n+r,i+o.topRight),t.arc(n+r-o.topRight,i+o.topRight,o.topRight,0,-Ne,!0),t.lineTo(n+o.topLeft,i)}const rB=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),sB=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function oB(t,e){const n=(""+t).match(rB);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const aB=t=>+t||0;function _y(t,e){const n={},i=te(e),r=i?Object.keys(e):e,s=te(t)?i?o=>K(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of r)n[o]=aB(s(o));return n}function Ok(t){return _y(t,{top:"y",right:"x",bottom:"y",left:"x"})}function zs(t){return _y(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Et(t){const e=Ok(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function qe(t,e){t=t||{},e=e||ne.font;let n=K(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=K(t.style,e.style);i&&!(""+i).match(sB)&&(console.warn('Invalid font style specified: "'+i+'"'),i="");const r={family:K(t.family,e.family),lineHeight:oB(K(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:K(t.weight,e.weight),string:""};return r.string=J4(r),r}function oa(t,e,n,i){let r=!0,s,o,a;for(s=0,o=t.length;s<o;++s)if(a=t[s],a!==void 0&&(e!==void 0&&typeof a=="function"&&(a=a(e),r=!1),n!==void 0&&me(a)&&(a=a[n%a.length],r=!1),a!==void 0))return i&&!r&&(i.cacheable=!1),a}function lB(t,e,n){const{min:i,max:r}=t,s=Tk(e,(r-i)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(i,-Math.abs(s)),max:o(r,s)}}function lr(t,e){return Object.assign(Object.create(t),e)}function yy(t,e,n){n=n||(o=>t[o]<e);let i=t.length-1,r=0,s;for(;i-r>1;)s=r+i>>1,n(s)?r=s:i=s;return{lo:r,hi:i}}const ni=(t,e,n)=>yy(t,n,i=>t[i][e]<n),cB=(t,e,n)=>yy(t,n,i=>t[i][e]>=n);function uB(t,e,n){let i=0,r=t.length;for(;i<r&&t[i]<e;)i++;for(;r>i&&t[r-1]>n;)r--;return i>0||r<t.length?t.slice(i,r):t}const Dk=["push","pop","shift","splice","unshift"];function hB(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Dk.forEach(n=>{const i="_onData"+hy(n),r=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const o=r.apply(this,s);return t._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...s)}),o}})})}function zw(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(Dk.forEach(s=>{delete t[s]}),delete t._chartjs)}function Mk(t){const e=new Set;let n,i;for(n=0,i=t.length;n<i;++n)e.add(t[n]);return e.size===i?t:Array.from(e)}function vy(t,e=[""],n=t,i,r=()=>t[0]){ln(i)||(i=$k("_fallback",t));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:n,_fallback:i,_getTarget:r,override:o=>vy([o,...t],e,n,i)};return new Proxy(s,{deleteProperty(o,a){return delete o[a],delete o._keys,delete t[0][a],!0},get(o,a){return Vk(o,a,()=>vB(a,e,t,o))},getOwnPropertyDescriptor(o,a){return Reflect.getOwnPropertyDescriptor(o._scopes[0],a)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(o,a){return Ww(o).includes(a)},ownKeys(o){return Ww(o)},set(o,a,l){const c=o._storage||(o._storage=r());return o[a]=c[a]=l,delete o._keys,!0}})}function ao(t,e,n,i){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:Lk(t,i),setContext:s=>ao(t,s,n,i),override:s=>ao(t.override(s),e,n,i)};return new Proxy(r,{deleteProperty(s,o){return delete s[o],delete t[o],!0},get(s,o,a){return Vk(s,o,()=>fB(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(s,o,a){return t[o]=a,delete s[o],!0}})}function Lk(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:i,isScriptable:tr(n)?n:()=>n,isIndexable:tr(i)?i:()=>i}}const dB=(t,e)=>t?t+hy(e):e,wy=(t,e)=>te(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Vk(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];const i=n();return t[e]=i,i}function fB(t,e,n){const{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=t;let a=i[e];return tr(a)&&o.isScriptable(e)&&(a=pB(e,a,t,n)),me(a)&&a.length&&(a=gB(e,a,t,o.isIndexable)),wy(e,a)&&(a=ao(a,r,s&&s[e],o)),a}function pB(t,e,n,i){const{_proxy:r,_context:s,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);return a.add(t),e=e(s,o||i),a.delete(t),wy(t,e)&&(e=xy(r._scopes,r,t,e)),e}function gB(t,e,n,i){const{_proxy:r,_context:s,_subProxy:o,_descriptors:a}=n;if(ln(s.index)&&i(t))e=e[s.index%e.length];else if(te(e[0])){const l=e,c=r._scopes.filter(u=>u!==l);e=[];for(const u of l){const h=xy(c,r,t,u);e.push(ao(h,s,o&&o[t],a))}}return e}function jk(t,e,n){return tr(t)?t(e,n):t}const mB=(t,e)=>t===!0?e:typeof t=="string"?Gr(e,t):void 0;function _B(t,e,n,i,r){for(const s of e){const o=mB(n,s);if(o){t.add(o);const a=jk(o._fallback,n,r);if(ln(a)&&a!==n&&a!==i)return a}else if(o===!1&&ln(i)&&n!==i)return null}return!1}function xy(t,e,n,i){const r=e._rootScopes,s=jk(e._fallback,n,i),o=[...t,...r],a=new Set;a.add(i);let l=Hw(a,o,n,s||n,i);return l===null||ln(s)&&s!==n&&(l=Hw(a,o,s,l,i),l===null)?!1:vy(Array.from(a),[""],r,s,()=>yB(e,n,i))}function Hw(t,e,n,i,r){for(;n;)n=_B(t,e,n,i,r);return n}function yB(t,e,n){const i=t._getTarget();e in i||(i[e]={});const r=i[e];return me(r)&&te(n)?n:r}function vB(t,e,n,i){let r;for(const s of e)if(r=$k(dB(s,t),n),ln(r))return wy(t,r)?xy(n,i,t,r):r}function $k(t,e){for(const n of e){if(!n)continue;const i=n[t];if(ln(i))return i}}function Ww(t){let e=t._keys;return e||(e=t._keys=wB(t._scopes)),e}function wB(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}const xB=Number.EPSILON||1e-14,lo=(t,e)=>e<t.length&&!t[e].skip&&t[e],Fk=t=>t==="x"?"y":"x";function EB(t,e,n,i){const r=t.skip?e:t,s=e,o=n.skip?e:n,a=Dg(s,r),l=Dg(o,s);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=i*c,d=i*u;return{previous:{x:s.x-h*(o.x-r.x),y:s.y-h*(o.y-r.y)},next:{x:s.x+d*(o.x-r.x),y:s.y+d*(o.y-r.y)}}}function bB(t,e,n){const i=t.length;let r,s,o,a,l,c=lo(t,0);for(let u=0;u<i-1;++u)if(l=c,c=lo(t,u+1),!(!l||!c)){if(Ia(e[u],0,xB)){n[u]=n[u+1]=0;continue}r=n[u]/e[u],s=n[u+1]/e[u],a=Math.pow(r,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=r*o*e[u],n[u+1]=s*o*e[u])}}function TB(t,e,n="x"){const i=Fk(n),r=t.length;let s,o,a,l=lo(t,0);for(let c=0;c<r;++c){if(o=a,a=l,l=lo(t,c+1),!a)continue;const u=a[n],h=a[i];o&&(s=(u-o[n])/3,a[`cp1${n}`]=u-s,a[`cp1${i}`]=h-s*e[c]),l&&(s=(l[n]-u)/3,a[`cp2${n}`]=u+s,a[`cp2${i}`]=h+s*e[c])}}function SB(t,e="x"){const n=Fk(e),i=t.length,r=Array(i).fill(0),s=Array(i);let o,a,l,c=lo(t,0);for(o=0;o<i;++o)if(a=l,l=c,c=lo(t,o+1),!!l){if(c){const u=c[e]-l[e];r[o]=u!==0?(c[n]-l[n])/u:0}s[o]=a?c?$n(r[o-1])!==$n(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}bB(t,r,s),TB(t,s,e)}function Oc(t,e,n){return Math.max(Math.min(t,n),e)}function IB(t,e){let n,i,r,s,o,a=Qr(t[0],e);for(n=0,i=t.length;n<i;++n)o=s,s=a,a=n<i-1&&Qr(t[n+1],e),s&&(r=t[n],o&&(r.cp1x=Oc(r.cp1x,e.left,e.right),r.cp1y=Oc(r.cp1y,e.top,e.bottom)),a&&(r.cp2x=Oc(r.cp2x,e.left,e.right),r.cp2y=Oc(r.cp2y,e.top,e.bottom)))}function kB(t,e,n,i,r){let s,o,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")SB(t,r);else{let c=i?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)a=t[s],l=EB(c,a,t[Math.min(s+1,o-(i?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&IB(t,n)}function Bk(){return typeof window<"u"&&typeof document<"u"}function Ey(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function dh(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const Ad=t=>window.getComputedStyle(t,null);function AB(t,e){return Ad(t).getPropertyValue(e)}const CB=["top","right","bottom","left"];function Or(t,e,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const s=CB[r];i[s]=parseFloat(t[e+"-"+s+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const PB=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function RB(t,e){const n=t.native||t,i=n.touches,r=i&&i.length?i[0]:n,{offsetX:s,offsetY:o}=r;let a=!1,l,c;if(PB(s,o,n.target))l=s,c=o;else{const u=e.getBoundingClientRect();l=r.clientX-u.left,c=r.clientY-u.top,a=!0}return{x:l,y:c,box:a}}function Uk(t,e){const{canvas:n,currentDevicePixelRatio:i}=e,r=Ad(n),s=r.boxSizing==="border-box",o=Or(r,"padding"),a=Or(r,"border","width"),{x:l,y:c,box:u}=RB(t,n),h=o.left+(u&&a.left),d=o.top+(u&&a.top);let{width:p,height:g}=e;return s&&(p-=o.width+a.width,g-=o.height+a.height),{x:Math.round((l-h)/p*n.width/i),y:Math.round((c-d)/g*n.height/i)}}function NB(t,e,n){let i,r;if(e===void 0||n===void 0){const s=Ey(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const o=s.getBoundingClientRect(),a=Ad(s),l=Or(a,"border","width"),c=Or(a,"padding");e=o.width-c.width-l.width,n=o.height-c.height-l.height,i=dh(a.maxWidth,s,"clientWidth"),r=dh(a.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:i||ah,maxHeight:r||ah}}const Wf=t=>Math.round(t*10)/10;function OB(t,e,n,i){const r=Ad(t),s=Or(r,"margin"),o=dh(r.maxWidth,t,"clientWidth")||ah,a=dh(r.maxHeight,t,"clientHeight")||ah,l=NB(t,e,n);let{width:c,height:u}=l;if(r.boxSizing==="content-box"){const h=Or(r,"border","width"),d=Or(r,"padding");c-=d.width+h.width,u-=d.height+h.height}return c=Math.max(0,c-s.width),u=Math.max(0,i?Math.floor(c/i):u-s.height),c=Wf(Math.min(c,o,l.maxWidth)),u=Wf(Math.min(u,a,l.maxHeight)),c&&!u&&(u=Wf(c/2)),{width:c,height:u}}function qw(t,e,n){const i=e||1,r=Math.floor(t.height*i),s=Math.floor(t.width*i);t.height=r/i,t.width=s/i;const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||o.height!==r||o.width!==s?(t.currentDevicePixelRatio=i,o.height=r,o.width=s,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const DB=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch{}return t}();function Gw(t,e){const n=AB(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function yr(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function MB(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:i==="middle"?n<.5?t.y:e.y:i==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function LB(t,e,n,i){const r={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},o=yr(t,r,n),a=yr(r,s,n),l=yr(s,e,n),c=yr(o,a,n),u=yr(a,l,n);return yr(c,u,n)}const Kw=new Map;function VB(t,e){e=e||{};const n=t+JSON.stringify(e);let i=Kw.get(n);return i||(i=new Intl.NumberFormat(t,e),Kw.set(n,i)),i}function ql(t,e,n){return VB(e,n).format(t)}const jB=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},$B=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Hs(t,e,n){return t?jB(e,n):$B()}function zk(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function Hk(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Wk(t){return t==="angle"?{between:pl,compare:P4,normalize:Bt}:{between:ti,compare:(e,n)=>e-n,normalize:e=>e}}function Qw({start:t,end:e,count:n,loop:i,style:r}){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n===0,style:r}}function FB(t,e,n){const{property:i,start:r,end:s}=n,{between:o,normalize:a}=Wk(i),l=e.length;let{start:c,end:u,loop:h}=t,d,p;if(h){for(c+=l,u+=l,d=0,p=l;d<p&&o(a(e[c%l][i]),r,s);++d)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:h,style:t.style}}function qk(t,e,n){if(!n)return[t];const{property:i,start:r,end:s}=n,o=e.length,{compare:a,between:l,normalize:c}=Wk(i),{start:u,end:h,loop:d,style:p}=FB(t,e,n),g=[];let y=!1,w=null,m,_,v;const x=()=>l(r,v,m)&&a(r,v)!==0,E=()=>a(s,m)===0||l(s,v,m),T=()=>y||x(),S=()=>!y||E();for(let I=u,P=u;I<=h;++I)_=e[I%o],!_.skip&&(m=c(_[i]),m!==v&&(y=l(m,r,s),w===null&&T()&&(w=a(m,r)===0?I:P),w!==null&&S()&&(g.push(Qw({start:w,end:I,loop:d,count:o,style:p})),w=null),P=I,v=m));return w!==null&&g.push(Qw({start:w,end:h,loop:d,count:o,style:p})),g}function Gk(t,e){const n=[],i=t.segments;for(let r=0;r<i.length;r++){const s=qk(i[r],t.points,e);s.length&&n.push(...s)}return n}function BB(t,e,n,i){let r=0,s=e-1;if(n&&!i)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,n&&(s+=r);s>r&&t[s%e].skip;)s--;return s%=e,{start:r,end:s}}function UB(t,e,n,i){const r=t.length,s=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%r];c.skip||c.stop?a.skip||(i=!1,s.push({start:e%r,end:(l-1)%r,loop:i}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&s.push({start:e%r,end:o%r,loop:i}),s}function zB(t,e){const n=t.points,i=t.options.spanGaps,r=n.length;if(!r)return[];const s=!!t._loop,{start:o,end:a}=BB(n,r,s,i);if(i===!0)return Yw(t,[{start:o,end:a,loop:s}],n,e);const l=a<o?a+r:a,c=!!t._fullLoop&&o===0&&a===r-1;return Yw(t,UB(n,o,l,c),n,e)}function Yw(t,e,n,i){return!i||!i.setContext||!n?e:HB(t,e,n,i)}function HB(t,e,n,i){const r=t._chart.getContext(),s=Xw(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,c=[];let u=s,h=e[0].start,d=h;function p(g,y,w,m){const _=a?-1:1;if(g!==y){for(g+=l;n[g%l].skip;)g-=_;for(;n[y%l].skip;)y+=_;g%l!==y%l&&(c.push({start:g%l,end:y%l,loop:w,style:m}),u=m,h=y%l)}}for(const g of e){h=a?h:g.start;let y=n[h%l],w;for(d=h+1;d<=g.end;d++){const m=n[d%l];w=Xw(i.setContext(lr(r,{type:"segment",p0:y,p1:m,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:o}))),WB(w,u)&&p(h,d-1,g.loop,u),y=m,u=w}h<d-1&&p(h,d-1,g.loop,u)}return c}function Xw(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function WB(t,e){return e&&JSON.stringify(t)!==JSON.stringify(e)}/*!
 * Chart.js v3.7.0
 * https://www.chartjs.org
 * (c) 2021 Chart.js Contributors
 * Released under the MIT License
 */class qB{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,r){const s=n.listeners[r],o=n.duration;s.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(i-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=Ek.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(r.draw(),this._notify(r,i,e,"progress")),s.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var qn=new qB;const Jw="transparent",GB={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=Bw(t||Jw),r=i.valid&&Bw(e||Jw);return r&&r.valid?r.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class KB{constructor(e,n,i,r){const s=n[i];r=oa([e.to,r,s,e.from]);const o=oa([e.from,s,r]);this._active=!0,this._fn=e.fn||GB[e.type||typeof o],this._easing=ka[e.easing]||ka.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,o=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=oa([e.to,n,r,e.from]),this._from=oa([e.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,r=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||n<i),!this._active){this._target[r]=a,this._notify(!0);return}if(n<0){this._target[r]=s;return}l=n/i%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(s,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][n]()}}const QB=["x","y","borderWidth","radius","tension"],YB=["color","borderColor","backgroundColor"];ne.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const XB=Object.keys(ne.animation);ne.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"});ne.set("animations",{colors:{type:"color",properties:YB},numbers:{type:"number",properties:QB}});ne.describe("animations",{_fallback:"animation"});ne.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}});class Kk{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!te(e))return;const n=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const r=e[i];if(!te(r))return;const s={};for(const o of XB)s[o]=r[o];(me(r.properties)&&r.properties||[i]).forEach(o=>{(o===i||!n.has(o))&&n.set(o,s)})})}_animateOptions(e,n){const i=n.options,r=ZB(e,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&JB(e.options.$animations,i).then(()=>{e.options=i},()=>{}),s}_createAnimations(e,n){const i=this._properties,r=[],s=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){r.push(...this._animateOptions(e,n));continue}const u=n[c];let h=s[c];const d=i.get(c);if(h)if(d&&h.active()){h.update(d,u,a);continue}else h.cancel();if(!d||!d.duration){e[c]=u;continue}s[c]=h=new KB(d,e,c,u),r.push(h)}return r}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return qn.add(this._chart,i),!0}}function JB(t,e){const n=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const s=t[i[r]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function ZB(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Zw(t,e){const n=t&&t.options||{},i=n.reverse,r=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:i?s:r,end:i?r:s}}function eU(t,e,n){if(n===!1)return!1;const i=Zw(t,n),r=Zw(e,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function tU(t){let e,n,i,r;return te(t)?(e=t.top,n=t.right,i=t.bottom,r=t.left):e=n=i=r=t,{top:e,right:n,bottom:i,left:r,disabled:t===!1}}function Qk(t,e){const n=[],i=t._getSortedDatasetMetas(e);let r,s;for(r=0,s=i.length;r<s;++r)n.push(i[r].index);return n}function ex(t,e,n,i={}){const r=t.keys,s=i.mode==="single";let o,a,l,c;if(e!==null){for(o=0,a=r.length;o<a;++o){if(l=+r[o],l===n){if(i.all)continue;break}c=t.values[l],je(c)&&(s||e===0||$n(e)===$n(c))&&(e+=c)}return e}}function nU(t){const e=Object.keys(t),n=new Array(e.length);let i,r,s;for(i=0,r=e.length;i<r;++i)s=e[i],n[i]={x:s,y:t[s]};return n}function tx(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function iU(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function rU(t){const{min:e,max:n,minDefined:i,maxDefined:r}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function sU(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function nx(t,e,n,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const s=t[r.index];if(n&&s>0||!n&&s<0)return r.index}return null}function ix(t,e){const{chart:n,_cachedMeta:i}=t,r=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=i,l=s.axis,c=o.axis,u=iU(s,o,i),h=e.length;let d;for(let p=0;p<h;++p){const g=e[p],{[l]:y,[c]:w}=g,m=g._stacks||(g._stacks={});d=m[c]=sU(r,u,y),d[a]=w,d._top=nx(d,o,!0,i.type),d._bottom=nx(d,o,!1,i.type)}}function qf(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function oU(t,e){return lr(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function aU(t,e,n){return lr(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function zo(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const r of e){const s=r._stacks;if(!s||s[i]===void 0||s[i][n]===void 0)return;delete s[i][n]}}}const Gf=t=>t==="reset"||t==="none",rx=(t,e)=>e?t:Object.assign({},t),lU=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:Qk(n,!0),values:null};class zn{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=tx(e.vScale,e),this.addElements()}updateIndex(e){this.index!==e&&zo(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),r=(h,d,p,g)=>h==="x"?d:h==="r"?g:p,s=n.xAxisID=K(i.xAxisID,qf(e,"x")),o=n.yAxisID=K(i.yAxisID,qf(e,"y")),a=n.rAxisID=K(i.rAxisID,qf(e,"r")),l=n.indexAxis,c=n.iAxisID=r(l,s,o,a),u=n.vAxisID=r(l,o,s,a);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&zw(this._data,this),e._stacked&&zo(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(te(n))this._data=nU(n);else if(i!==n){if(i){zw(i,this);const r=this._cachedMeta;zo(r),r._parsed=[]}n&&Object.isExtensible(n)&&hB(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const s=n._stacked;n._stacked=tx(n.vScale,n),n.stack!==i.stack&&(r=!0,zo(n),n.stack=i.stack),this._resyncElements(e),(r||s!==n._stacked)&&ix(this,n._parsed)}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:r}=this,{iScale:s,_stacked:o}=i,a=s.axis;let l=e===0&&n===r.length?!0:i._sorted,c=e>0&&i._parsed[e-1],u,h,d;if(this._parsing===!1)i._parsed=r,i._sorted=!0,d=r;else{me(r[e])?d=this.parseArrayData(i,r,e,n):te(r[e])?d=this.parseObjectData(i,r,e,n):d=this.parsePrimitiveData(i,r,e,n);const p=()=>h[a]===null||c&&h[a]<c[a];for(u=0;u<n;++u)i._parsed[u+e]=h=d[u],l&&(p()&&(l=!1),c=h);i._sorted=l}o&&ix(this,d)}parsePrimitiveData(e,n,i,r){const{iScale:s,vScale:o}=e,a=s.axis,l=o.axis,c=s.getLabels(),u=s===o,h=new Array(r);let d,p,g;for(d=0,p=r;d<p;++d)g=d+i,h[d]={[a]:u||s.parse(c[g],g),[l]:o.parse(n[g],g)};return h}parseArrayData(e,n,i,r){const{xScale:s,yScale:o}=e,a=new Array(r);let l,c,u,h;for(l=0,c=r;l<c;++l)u=l+i,h=n[u],a[l]={x:s.parse(h[0],u),y:o.parse(h[1],u)};return a}parseObjectData(e,n,i,r){const{xScale:s,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(r);let u,h,d,p;for(u=0,h=r;u<h;++u)d=u+i,p=n[d],c[u]={x:s.parse(Gr(p,a),d),y:o.parse(Gr(p,l),d)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const r=this.chart,s=this._cachedMeta,o=n[e.axis],a={keys:Qk(r,!0),values:n._stacks[e.axis]};return ex(a,o,s.index,{mode:i})}updateRangeFromParsed(e,n,i,r){const s=i[n.axis];let o=s===null?NaN:s;const a=r&&i._stacks[n.axis];r&&a&&(r.values=a,o=ex(r,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const i=this._cachedMeta,r=i._parsed,s=i._sorted&&e===i.iScale,o=r.length,a=this._getOtherScale(e),l=lU(n,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=rU(a);let d,p;function g(){p=r[d];const y=p[a.axis];return!je(p[e.axis])||u>y||h<y}for(d=0;d<o&&!(!g()&&(this.updateRangeFromParsed(c,e,p,l),s));++d);if(s){for(d=o-1;d>=0;--d)if(!g()){this.updateRangeFromParsed(c,e,p,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let r,s,o;for(r=0,s=n.length;r<s;++r)o=n[r][e.axis],je(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,r=n.vScale,s=this.getParsed(e);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=tU(K(this.options.clip,eU(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,r=i.data||[],s=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||r.length-a,c=this.options.drawActiveElementsOnTop;let u;for(i.dataset&&i.dataset.draw(e,s,a,l),u=a;u<a+l;++u){const h=r[u];h.hidden||(h.active&&c?o.push(h):h.draw(e,s))}for(u=0;u<o.length;++u)o[u].draw(e,s)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const r=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=aU(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=r.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=oU(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=i,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const r=n==="active",s=this._cachedDataOpts,o=e+"-"+n,a=s[o],l=this.enableOptionSharing&&ln(i);if(a)return rx(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),h=r?[`${e}Hover`,"hover",e,""]:[e,""],d=c.getOptionScopes(this.getDataset(),u),p=Object.keys(ne.elements[e]),g=()=>this.getContext(i,r),y=c.resolveNamedOptions(d,p,g,h);return y.$shared&&(y.$shared=l,s[o]=Object.freeze(rx(y,l))),y}_resolveAnimations(e,n,i){const r=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,a=s[o];if(a)return a;let l;if(r.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,n),d=u.getOptionScopes(this.getDataset(),h);l=u.createResolver(d,this.getContext(e,i,n))}const c=new Kk(r,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Gf(e)||this.chart._animationsDisabled}updateElement(e,n,i,r){Gf(r)?Object.assign(e,i):this._resolveAnimations(n,r).update(e,i)}updateSharedOptions(e,n,i){e&&!Gf(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,r){e.active=r;const s=this.getStyle(n,r);this._resolveAnimations(n,i,r).update(e,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const r=i.length,s=n.length,o=Math.min(s,r);o&&this.parse(0,o),s>r?this._insertElements(r,s-r,e):s<r&&this._removeElements(s,r-s)}_insertElements(e,n,i=!0){const r=this._cachedMeta,s=r.data,o=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(s),a=e;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(r._parsed),this.parse(e,n),i&&this.updateElements(s,e,n,"reset")}updateElements(e,n,i,r){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(e,n);i._stacked&&zo(i,r)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,r]=e;this[n](i,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}zn.defaults={};zn.prototype.datasetElementType=null;zn.prototype.dataElementType=null;function cU(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let i=[];for(let r=0,s=n.length;r<s;r++)i=i.concat(n[r].controller.getAllParsedValues(t));t._cache.$bar=Mk(i.sort((r,s)=>r-s))}return t._cache.$bar}function uU(t){const e=t.iScale,n=cU(e,t.type);let i=e._length,r,s,o,a;const l=()=>{o===32767||o===-32768||(ln(a)&&(i=Math.min(i,Math.abs(o-a)||i)),a=o)};for(r=0,s=n.length;r<s;++r)o=e.getPixelForValue(n[r]),l();for(a=void 0,r=0,s=e.ticks.length;r<s;++r)o=e.getPixelForTick(r),l();return i}function hU(t,e,n,i){const r=n.barThickness;let s,o;return se(r)?(s=e.min*n.categoryPercentage,o=n.barPercentage):(s=r*i,o=1),{chunk:s/i,ratio:o,start:e.pixels[t]-s/2}}function dU(t,e,n,i){const r=e.pixels,s=r[t];let o=t>0?r[t-1]:null,a=t<r.length-1?r[t+1]:null;const l=n.categoryPercentage;o===null&&(o=s-(a===null?e.end-e.start:a-s)),a===null&&(a=s+s-o);const c=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:n.barPercentage,start:c}}function fU(t,e,n,i){const r=n.parse(t[0],i),s=n.parse(t[1],i),o=Math.min(r,s),a=Math.max(r,s);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:r,end:s,min:o,max:a}}function Yk(t,e,n,i){return me(t)?fU(t,e,n,i):e[n.axis]=n.parse(t,i),e}function sx(t,e,n,i){const r=t.iScale,s=t.vScale,o=r.getLabels(),a=r===s,l=[];let c,u,h,d;for(c=n,u=n+i;c<u;++c)d=e[c],h={},h[r.axis]=a||r.parse(o[c],c),l.push(Yk(d,h,s,c));return l}function Kf(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function pU(t,e,n){return t!==0?$n(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function gU(t){let e,n,i,r,s;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(r="end",s="start"):(r="start",s="end"),{start:n,end:i,reverse:e,top:r,bottom:s}}function mU(t,e,n,i){let r=e.borderSkipped;const s={};if(!r){t.borderSkipped=s;return}const{start:o,end:a,reverse:l,top:c,bottom:u}=gU(t);r==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?r=c:(n._bottom||0)===i?r=u:(s[ox(u,o,a,l)]=!0,r=c)),s[ox(r,o,a,l)]=!0,t.borderSkipped=s}function ox(t,e,n,i){return i?(t=_U(t,e,n),t=ax(t,n,e)):t=ax(t,e,n),t}function _U(t,e,n){return t===e?n:t===n?e:t}function ax(t,e,n){return t==="start"?e:t==="end"?n:t}function yU(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class Cd extends zn{parsePrimitiveData(e,n,i,r){return sx(e,n,i,r)}parseArrayData(e,n,i,r){return sx(e,n,i,r)}parseObjectData(e,n,i,r){const{iScale:s,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=s.axis==="x"?a:l,u=o.axis==="x"?a:l,h=[];let d,p,g,y;for(d=i,p=i+r;d<p;++d)y=n[d],g={},g[s.axis]=s.parse(Gr(y,c),d),h.push(Yk(Gr(y,u),g,o,d));return h}updateRangeFromParsed(e,n,i,r){super.updateRangeFromParsed(e,n,i,r);const s=i._custom;s&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:i,vScale:r}=n,s=this.getParsed(e),o=s._custom,a=Kf(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(s[r.axis]);return{label:""+i.getLabelForValue(s[i.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,i,r){const s=r==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),h=this.resolveDataElementOptions(n,r),d=this.getSharedOptions(h),p=this.includeOptions(r,d);this.updateSharedOptions(d,r,h);for(let g=n;g<n+i;g++){const y=this.getParsed(g),w=s||se(y[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(g),m=this._calculateBarIndexPixels(g,u),_=(y._stacks||{})[a.axis],v={horizontal:c,base:w.base,enableBorderRadius:!_||Kf(y._custom)||o===_._top||o===_._bottom,x:c?w.head:m.center,y:c?m.center:w.head,height:c?m.size:Math.abs(w.size),width:c?Math.abs(w.size):m.size};p&&(v.options=d||this.resolveDataElementOptions(g,e[g].active?"active":r));const x=v.options||e[g].options;mU(v,x,_,o),yU(v,x,u.ratio),this.updateElement(e[g],g,v,r)}}_getStacks(e,n){const r=this._cachedMeta.iScale,s=r.getMatchingVisibleMetas(this._type),o=r.options.stacked,a=s.length,l=[];let c,u;for(c=0;c<a;++c)if(u=s[c],!!u.controller.options.grouped){if(typeof n<"u"){const h=u.controller.getParsed(n)[u.controller._cachedMeta.vScale.axis];if(se(h)||isNaN(h))continue}if((o===!1||l.indexOf(u.stack)===-1||o===void 0&&u.stack===void 0)&&l.push(u.stack),u.index===e)break}return l.length||l.push(void 0),l}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,i){const r=this._getStacks(e,i),s=n!==void 0?r.indexOf(n):-1;return s===-1?r.length-1:s}_getRuler(){const e=this.options,n=this._cachedMeta,i=n.iScale,r=[];let s,o;for(s=0,o=n.data.length;s<o;++s)r.push(i.getPixelForValue(this.getParsed(s)[i.axis],s));const a=e.barThickness;return{min:a||uU(n),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:i},options:{base:r,minBarLength:s}}=this,o=r||0,a=this.getParsed(e),l=a._custom,c=Kf(l);let u=a[n.axis],h=0,d=i?this.applyStack(n,a,i):u,p,g;d!==u&&(h=d-u,d=u),c&&(u=l.barStart,d=l.barEnd-l.barStart,u!==0&&$n(u)!==$n(l.barEnd)&&(h=0),h+=u);const y=!se(r)&&!c?r:h;let w=n.getPixelForValue(y);if(this.chart.getDataVisibility(e)?p=n.getPixelForValue(h+d):p=w,g=p-w,Math.abs(g)<s&&(g=pU(g,n,o)*s,u===o&&(w-=g/2),p=w+g),w===n.getPixelForValue(o)){const m=$n(g)*n.getLineWidthForValue(o)/2;w+=m,g-=m}return{size:g,base:w,head:p,center:p+g/2}}_calculateBarIndexPixels(e,n){const i=n.scale,r=this.options,s=r.skipNull,o=K(r.maxBarThickness,1/0);let a,l;if(n.grouped){const c=s?this._getStackCount(e):n.stackCount,u=r.barThickness==="flex"?dU(e,n,r,c):hU(e,n,r,c),h=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);a=u.start+u.chunk*h+u.chunk/2,l=Math.min(o,u.chunk*u.ratio)}else a=i.getPixelForValue(this.getParsed(e)[i.axis],e),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,i=e.data,r=i.length;let s=0;for(;s<r;++s)this.getParsed(s)[n.axis]!==null&&i[s].draw(this._ctx)}}Cd.id="bar";Cd.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};Cd.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};class Pd extends zn{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,n,i,r){const s=super.parsePrimitiveData(e,n,i,r);for(let o=0;o<s.length;o++)s[o]._custom=this.resolveDataElementOptions(o+i).radius;return s}parseArrayData(e,n,i,r){const s=super.parseArrayData(e,n,i,r);for(let o=0;o<s.length;o++){const a=n[i+o];s[o]._custom=K(a[2],this.resolveDataElementOptions(o+i).radius)}return s}parseObjectData(e,n,i,r){const s=super.parseObjectData(e,n,i,r);for(let o=0;o<s.length;o++){const a=n[i+o];s[o]._custom=K(a&&a.r&&+a.r,this.resolveDataElementOptions(o+i).radius)}return s}getMaxOverflow(){const e=this._cachedMeta.data;let n=0;for(let i=e.length-1;i>=0;--i)n=Math.max(n,e[i].size(this.resolveDataElementOptions(i))/2);return n>0&&n}getLabelAndValue(e){const n=this._cachedMeta,{xScale:i,yScale:r}=n,s=this.getParsed(e),o=i.getLabelForValue(s.x),a=r.getLabelForValue(s.y),l=s._custom;return{label:n.label,value:"("+o+", "+a+(l?", "+l:"")+")"}}update(e){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,e)}updateElements(e,n,i,r){const s=r==="reset",{iScale:o,vScale:a}=this._cachedMeta,l=this.resolveDataElementOptions(n,r),c=this.getSharedOptions(l),u=this.includeOptions(r,c),h=o.axis,d=a.axis;for(let p=n;p<n+i;p++){const g=e[p],y=!s&&this.getParsed(p),w={},m=w[h]=s?o.getPixelForDecimal(.5):o.getPixelForValue(y[h]),_=w[d]=s?a.getBasePixel():a.getPixelForValue(y[d]);w.skip=isNaN(m)||isNaN(_),u&&(w.options=this.resolveDataElementOptions(p,g.active?"active":r),s&&(w.options.radius=0)),this.updateElement(g,p,w,r)}this.updateSharedOptions(c,r,l)}resolveDataElementOptions(e,n){const i=this.getParsed(e);let r=super.resolveDataElementOptions(e,n);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const s=r.radius;return n!=="active"&&(r.radius=0),r.radius+=K(i&&i._custom,s),r}}Pd.id="bubble";Pd.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};Pd.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title(){return""}}}}};function vU(t,e,n){let i=1,r=1,s=0,o=0;if(e<fe){const a=t,l=a+e,c=Math.cos(a),u=Math.sin(a),h=Math.cos(l),d=Math.sin(l),p=(v,x,E)=>pl(v,a,l,!0)?1:Math.max(x,x*n,E,E*n),g=(v,x,E)=>pl(v,a,l,!0)?-1:Math.min(x,x*n,E,E*n),y=p(0,c,h),w=p(Ne,u,d),m=g(Se,c,h),_=g(Se+Ne,u,d);i=(y-m)/2,r=(w-_)/2,s=-(y+m)/2,o=-(w+_)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:o}}class xo extends zn{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let s=l=>+i[l];if(te(i[e])){const{key:l="value"}=this._parsing;s=c=>+Gr(i[c],l)}let o,a;for(o=e,a=e+n;o<a;++o)r._parsed[o]=s(o)}}_getRotation(){return gn(this.options.rotation-90)}_getCircumference(){return gn(this.options.circumference)}_getRotationExtents(){let e=fe,n=-fe;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)){const r=this.chart.getDatasetMeta(i).controller,s=r._getRotation(),o=r._getCircumference();e=Math.min(e,s),n=Math.max(n,s+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:i}=n,r=this._cachedMeta,s=r.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(i.width,i.height)-o)/2,0),l=Math.min(w4(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:d,ratioY:p,offsetX:g,offsetY:y}=vU(h,u,l),w=(i.width-o)/d,m=(i.height-o)/p,_=Math.max(Math.min(w,m)/2,0),v=Tk(this.options.radius,_),x=Math.max(v*l,0),E=(v-x)/this._getVisibleDatasetWeightTotal();this.offsetX=g*v,this.offsetY=y*v,r.total=this.calculateTotal(),this.outerRadius=v-E*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-E*c,0),this.updateElements(s,0,s.length,e)}_circumference(e,n){const i=this.options,r=this._cachedMeta,s=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*s/fe)}updateElements(e,n,i,r){const s=r==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,h=(a.top+a.bottom)/2,d=s&&c.animateScale,p=d?0:this.innerRadius,g=d?0:this.outerRadius,y=this.resolveDataElementOptions(n,r),w=this.getSharedOptions(y),m=this.includeOptions(r,w);let _=this._getRotation(),v;for(v=0;v<n;++v)_+=this._circumference(v,s);for(v=n;v<n+i;++v){const x=this._circumference(v,s),E=e[v],T={x:u+this.offsetX,y:h+this.offsetY,startAngle:_,endAngle:_+x,circumference:x,outerRadius:g,innerRadius:p};m&&(T.options=w||this.resolveDataElementOptions(v,E.active?"active":r)),_+=x,this.updateElement(E,v,T,r)}this.updateSharedOptions(w,r,y)}calculateTotal(){const e=this._cachedMeta,n=e.data;let i=0,r;for(r=0;r<n.length;r++){const s=e._parsed[r];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(r)&&!n[r].hidden&&(i+=Math.abs(s))}return i}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?fe*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,r=i.data.labels||[],s=ql(n._parsed[e],i.options.locale);return{label:r[e]||"",value:s}}getMaxBorderWidth(e){let n=0;const i=this.chart;let r,s,o,a,l;if(!e){for(r=0,s=i.data.datasets.length;r<s;++r)if(i.isDatasetVisible(r)){o=i.getDatasetMeta(r),e=o.data,a=o.controller;break}}if(!e)return 0;for(r=0,s=e.length;r<s;++r)l=a.resolveDataElementOptions(r),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let i=0,r=e.length;i<r;++i){const s=this.resolveDataElementOptions(i);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(e){return Math.max(K(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}xo.id="doughnut";xo.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};xo.descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"};xo.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n}}=t.legend.options;return e.labels.map((i,r)=>{const o=t.getDatasetMeta(0).controller.getStyle(r);return{text:i,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,lineWidth:o.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(r),index:r}})}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}},tooltip:{callbacks:{title(){return""},label(t){let e=t.label;const n=": "+t.formattedValue;return me(e)?(e=e.slice(),e[0]+=n):e+=n,e}}}}};class Gl extends zn{initialize(){this.enableOptionSharing=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:i,data:r=[],_dataset:s}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=wU(n,r,o);this._drawStart=a,this._drawCount=l,xU(n)&&(a=0,l=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=r;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:c},e),this.updateElements(r,a,l,e)}updateElements(e,n,i,r){const s=r==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,u=this.resolveDataElementOptions(n,r),h=this.getSharedOptions(u),d=this.includeOptions(r,h),p=o.axis,g=a.axis,{spanGaps:y,segment:w}=this.options,m=fl(y)?y:Number.POSITIVE_INFINITY,_=this.chart._animationsDisabled||s||r==="none";let v=n>0&&this.getParsed(n-1);for(let x=n;x<n+i;++x){const E=e[x],T=this.getParsed(x),S=_?E:{},I=se(T[g]),P=S[p]=o.getPixelForValue(T[p],x),N=S[g]=s||I?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,T,l):T[g],x);S.skip=isNaN(P)||isNaN(N)||I,S.stop=x>0&&T[p]-v[p]>m,w&&(S.parsed=T,S.raw=c.data[x]),d&&(S.options=h||this.resolveDataElementOptions(x,E.active?"active":r)),_||this.updateElement(E,x,S,r),v=T}this.updateSharedOptions(h,r,u)}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,i=n.options&&n.options.borderWidth||0,r=e.data||[];if(!r.length)return i;const s=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,s,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Gl.id="line";Gl.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};Gl.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};function wU(t,e,n){const i=e.length;let r=0,s=i;if(t._sorted){const{iScale:o,_parsed:a}=t,l=o.axis,{min:c,max:u,minDefined:h,maxDefined:d}=o.getUserBounds();h&&(r=Ye(Math.min(ni(a,o.axis,c).lo,n?i:ni(e,l,o.getPixelForValue(c)).lo),0,i-1)),d?s=Ye(Math.max(ni(a,o.axis,u).hi+1,n?0:ni(e,l,o.getPixelForValue(u)).hi+1),r,i)-r:s=i-r}return{start:r,count:s}}function xU(t){const{xScale:e,yScale:n,_scaleRanges:i}=t,r={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=r,!0;const s=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),s}class Rd extends zn{constructor(e,n){super(e,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,r=i.data.labels||[],s=ql(n._parsed[e].r,i.options.locale);return{label:r[e]||"",value:s}}update(e){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}_updateRadius(){const e=this.chart,n=e.chartArea,i=e.options,r=Math.min(n.right-n.left,n.bottom-n.top),s=Math.max(r/2,0),o=Math.max(i.cutoutPercentage?s/100*i.cutoutPercentage:1,0),a=(s-o)/e.getVisibleDatasetCount();this.outerRadius=s-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,n,i,r){const s=r==="reset",o=this.chart,a=this.getDataset(),c=o.options.animation,u=this._cachedMeta.rScale,h=u.xCenter,d=u.yCenter,p=u.getIndexAngle(0)-.5*Se;let g=p,y;const w=360/this.countVisibleElements();for(y=0;y<n;++y)g+=this._computeAngle(y,r,w);for(y=n;y<n+i;y++){const m=e[y];let _=g,v=g+this._computeAngle(y,r,w),x=o.getDataVisibility(y)?u.getDistanceFromCenterForValue(a.data[y]):0;g=v,s&&(c.animateScale&&(x=0),c.animateRotate&&(_=v=p));const E={x:h,y:d,innerRadius:0,outerRadius:x,startAngle:_,endAngle:v,options:this.resolveDataElementOptions(y,m.active?"active":r)};this.updateElement(m,y,E,r)}}countVisibleElements(){const e=this.getDataset(),n=this._cachedMeta;let i=0;return n.data.forEach((r,s)=>{!isNaN(e.data[s])&&this.chart.getDataVisibility(s)&&i++}),i}_computeAngle(e,n,i){return this.chart.getDataVisibility(e)?gn(this.resolveDataElementOptions(e,n).angle||i):0}}Rd.id="polarArea";Rd.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};Rd.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n}}=t.legend.options;return e.labels.map((i,r)=>{const o=t.getDatasetMeta(0).controller.getStyle(r);return{text:i,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,lineWidth:o.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(r),index:r}})}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}},tooltip:{callbacks:{title(){return""},label(t){return t.chart.data.labels[t.dataIndex]+": "+t.formattedValue}}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};class by extends xo{}by.id="pie";by.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};class Nd extends zn{getLabelAndValue(e){const n=this._cachedMeta.vScale,i=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(i[n.axis])}}update(e){const n=this._cachedMeta,i=n.dataset,r=n.data||[],s=n.iScale.getLabels();if(i.points=r,e!=="resize"){const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:s.length===r.length,options:o};this.updateElement(i,void 0,a,e)}this.updateElements(r,0,r.length,e)}updateElements(e,n,i,r){const s=this.getDataset(),o=this._cachedMeta.rScale,a=r==="reset";for(let l=n;l<n+i;l++){const c=e[l],u=this.resolveDataElementOptions(l,c.active?"active":r),h=o.getPointPositionForValue(l,s.data[l]),d=a?o.xCenter:h.x,p=a?o.yCenter:h.y,g={x:d,y:p,angle:h.angle,skip:isNaN(d)||isNaN(p),options:u};this.updateElement(c,l,g,r)}}}Nd.id="radar";Nd.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};Nd.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};class Od extends Gl{}Od.id="scatter";Od.defaults={showLine:!1,fill:!1};Od.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title(){return""},label(t){return"("+t.label+", "+t.formattedValue+")"}}}},scales:{x:{type:"linear"},y:{type:"linear"}}};var EU=Object.freeze({__proto__:null,BarController:Cd,BubbleController:Pd,DoughnutController:xo,LineController:Gl,PolarAreaController:Rd,PieController:by,RadarController:Nd,ScatterController:Od});function fr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Vg{constructor(e){this.options=e||{}}formats(){return fr()}parse(e,n){return fr()}format(e,n){return fr()}add(e,n,i){return fr()}diff(e,n,i){return fr()}startOf(e,n,i){return fr()}endOf(e,n){return fr()}}Vg.override=function(t){Object.assign(Vg.prototype,t)};var bU={_date:Vg};function aa(t,e){return"native"in t?{x:t.x,y:t.y}:Uk(t,e)}function TU(t,e){const n=t.getSortedVisibleDatasetMetas();let i,r,s;for(let o=0,a=n.length;o<a;++o){({index:i,data:r}=n[o]);for(let l=0,c=r.length;l<c;++l)s=r[l],s.skip||e(s,i,l)}}function SU(t,e,n,i){const{controller:r,data:s,_sorted:o}=t,a=r._cachedMeta.iScale;if(a&&e===a.axis&&e!=="r"&&o&&s.length){const l=a._reversePixels?cB:ni;if(i){if(r._sharedOptions){const c=s[0],u=typeof c.getRange=="function"&&c.getRange(e);if(u){const h=l(s,e,n-u),d=l(s,e,n+u);return{lo:h.lo,hi:d.hi}}}}else return l(s,e,n)}return{lo:0,hi:s.length-1}}function Ty(t,e,n,i,r){const s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=s.length;a<l;++a){const{index:c,data:u}=s[a],{lo:h,hi:d}=SU(s[a],e,o,r);for(let p=h;p<=d;++p){const g=u[p];g.skip||i(g,c,p)}}}function IU(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,r){const s=e?Math.abs(i.x-r.x):0,o=n?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function Qf(t,e,n,i){const r=[];return Qr(e,t.chartArea,t._minPadding)&&Ty(t,n,e,function(o,a,l){o.inRange(e.x,e.y,i)&&r.push({element:o,datasetIndex:a,index:l})},!0),r}function kU(t,e,n,i){let r=[];function s(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],i),{angle:h}=kk(o,{x:e.x,y:e.y});pl(h,c,u)&&r.push({element:o,datasetIndex:a,index:l})}return Ty(t,n,e,s),r}function AU(t,e,n,i,r){let s=[];const o=IU(n);let a=Number.POSITIVE_INFINITY;function l(c,u,h){const d=c.inRange(e.x,e.y,r);if(i&&!d)return;const p=c.getCenterPoint(r);if(!Qr(p,t.chartArea,t._minPadding)&&!d)return;const y=o(e,p);y<a?(s=[{element:c,datasetIndex:u,index:h}],a=y):y===a&&s.push({element:c,datasetIndex:u,index:h})}return Ty(t,n,e,l),s}function Yf(t,e,n,i,r){return Qr(e,t.chartArea,t._minPadding)?n==="r"&&!i?kU(t,e,n,r):AU(t,e,n,i,r):[]}function lx(t,e,n,i){const r=aa(e,t),s=[],o=n.axis,a=o==="x"?"inXRange":"inYRange";let l=!1;return TU(t,(c,u,h)=>{c[a](r[o],i)&&s.push({element:c,datasetIndex:u,index:h}),c.inRange(r.x,r.y,i)&&(l=!0)}),n.intersect&&!l?[]:s}var CU={modes:{index(t,e,n,i){const r=aa(e,t),s=n.axis||"x",o=n.intersect?Qf(t,r,s,i):Yf(t,r,s,!1,i),a=[];return o.length?(t.getSortedVisibleDatasetMetas().forEach(l=>{const c=o[0].index,u=l.data[c];u&&!u.skip&&a.push({element:u,datasetIndex:l.index,index:c})}),a):[]},dataset(t,e,n,i){const r=aa(e,t),s=n.axis||"xy";let o=n.intersect?Qf(t,r,s,i):Yf(t,r,s,!1,i);if(o.length>0){const a=o[0].datasetIndex,l=t.getDatasetMeta(a).data;o=[];for(let c=0;c<l.length;++c)o.push({element:l[c],datasetIndex:a,index:c})}return o},point(t,e,n,i){const r=aa(e,t),s=n.axis||"xy";return Qf(t,r,s,i)},nearest(t,e,n,i){const r=aa(e,t),s=n.axis||"xy";return Yf(t,r,s,n.intersect,i)},x(t,e,n,i){return lx(t,e,{axis:"x",intersect:n.intersect},i)},y(t,e,n,i){return lx(t,e,{axis:"y",intersect:n.intersect},i)}}};const Xk=["left","top","right","bottom"];function Ho(t,e){return t.filter(n=>n.pos===e)}function cx(t,e){return t.filter(n=>Xk.indexOf(n.pos)===-1&&n.box.axis===e)}function Wo(t,e){return t.sort((n,i)=>{const r=e?i:n,s=e?n:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function PU(t){const e=[];let n,i,r,s,o,a;for(n=0,i=(t||[]).length;n<i;++n)r=t[n],{position:s,options:{stack:o,stackWeight:a=1}}=r,e.push({index:n,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:a});return e}function RU(t){const e={};for(const n of t){const{stack:i,pos:r,stackWeight:s}=n;if(!i||!Xk.includes(r))continue;const o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function NU(t,e){const n=RU(t),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*i:l&&e.availableWidth,a.height=r):(a.width=i,a.height=u?u*r:l&&e.availableHeight)}return n}function OU(t){const e=PU(t),n=Wo(e.filter(c=>c.box.fullSize),!0),i=Wo(Ho(e,"left"),!0),r=Wo(Ho(e,"right")),s=Wo(Ho(e,"top"),!0),o=Wo(Ho(e,"bottom")),a=cx(e,"x"),l=cx(e,"y");return{fullSize:n,leftAndTop:i.concat(s),rightAndBottom:r.concat(l).concat(o).concat(a),chartArea:Ho(e,"chartArea"),vertical:i.concat(r).concat(l),horizontal:s.concat(o).concat(a)}}function ux(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function Jk(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function DU(t,e,n,i){const{pos:r,box:s}=n,o=t.maxPadding;if(!te(r)){n.size&&(t[r]-=n.size);const h=i[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?s.height:s.width),n.size=h.size/h.count,t[r]+=n.size}s.getPadding&&Jk(o,s.getPadding());const a=Math.max(0,e.outerWidth-ux(o,t,"left","right")),l=Math.max(0,e.outerHeight-ux(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function MU(t){const e=t.maxPadding;function n(i){const r=Math.max(e[i]-t[i],0);return t[i]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function LU(t,e){const n=e.maxPadding;function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(e[o],n[o])}),s}return i(t?["left","right"]:["top","bottom"])}function la(t,e,n,i){const r=[];let s,o,a,l,c,u;for(s=0,o=t.length,c=0;s<o;++s){a=t[s],l=a.box,l.update(a.width||e.w,a.height||e.h,LU(a.horizontal,e));const{same:h,other:d}=DU(e,n,a,i);c|=h&&r.length,u=u||d,l.fullSize||r.push(a)}return c&&la(r,e,n,i)||u}function Dc(t,e,n,i,r){t.top=n,t.left=e,t.right=e+i,t.bottom=n+r,t.width=i,t.height=r}function hx(t,e,n,i){const r=n.padding;let{x:s,y:o}=e;for(const a of t){const l=a.box,c=i[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const h=e.w*u,d=c.size||l.height;ln(c.start)&&(o=c.start),l.fullSize?Dc(l,r.left,o,n.outerWidth-r.right-r.left,d):Dc(l,e.left+c.placed,o,h,d),c.start=o,c.placed+=h,o=l.bottom}else{const h=e.h*u,d=c.size||l.width;ln(c.start)&&(s=c.start),l.fullSize?Dc(l,s,r.top,d,n.outerHeight-r.bottom-r.top):Dc(l,s,e.top+c.placed,d,h),c.start=s,c.placed+=h,s=l.right}}e.x=s,e.y=o}ne.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var mt={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const r=Et(t.options.layout.padding),s=Math.max(e-r.width,0),o=Math.max(n-r.height,0),a=OU(t.boxes),l=a.vertical,c=a.horizontal;ce(t.boxes,y=>{typeof y.beforeLayout=="function"&&y.beforeLayout()});const u=l.reduce((y,w)=>w.box.options&&w.box.options.display===!1?y:y+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),d=Object.assign({},r);Jk(d,Et(i));const p=Object.assign({maxPadding:d,w:s,h:o,x:r.left,y:r.top},r),g=NU(l.concat(c),h);la(a.fullSize,p,h,g),la(l,p,h,g),la(c,p,h,g)&&la(l,p,h,g),MU(p),hx(a.leftAndTop,p,h,g),p.x+=p.w,p.y+=p.h,hx(a.rightAndBottom,p,h,g),t.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},ce(a.chartArea,y=>{const w=y.box;Object.assign(w,t.chartArea),w.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class Zk{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,r){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,r?Math.floor(n/r):i)}}isAttached(e){return!0}updateConfig(e){}}class VU extends Zk{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const lu="$chartjs",jU={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},dx=t=>t===null||t==="";function $U(t,e){const n=t.style,i=t.getAttribute("height"),r=t.getAttribute("width");if(t[lu]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",dx(r)){const s=Gw(t,"width");s!==void 0&&(t.width=s)}if(dx(i))if(t.style.height==="")t.height=t.width/(e||2);else{const s=Gw(t,"height");s!==void 0&&(t.height=s)}return t}const eA=DB?{passive:!0}:!1;function FU(t,e,n){t.addEventListener(e,n,eA)}function BU(t,e,n){t.canvas.removeEventListener(e,n,eA)}function UU(t,e){const n=jU[t.type]||t.type,{x:i,y:r}=Uk(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:r!==void 0?r:null}}function fh(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function zU(t,e,n){const i=t.canvas,r=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||fh(a.addedNodes,i),o=o&&!fh(a.removedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function HU(t,e,n){const i=t.canvas,r=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||fh(a.removedNodes,i),o=o&&!fh(a.addedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const ml=new Map;let fx=0;function tA(){const t=window.devicePixelRatio;t!==fx&&(fx=t,ml.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function WU(t,e){ml.size||window.addEventListener("resize",tA),ml.set(t,e)}function qU(t){ml.delete(t),ml.size||window.removeEventListener("resize",tA)}function GU(t,e,n){const i=t.canvas,r=i&&Ey(i);if(!r)return;const s=bk((a,l)=>{const c=r.clientWidth;n(a,l),c<r.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||s(c,u)});return o.observe(r),WU(t,s),o}function Xf(t,e,n){n&&n.disconnect(),e==="resize"&&qU(t)}function KU(t,e,n){const i=t.canvas,r=bk(s=>{t.ctx!==null&&n(UU(s,t))},t,s=>{const o=s[0];return[o,o.offsetX,o.offsetY]});return FU(i,e,r),r}class QU extends Zk{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?($U(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[lu])return!1;const i=n[lu].initial;["height","width"].forEach(s=>{const o=i[s];se(o)?n.removeAttribute(s):n.setAttribute(s,o)});const r=i.style||{};return Object.keys(r).forEach(s=>{n.style[s]=r[s]}),n.width=n.width,delete n[lu],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const r=e.$proxies||(e.$proxies={}),o={attach:zU,detach:HU,resize:GU}[n]||KU;r[n]=o(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),r=i[n];if(!r)return;({attach:Xf,detach:Xf,resize:Xf}[n]||BU)(e,n,r),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,r){return OB(e,n,i,r)}isAttached(e){const n=Ey(e);return!!(n&&n.isConnected)}}function YU(t){return!Bk()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?VU:QU}class En{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return fl(this.x)&&fl(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const r={};return e.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}}En.defaults={};En.defaultRoutes=void 0;const nA={values(t){return me(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let r,s=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(r="scientific"),s=XU(t,n)}const o=tn(Math.abs(s)),a=Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),ql(t,i,l)},logarithmic(t,e,n){if(t===0)return"0";const i=t/Math.pow(10,Math.floor(tn(t)));return i===1||i===2||i===5?nA.numeric.call(this,t,e,n):""}};function XU(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Dd={formatters:nA};ne.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Dd.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}});ne.route("scale.ticks","color","","color");ne.route("scale.grid","color","","borderColor");ne.route("scale.grid","borderColor","","borderColor");ne.route("scale.title","color","","color");ne.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"});ne.describe("scales",{_fallback:"scale"});ne.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"});function JU(t,e){const n=t.options.ticks,i=n.maxTicksLimit||ZU(t),r=n.major.enabled?tz(e):[],s=r.length,o=r[0],a=r[s-1],l=[];if(s>i)return nz(e,l,r,s/i),l;const c=ez(r,e,i);if(s>0){let u,h;const d=s>1?Math.round((a-o)/(s-1)):null;for(Mc(e,l,c,se(d)?0:o-d,o),u=0,h=s-1;u<h;u++)Mc(e,l,c,r[u],r[u+1]);return Mc(e,l,c,a,se(d)?e.length:a+d),l}return Mc(e,l,c),l}function ZU(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(i,r))}function ez(t,e,n){const i=iz(t),r=e.length/n;if(!i)return Math.max(r,1);const s=A4(i);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>r)return l}return Math.max(r,1)}function tz(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function nz(t,e,n,i){let r=0,s=n[0],o;for(i=Math.ceil(i),o=0;o<t.length;o++)o===s&&(e.push(t[o]),r++,s=n[r*i])}function Mc(t,e,n,i,r){const s=K(i,0),o=Math.min(K(r,t.length),t.length);let a=0,l,c,u;for(n=Math.ceil(n),r&&(l=r-i,n=l/Math.floor(l/n)),u=s;u<0;)a++,u=Math.round(s+a*n);for(c=Math.max(s,0);c<o;c++)c===u&&(e.push(t[c]),a++,u=Math.round(s+a*n))}function iz(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const rz=t=>t==="left"?"right":t==="right"?"left":t,px=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n;function gx(t,e){const n=[],i=t.length/e,r=t.length;let s=0;for(;s<r;s+=i)n.push(t[Math.floor(s)]);return n}function sz(t,e,n){const i=t.ticks.length,r=Math.min(e,i-1),s=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(r),c;if(!(n&&(i===1?c=Math.max(l-s,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(r-1))/2,l+=r<e?c:-c,l<s-a||l>o+a)))return l}function oz(t,e){ce(t,n=>{const i=n.gc,r=i.length/2;let s;if(r>e){for(s=0;s<r;++s)delete n.data[i[s]];i.splice(0,r)}})}function qo(t){return t.drawTicks?t.tickLength:0}function mx(t,e){if(!t.display)return 0;const n=qe(t.font,e),i=Et(t.padding);return(me(t.text)?t.text.length:1)*n.lineHeight+i.height}function az(t,e){return lr(t,{scale:e,type:"scale"})}function lz(t,e,n){return lr(t,{tick:n,index:e,type:"tick"})}function cz(t,e,n){let i=uy(t);return(n&&e!=="right"||!n&&e==="right")&&(i=rz(i)),i}function uz(t,e,n,i){const{top:r,left:s,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let h=0,d,p,g;const y=o-r,w=a-s;if(t.isHorizontal()){if(p=dt(i,s,a),te(n)){const m=Object.keys(n)[0],_=n[m];g=u[m].getPixelForValue(_)+y-e}else n==="center"?g=(c.bottom+c.top)/2+y-e:g=px(t,n,e);d=a-s}else{if(te(n)){const m=Object.keys(n)[0],_=n[m];p=u[m].getPixelForValue(_)-w+e}else n==="center"?p=(c.left+c.right)/2-w+e:p=px(t,n,e);g=dt(i,o,r),h=n==="left"?-Ne:Ne}return{titleX:p,titleY:g,maxWidth:d,rotation:h}}class as extends En{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:r}=this;return e=Xt(e,Number.POSITIVE_INFINITY),n=Xt(n,Number.NEGATIVE_INFINITY),i=Xt(i,Number.POSITIVE_INFINITY),r=Xt(r,Number.NEGATIVE_INFINITY),{min:Xt(e,i),max:Xt(n,r),minDefined:je(e),maxDefined:je(n)}}getMinMax(e){let{min:n,max:i,minDefined:r,maxDefined:s}=this.getUserBounds(),o;if(r&&s)return{min:n,max:i};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),r||(n=Math.min(n,o.min)),s||(i=Math.max(i,o.max));return n=s&&n>i?i:n,i=r&&n>i?n:i,{min:Xt(n,Xt(i,n)),max:Xt(i,Xt(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){pe(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:r,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=lB(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?gx(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=JU(this,this.ticks),this._labelSizes=null),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){pe(this.options.afterUpdate,[this])}beforeSetDimensions(){pe(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){pe(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),pe(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){pe(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,r,s;for(i=0,r=e.length;i<r;i++)s=e[i],s.label=pe(n.callback,[s.value,i,e],this)}afterTickToLabelConversion(){pe(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){pe(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=this.ticks.length,r=n.minRotation||0,s=n.maxRotation;let o=r,a,l,c;if(!this._isVisible()||!n.display||r>=s||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const u=this._getLabelSizes(),h=u.widest.width,d=u.highest.height,p=Ye(this.chart.width-h,0,this.maxWidth);a=e.offset?this.maxWidth/i:p/(i-1),h+6>a&&(a=p/(i-(e.offset?.5:1)),l=this.maxHeight-qo(e.grid)-n.padding-mx(e.title,this.chart.options.font),c=Math.sqrt(h*h+d*d),o=dy(Math.min(Math.asin(Ye((u.highest.height+6)/a,-1,1)),Math.asin(Ye(l/c,-1,1))-Math.asin(Ye(d/c,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){pe(this.options.afterCalculateLabelRotation,[this])}beforeFit(){pe(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:r,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=mx(r,n.options.font);if(a?(e.width=this.maxWidth,e.height=qo(s)+l):(e.height=this.maxHeight,e.width=qo(s)+l),i.display&&this.ticks.length){const{first:c,last:u,widest:h,highest:d}=this._getLabelSizes(),p=i.padding*2,g=gn(this.labelRotation),y=Math.cos(g),w=Math.sin(g);if(a){const m=i.mirror?0:w*h.width+y*d.height;e.height=Math.min(this.maxHeight,e.height+m+p)}else{const m=i.mirror?0:y*h.width+w*d.height;e.width=Math.min(this.maxWidth,e.width+m+p)}this._calculatePadding(c,u,w,y)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,r){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,p=0;l?c?(d=r*e.width,p=i*n.height):(d=i*e.height,p=r*n.width):s==="start"?p=n.width:s==="end"?d=e.width:(d=e.width/2,p=n.width/2),this.paddingLeft=Math.max((d-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((p-h+o)*this.width/(this.width-h),0)}else{let u=n.height/2,h=e.height/2;s==="start"?(u=0,h=e.height):s==="end"&&(u=n.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){pe(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)se(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=gx(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length)}return e}_computeLabelSizes(e,n){const{ctx:i,_longestTextCache:r}=this,s=[],o=[];let a=0,l=0,c,u,h,d,p,g,y,w,m,_,v;for(c=0;c<n;++c){if(d=e[c].label,p=this._resolveTickFontOptions(c),i.font=g=p.string,y=r[g]=r[g]||{data:{},gc:[]},w=p.lineHeight,m=_=0,!se(d)&&!me(d))m=ch(i,y.data,y.gc,m,d),_=w;else if(me(d))for(u=0,h=d.length;u<h;++u)v=d[u],!se(v)&&!me(v)&&(m=ch(i,y.data,y.gc,m,v),_+=w);s.push(m),o.push(_),a=Math.max(m,a),l=Math.max(_,l)}oz(r,n);const x=s.indexOf(a),E=o.indexOf(l),T=S=>({width:s[S]||0,height:o[S]||0});return{first:T(0),last:T(n-1),widest:T(x),highest:T(E),widths:s,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return R4(this._alignToPixels?dr(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=lz(this.getContext(),e,i))}return this.$context||(this.$context=az(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=gn(this.labelRotation),i=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*i>a*r?a/i:l/r:l*r<a*i?l/i:a/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,r=this.options,{grid:s,position:o}=r,a=s.offset,l=this.isHorizontal(),u=this.ticks.length+(a?1:0),h=qo(s),d=[],p=s.setContext(this.getContext()),g=p.drawBorder?p.borderWidth:0,y=g/2,w=function($){return dr(i,$,g)};let m,_,v,x,E,T,S,I,P,N,B,W;if(o==="top")m=w(this.bottom),T=this.bottom-h,I=m-y,N=w(e.top)+y,W=e.bottom;else if(o==="bottom")m=w(this.top),N=e.top,W=w(e.bottom)-y,T=m+y,I=this.top+h;else if(o==="left")m=w(this.right),E=this.right-h,S=m-y,P=w(e.left)+y,B=e.right;else if(o==="right")m=w(this.left),P=e.left,B=w(e.right)-y,E=m+y,S=this.left+h;else if(n==="x"){if(o==="center")m=w((e.top+e.bottom)/2+.5);else if(te(o)){const $=Object.keys(o)[0],X=o[$];m=w(this.chart.scales[$].getPixelForValue(X))}N=e.top,W=e.bottom,T=m+y,I=T+h}else if(n==="y"){if(o==="center")m=w((e.left+e.right)/2);else if(te(o)){const $=Object.keys(o)[0],X=o[$];m=w(this.chart.scales[$].getPixelForValue(X))}E=m-y,S=E-h,P=e.left,B=e.right}const oe=K(r.ticks.maxTicksLimit,u),_e=Math.max(1,Math.ceil(u/oe));for(_=0;_<u;_+=_e){const $=s.setContext(this.getContext(_)),X=$.lineWidth,jt=$.color,R=s.borderDash||[],F=$.borderDashOffset,V=$.tickWidth,Y=$.tickColor,le=$.tickBorderDash||[],Q=$.tickBorderDashOffset;v=sz(this,_,a),v!==void 0&&(x=dr(i,v,X),l?E=S=P=B=x:T=I=N=W=x,d.push({tx1:E,ty1:T,tx2:S,ty2:I,x1:P,y1:N,x2:B,y2:W,width:X,color:jt,borderDash:R,borderDashOffset:F,tickWidth:V,tickColor:Y,tickBorderDash:le,tickBorderDashOffset:Q}))}return this._ticksLength=u,this._borderValue=m,d}_computeLabelItems(e){const n=this.axis,i=this.options,{position:r,ticks:s}=i,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:h}=s,d=qo(i.grid),p=d+u,g=h?-u:p,y=-gn(this.labelRotation),w=[];let m,_,v,x,E,T,S,I,P,N,B,W,oe="middle";if(r==="top")T=this.bottom-g,S=this._getXAxisLabelAlignment();else if(r==="bottom")T=this.top+g,S=this._getXAxisLabelAlignment();else if(r==="left"){const $=this._getYAxisLabelAlignment(d);S=$.textAlign,E=$.x}else if(r==="right"){const $=this._getYAxisLabelAlignment(d);S=$.textAlign,E=$.x}else if(n==="x"){if(r==="center")T=(e.top+e.bottom)/2+p;else if(te(r)){const $=Object.keys(r)[0],X=r[$];T=this.chart.scales[$].getPixelForValue(X)+p}S=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")E=(e.left+e.right)/2-p;else if(te(r)){const $=Object.keys(r)[0],X=r[$];E=this.chart.scales[$].getPixelForValue(X)}S=this._getYAxisLabelAlignment(d).textAlign}n==="y"&&(l==="start"?oe="top":l==="end"&&(oe="bottom"));const _e=this._getLabelSizes();for(m=0,_=a.length;m<_;++m){v=a[m],x=v.label;const $=s.setContext(this.getContext(m));I=this.getPixelForTick(m)+s.labelOffset,P=this._resolveTickFontOptions(m),N=P.lineHeight,B=me(x)?x.length:1;const X=B/2,jt=$.color,R=$.textStrokeColor,F=$.textStrokeWidth;o?(E=I,r==="top"?c==="near"||y!==0?W=-B*N+N/2:c==="center"?W=-_e.highest.height/2-X*N+N:W=-_e.highest.height+N/2:c==="near"||y!==0?W=N/2:c==="center"?W=_e.highest.height/2-X*N:W=_e.highest.height-B*N,h&&(W*=-1)):(T=I,W=(1-B)*N/2);let V;if($.showLabelBackdrop){const Y=Et($.backdropPadding),le=_e.heights[m],Q=_e.widths[m];let de=T+W-Y.top,Ie=E-Y.left;switch(oe){case"middle":de-=le/2;break;case"bottom":de-=le;break}switch(S){case"center":Ie-=Q/2;break;case"right":Ie-=Q;break}V={left:Ie,top:de,width:Q+Y.width,height:le+Y.height,color:$.backdropColor}}w.push({rotation:y,label:x,font:P,color:jt,strokeColor:R,strokeWidth:F,textOffset:W,textAlign:S,textBaseline:oe,translation:[E,T],backdrop:V})}return w}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-gn(this.labelRotation))return e==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"&&(r="right"),r}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,l=o.widest.width;let c,u;return n==="left"?r?(u=this.right+s,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?r?(u=this.left+s,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:r,width:s,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,r,s,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(s=>s.value===e);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const a=(l,c,u)=>{!u.width||!u.color||(i.save(),i.lineWidth=u.width,i.strokeStyle=u.color,i.setLineDash(u.borderDash||[]),i.lineDashOffset=u.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(n.display)for(s=0,o=r.length;s<o;++s){const l=r[s];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{grid:i}}=this,r=i.setContext(this.getContext()),s=i.drawBorder?r.borderWidth:0;if(!s)return;const o=i.setContext(this.getContext(0)).lineWidth,a=this._borderValue;let l,c,u,h;this.isHorizontal()?(l=dr(e,this.left,s)-s/2,c=dr(e,this.right,o)+o/2,u=h=a):(u=dr(e,this.top,s)-s/2,h=dr(e,this.bottom,o)+o/2,l=c=a),n.save(),n.lineWidth=r.borderWidth,n.strokeStyle=r.borderColor,n.beginPath(),n.moveTo(l,u),n.lineTo(c,h),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&Id(i,r);const s=this._labelItems||(this._labelItems=this._computeLabelItems(e));let o,a;for(o=0,a=s.length;o<a;++o){const l=s[o],c=l.font,u=l.label;l.backdrop&&(i.fillStyle=l.backdrop.color,i.fillRect(l.backdrop.left,l.backdrop.top,l.backdrop.width,l.backdrop.height));let h=l.textOffset;Yr(i,u,0,h,c,l)}r&&kd(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:r}}=this;if(!i.display)return;const s=qe(i.font),o=Et(i.padding),a=i.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||te(n)?(l+=o.bottom,me(i.text)&&(l+=s.lineHeight*(i.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:h,rotation:d}=uz(this,l,n,a);Yr(e,i.text,0,0,s,{color:i.color,maxWidth:h,rotation:d,textAlign:cz(a,n,r),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=K(e.grid&&e.grid.z,-1);return!this._isVisible()||this.draw!==as.prototype.draw?[{z:n,draw:r=>{this.draw(r)}}]:[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:i+1,draw:()=>{this.drawBorder()}},{z:n,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];a[i]===this.id&&(!e||a.type===e)&&r.push(a)}return r}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return qe(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Lc{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;fz(n)&&(i=this.register(n));const r=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in r||(r[s]=e,hz(e,o,i),this.override&&ne.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,r=this.scope;i in n&&delete n[i],r&&i in ne[r]&&(delete ne[r][i],this.override&&delete Kr[i])}}function hz(t,e,n){const i=dl(Object.create(null),[n?ne.get(n):{},ne.get(e),t.defaults]);ne.set(e,i),t.defaultRoutes&&dz(e,t.defaultRoutes),t.descriptors&&ne.describe(e,t.descriptors)}function dz(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),r=i.pop(),s=[t].concat(i).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");ne.route(s,r,l,a)})}function fz(t){return"id"in t&&"defaults"in t}class pz{constructor(){this.controllers=new Lc(zn,"datasets",!0),this.elements=new Lc(En,"elements"),this.plugins=new Lc(Object,"plugins"),this.scales=new Lc(as,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(e,s,r):ce(r,o=>{const a=i||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,i){const r=hy(e);pe(i["before"+r],[],i),n[e](i),pe(i["after"+r],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const r=n.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}}var ii=new pz;class gz{constructor(){this._init=[]}notify(e,n,i,r){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=r?this._descriptors(e).filter(r):this._descriptors(e),o=this._notify(s,e,n,i);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,i,r){r=r||{};for(const s of e){const o=s.plugin,a=o[i],l=[n,r,s.options];if(pe(a,l,o)===!1&&r.cancelable)return!1}return!0}invalidate(){se(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,r=K(i.options&&i.options.plugins,{}),s=mz(i);return r===!1&&!n?[]:yz(e,s,r,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,r=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(r(n,i),e,"stop"),this._notify(r(i,n),e,"start")}}function mz(t){const e=[],n=Object.keys(ii.plugins.items);for(let r=0;r<n.length;r++)e.push(ii.getPlugin(n[r]));const i=t.plugins||[];for(let r=0;r<i.length;r++){const s=i[r];e.indexOf(s)===-1&&e.push(s)}return e}function _z(t,e){return!e&&t===!1?null:t===!0?{}:t}function yz(t,e,n,i){const r=[],s=t.getContext();for(let o=0;o<e.length;o++){const a=e[o],l=a.id,c=_z(n[l],i);c!==null&&r.push({plugin:a,options:vz(t.config,a,c,s)})}return r}function vz(t,e,n,i){const r=t.pluginScopeKeys(e),s=t.getOptionScopes(n,r);return t.createResolver(s,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function jg(t,e){const n=ne.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function wz(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function xz(t,e){return t===e?"_index_":"_value_"}function Ez(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function $g(t,e){return t==="x"||t==="y"?t:e.axis||Ez(e.position)||t.charAt(0).toLowerCase()}function bz(t,e){const n=Kr[t.type]||{scales:{}},i=e.scales||{},r=jg(t.type,e),s=Object.create(null),o=Object.create(null);return Object.keys(i).forEach(a=>{const l=i[a];if(!te(l))return console.error(`Invalid scale configuration for scale: ${a}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const c=$g(a,l),u=xz(c,r),h=n.scales||{};s[c]=s[c]||a,o[a]=Sa(Object.create(null),[{axis:c},l,h[c],h[u]])}),t.data.datasets.forEach(a=>{const l=a.type||t.type,c=a.indexAxis||jg(l,e),h=(Kr[l]||{}).scales||{};Object.keys(h).forEach(d=>{const p=wz(d,c),g=a[p+"AxisID"]||s[p]||p;o[g]=o[g]||Object.create(null),Sa(o[g],[{axis:p},i[g],h[d]])})}),Object.keys(o).forEach(a=>{const l=o[a];Sa(l,[ne.scales[l.type],ne.scale])}),o}function iA(t){const e=t.options||(t.options={});e.plugins=K(e.plugins,{}),e.scales=bz(t,e)}function rA(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function Tz(t){return t=t||{},t.data=rA(t.data),iA(t),t}const _x=new Map,sA=new Set;function Vc(t,e){let n=_x.get(t);return n||(n=e(),_x.set(t,n),sA.add(n)),n}const Go=(t,e,n)=>{const i=Gr(e,n);i!==void 0&&t.add(i)};class Sz{constructor(e){this._config=Tz(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=rA(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),iA(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Vc(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Vc(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Vc(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return Vc(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let r=i.get(e);return(!r||n)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,n,i){const{options:r,type:s}=this,o=this._cachedScopes(e,i),a=o.get(n);if(a)return a;const l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(h=>Go(l,e,h))),u.forEach(h=>Go(l,r,h)),u.forEach(h=>Go(l,Kr[s]||{},h)),u.forEach(h=>Go(l,ne,h)),u.forEach(h=>Go(l,Lg,h))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),sA.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,Kr[n]||{},ne.datasets[n]||{},{type:n},ne,Lg]}resolveNamedOptions(e,n,i,r=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=yx(this._resolverCache,e,r);let l=o;if(kz(o,n)){s.$shared=!1,i=tr(i)?i():i;const c=this.createResolver(e,i,a);l=ao(o,i,c)}for(const c of n)s[c]=l[c];return s}createResolver(e,n,i=[""],r){const{resolver:s}=yx(this._resolverCache,e,i);return te(n)?ao(s,n,void 0,r):s}}function yx(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const r=n.join();let s=i.get(r);return s||(s={resolver:vy(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},i.set(r,s)),s}const Iz=t=>te(t)&&Object.getOwnPropertyNames(t).reduce((e,n)=>e||tr(t[n]),!1);function kz(t,e){const{isScriptable:n,isIndexable:i}=Lk(t);for(const r of e){const s=n(r),o=i(r),a=(o||s)&&t[r];if(s&&(tr(a)||Iz(a))||o&&me(a))return!0}return!1}var Az="3.7.0";const Cz=["top","bottom","left","right","chartArea"];function vx(t,e){return t==="top"||t==="bottom"||Cz.indexOf(t)===-1&&e==="x"}function wx(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function xx(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),pe(n&&n.onComplete,[t],e)}function Pz(t){const e=t.chart,n=e.options.animation;pe(n&&n.onProgress,[t],e)}function oA(t){return Bk()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const ph={},aA=t=>{const e=oA(t);return Object.values(ph).filter(n=>n.canvas===e).pop()};function Rz(t,e,n){const i=Object.keys(t);for(const r of i){const s=+r;if(s>=e){const o=t[r];delete t[r],(n>0||s>e)&&(t[s+n]=o)}}}function Nz(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}class ls{constructor(e,n){const i=this.config=new Sz(n),r=oA(e),s=aA(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||YU(r)),this.platform.updateConfig(i);const a=this.platform.acquireContext(r,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=v4(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new gz,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=_4(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],ph[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}qn.listen(this,"complete",xx),qn.listen(this,"progress",Pz),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:r,_aspectRatio:s}=this;return se(e)?n&&s?s:r?i/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():qw(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Uw(this.canvas,this.ctx),this}stop(){return qn.stop(this),this}resize(e,n){qn.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,r=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,e,n,s),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,qw(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),pe(i.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};ce(n,(i,r)=>{i.id=r})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,r=Object.keys(i).reduce((o,a)=>(o[a]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const a=n[o],l=$g(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),ce(s,o=>{const a=o.options,l=a.id,c=$g(l,a),u=K(a.type,o.dtype);(a.position===void 0||vx(a.position,c)!==vx(o.dposition))&&(a.position=o.dposition),r[l]=!0;let h=null;if(l in i&&i[l].type===u)h=i[l];else{const d=ii.getScale(u);h=new d({id:l,type:u,ctx:this.ctx,chart:this}),i[h.id]=h}h.init(a,e)}),ce(r,(o,a)=>{o||delete i[a]}),ce(i,o=>{mt.configure(this,o,o.options),mt.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((r,s)=>r.index-s.index),i>n){for(let r=n;r<i;++r)this._destroyDatasetMeta(r);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(wx("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,r)=>{n.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=n.length;i<r;i++){const s=n[i];let o=this.getDatasetMeta(i);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=a,o.indexAxis=s.indexAxis||jg(a,this.options),o.order=s.order||0,o.index=i,o.label=""+s.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const l=ii.getController(a),{datasetElementType:c,dataElementType:u}=ne.datasets[a];Object.assign(l.prototype,{dataElementType:ii.getElement(u),datasetElementType:c&&ii.getElement(c)}),o.controller=new l(this,i),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){ce(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:h}=this.getDatasetMeta(c),d=!r&&s.indexOf(h)===-1;h.buildOrUpdateElements(d),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),r||ce(s,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(wx("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){ce(this.scales,e=>{mt.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!Rw(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:s}of n){const o=i==="_removeElements"?-s:s;Rz(e,r,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=s=>new Set(e.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),r=i(0);for(let s=1;s<n;s++)if(!Rw(r,i(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;mt.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],ce(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,tr(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),r={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(qn.has(this)?this.attached&&!qn.running(this)&&qn.start(this):(this.draw(),xx({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resize(i,r),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let r,s;for(r=0,s=n.length;r<s;++r){const o=n[r];(!e||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i=e._clip,r=!i.disabled,s=this.chartArea,o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(r&&Id(n,{left:i.left===!1?0:s.left-i.left,right:i.right===!1?this.width:s.right+i.right,top:i.top===!1?0:s.top-i.top,bottom:i.bottom===!1?this.height:s.bottom+i.bottom}),e.controller.draw(),r&&kd(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}getElementsAtEventForMode(e,n,i,r){const s=CU.modes[n];return typeof s=="function"?s(this,e,i,r):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let r=i.filter(s=>s&&s._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=lr(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const r=i?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,r);ln(n)?(s.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),o.update(s,{visible:i}),this.update(a=>a.datasetIndex===e?r:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),qn.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Uw(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete ph[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(s,o)=>{n.addEventListener(this,s,o),e[s]=o},r=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};ce(this.options.events,s=>i(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},r=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{r("attach",a),this.attached=!0,this.resize(),i("resize",s),i("detach",o)};o=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),i("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){ce(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},ce(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const r=i?"set":"remove";let s,o,a,l;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!sh(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}_updateHoverStyles(e,n,i){const r=this.options.hover,s=(l,c)=>l.filter(u=>!c.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=s(n,e),a=i?e:s(e,n);o.length&&this.updateHoverStyle(o,r.mode,!1),a.length&&r.mode&&this.updateHoverStyle(a,r.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:Qr(e,this.chartArea,this._minPadding)},r=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const s=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(s||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:r=[],options:s}=this,o=n,a=this._getActiveElements(e,r,i,o),l=S4(e),c=Nz(e,this._lastEvent,i,l);i&&(this._lastEvent=null,pe(s.onHover,[e,a,this],this),l&&pe(s.onClick,[e,a,this],this));const u=!sh(a,r);return(u||n)&&(this._active=a,this._updateHoverStyles(a,r,n)),this._lastEvent=c,u}_getActiveElements(e,n,i,r){if(e.type==="mouseout")return[];if(!i)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,r)}}const Ex=()=>ce(ls.instances,t=>t._plugins.invalidate()),vi=!0;Object.defineProperties(ls,{defaults:{enumerable:vi,value:ne},instances:{enumerable:vi,value:ph},overrides:{enumerable:vi,value:Kr},registry:{enumerable:vi,value:ii},version:{enumerable:vi,value:Az},getChart:{enumerable:vi,value:aA},register:{enumerable:vi,value:(...t)=>{ii.add(...t),Ex()}},unregister:{enumerable:vi,value:(...t)=>{ii.remove(...t),Ex()}}});function lA(t,e,n){const{startAngle:i,pixelMargin:r,x:s,y:o,outerRadius:a,innerRadius:l}=e;let c=r/a;t.beginPath(),t.arc(s,o,a,i-c,n+c),l>r?(c=r/l,t.arc(s,o,l,n+c,i-c,!0)):t.arc(s,o,r,n+Ne,i-Ne),t.closePath(),t.clip()}function Oz(t){return _y(t,["outerStart","outerEnd","innerStart","innerEnd"])}function Dz(t,e,n,i){const r=Oz(t.options.borderRadius),s=(n-e)/2,o=Math.min(s,i*e/2),a=l=>{const c=(n-Math.min(s,l))*i/2;return Ye(l,0,Math.min(s,c))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:Ye(r.innerStart,0,o),innerEnd:Ye(r.innerEnd,0,o)}}function fs(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function Fg(t,e,n,i,r){const{x:s,y:o,startAngle:a,pixelMargin:l,innerRadius:c}=e,u=Math.max(e.outerRadius+i+n-l,0),h=c>0?c+i+n+l:0;let d=0;const p=r-a;if(i){const X=c>0?c-i:0,jt=u>0?u-i:0,R=(X+jt)/2,F=R!==0?p*R/(R+i):p;d=(p-F)/2}const g=Math.max(.001,p*u-n/Se)/u,y=(p-g)/2,w=a+y+d,m=r-y-d,{outerStart:_,outerEnd:v,innerStart:x,innerEnd:E}=Dz(e,h,u,m-w),T=u-_,S=u-v,I=w+_/T,P=m-v/S,N=h+x,B=h+E,W=w+x/N,oe=m-E/B;if(t.beginPath(),t.arc(s,o,u,I,P),v>0){const X=fs(S,P,s,o);t.arc(X.x,X.y,v,P,m+Ne)}const _e=fs(B,m,s,o);if(t.lineTo(_e.x,_e.y),E>0){const X=fs(B,oe,s,o);t.arc(X.x,X.y,E,m+Ne,oe+Math.PI)}if(t.arc(s,o,h,m-E/h,w+x/h,!0),x>0){const X=fs(N,W,s,o);t.arc(X.x,X.y,x,W+Math.PI,w-Ne)}const $=fs(T,w,s,o);if(t.lineTo($.x,$.y),_>0){const X=fs(T,I,s,o);t.arc(X.x,X.y,_,w-Ne,I)}t.closePath()}function Mz(t,e,n,i){const{fullCircles:r,startAngle:s,circumference:o}=e;let a=e.endAngle;if(r){Fg(t,e,n,i,s+fe);for(let l=0;l<r;++l)t.fill();isNaN(o)||(a=s+o%fe,o%fe===0&&(a+=fe))}return Fg(t,e,n,i,a),t.fill(),a}function Lz(t,e,n){const{x:i,y:r,startAngle:s,pixelMargin:o,fullCircles:a}=e,l=Math.max(e.outerRadius-o,0),c=e.innerRadius+o;let u;for(n&&lA(t,e,s+fe),t.beginPath(),t.arc(i,r,c,s+fe,s,!0),u=0;u<a;++u)t.stroke();for(t.beginPath(),t.arc(i,r,l,s,s+fe),u=0;u<a;++u)t.stroke()}function Vz(t,e,n,i,r){const{options:s}=e,{borderWidth:o,borderJoinStyle:a}=s,l=s.borderAlign==="inner";o&&(l?(t.lineWidth=o*2,t.lineJoin=a||"round"):(t.lineWidth=o,t.lineJoin=a||"bevel"),e.fullCircles&&Lz(t,e,l),l&&lA(t,e,r),Fg(t,e,n,i,r),t.stroke())}class Md extends En{constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,i){const r=this.getProps(["x","y"],i),{angle:s,distance:o}=kk(r,{x:e,y:n}),{startAngle:a,endAngle:l,innerRadius:c,outerRadius:u,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),d=this.options.spacing/2,g=K(h,l-a)>=fe||pl(s,a,l),y=ti(o,c+d,u+d);return g&&y}getCenterPoint(e){const{x:n,y:i,startAngle:r,endAngle:s,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],e),{offset:l,spacing:c}=this.options,u=(r+s)/2,h=(o+a+c+l)/2;return{x:n+Math.cos(u)*h,y:i+Math.sin(u)*h}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:n,circumference:i}=this,r=(n.offset||0)/2,s=(n.spacing||0)/2;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>fe?Math.floor(i/fe):0,i===0||this.innerRadius<0||this.outerRadius<0)return;e.save();let o=0;if(r){o=r/2;const l=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(l)*o,Math.sin(l)*o),this.circumference>=Se&&(o=r)}e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor;const a=Mz(e,this,o,s);Vz(e,this,o,s,a),e.restore()}}Md.id="arc";Md.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0};Md.defaultRoutes={backgroundColor:"backgroundColor"};function cA(t,e,n=e){t.lineCap=K(n.borderCapStyle,e.borderCapStyle),t.setLineDash(K(n.borderDash,e.borderDash)),t.lineDashOffset=K(n.borderDashOffset,e.borderDashOffset),t.lineJoin=K(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=K(n.borderWidth,e.borderWidth),t.strokeStyle=K(n.borderColor,e.borderColor)}function jz(t,e,n){t.lineTo(n.x,n.y)}function $z(t){return t.stepped?eB:t.tension||t.cubicInterpolationMode==="monotone"?tB:jz}function uA(t,e,n={}){const i=t.length,{start:r=0,end:s=i-1}=n,{start:o,end:a}=e,l=Math.max(r,o),c=Math.min(s,a),u=r<o&&s<o||r>a&&s>a;return{count:i,start:l,loop:e.loop,ilen:c<l&&!u?i+c-l:c-l}}function Fz(t,e,n,i){const{points:r,options:s}=e,{count:o,start:a,loop:l,ilen:c}=uA(r,n,i),u=$z(s);let{move:h=!0,reverse:d}=i||{},p,g,y;for(p=0;p<=c;++p)g=r[(a+(d?c-p:p))%o],!g.skip&&(h?(t.moveTo(g.x,g.y),h=!1):u(t,y,g,d,s.stepped),y=g);return l&&(g=r[(a+(d?c:0))%o],u(t,y,g,d,s.stepped)),!!l}function Bz(t,e,n,i){const r=e.points,{count:s,start:o,ilen:a}=uA(r,n,i),{move:l=!0,reverse:c}=i||{};let u=0,h=0,d,p,g,y,w,m;const _=x=>(o+(c?a-x:x))%s,v=()=>{y!==w&&(t.lineTo(u,w),t.lineTo(u,y),t.lineTo(u,m))};for(l&&(p=r[_(0)],t.moveTo(p.x,p.y)),d=0;d<=a;++d){if(p=r[_(d)],p.skip)continue;const x=p.x,E=p.y,T=x|0;T===g?(E<y?y=E:E>w&&(w=E),u=(h*u+x)/++h):(v(),t.lineTo(x,E),g=T,h=0,y=w=E),m=E}v()}function Bg(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?Bz:Fz}function Uz(t){return t.stepped?MB:t.tension||t.cubicInterpolationMode==="monotone"?LB:yr}function zz(t,e,n,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,n,i)&&r.closePath()),cA(t,e.options),t.stroke(r)}function Hz(t,e,n,i){const{segments:r,options:s}=e,o=Bg(e);for(const a of r)cA(t,s,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}const Wz=typeof Path2D=="function";function qz(t,e,n,i){Wz&&!e.options.segment?zz(t,e,n,i):Hz(t,e,n,i)}class cr extends En{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;kB(this._points,i,e,r,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=zB(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,i=e.length;return i&&n[e[i-1].end]}interpolate(e,n){const i=this.options,r=e[n],s=this.points,o=Gk(this,{property:n,start:r,end:r});if(!o.length)return;const a=[],l=Uz(i);let c,u;for(c=0,u=o.length;c<u;++c){const{start:h,end:d}=o[c],p=s[h],g=s[d];if(p===g){a.push(p);continue}const y=Math.abs((r-p[n])/(g[n]-p[n])),w=l(p,g,y,i.stepped);w[n]=e[n],a.push(w)}return a.length===1?a[0]:a}pathSegment(e,n,i){return Bg(this)(e,this,n,i)}path(e,n,i){const r=this.segments,s=Bg(this);let o=this._loop;n=n||0,i=i||this.points.length-n;for(const a of r)o&=s(e,this,a,{start:n,end:n+i-1});return!!o}draw(e,n,i,r){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),qz(e,this,i,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}cr.id="line";cr.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};cr.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};cr.descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};function bx(t,e,n,i){const r=t.options,{[n]:s}=t.getProps([n],i);return Math.abs(e-s)<r.radius+r.hitRadius}class Ld extends En{constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,i){const r=this.options,{x:s,y:o}=this.getProps(["x","y"],i);return Math.pow(e-s,2)+Math.pow(n-o,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,n){return bx(this,e,"x",n)}inYRange(e,n){return bx(this,e,"y",n)}getCenterPoint(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}size(e){e=e||this.options||{};let n=e.radius||0;n=Math.max(n,n&&e.hoverRadius||0);const i=n&&e.borderWidth||0;return(n+i)*2}draw(e,n){const i=this.options;this.skip||i.radius<.1||!Qr(this,n,this.size(i)/2)||(e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.fillStyle=i.backgroundColor,uh(e,i,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}Ld.id="point";Ld.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};Ld.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};function hA(t,e){const{x:n,y:i,base:r,width:s,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,c,u,h;return t.horizontal?(h=o/2,a=Math.min(n,r),l=Math.max(n,r),c=i-h,u=i+h):(h=s/2,a=n-h,l=n+h,c=Math.min(i,r),u=Math.max(i,r)),{left:a,top:c,right:l,bottom:u}}function Oi(t,e,n,i){return t?0:Ye(e,n,i)}function Gz(t,e,n){const i=t.options.borderWidth,r=t.borderSkipped,s=Ok(i);return{t:Oi(r.top,s.top,0,n),r:Oi(r.right,s.right,0,e),b:Oi(r.bottom,s.bottom,0,n),l:Oi(r.left,s.left,0,e)}}function Kz(t,e,n){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,s=zs(r),o=Math.min(e,n),a=t.borderSkipped,l=i||te(r);return{topLeft:Oi(!l||a.top||a.left,s.topLeft,0,o),topRight:Oi(!l||a.top||a.right,s.topRight,0,o),bottomLeft:Oi(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:Oi(!l||a.bottom||a.right,s.bottomRight,0,o)}}function Qz(t){const e=hA(t),n=e.right-e.left,i=e.bottom-e.top,r=Gz(t,n/2,i/2),s=Kz(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:s},inner:{x:e.left+r.l,y:e.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function Jf(t,e,n,i){const r=e===null,s=n===null,a=t&&!(r&&s)&&hA(t,i);return a&&(r||ti(e,a.left,a.right))&&(s||ti(n,a.top,a.bottom))}function Yz(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function Xz(t,e){t.rect(e.x,e.y,e.w,e.h)}function Zf(t,e,n={}){const i=t.x!==n.x?-e:0,r=t.y!==n.y?-e:0,s=(t.x+t.w!==n.x+n.w?e:0)-i,o=(t.y+t.h!==n.y+n.h?e:0)-r;return{x:t.x+i,y:t.y+r,w:t.w+s,h:t.h+o,radius:t.radius}}class Vd extends En{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:i,backgroundColor:r}}=this,{inner:s,outer:o}=Qz(this),a=Yz(o.radius)?hh:Xz;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),a(e,Zf(o,n,s)),e.clip(),a(e,Zf(s,-n,o)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),a(e,Zf(s,n)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,n,i){return Jf(this,e,n,i)}inXRange(e,n){return Jf(this,e,null,n)}inYRange(e,n){return Jf(this,null,e,n)}getCenterPoint(e){const{x:n,y:i,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(n+r)/2:n,y:s?i:(i+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}Vd.id="bar";Vd.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};Vd.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var Jz=Object.freeze({__proto__:null,ArcElement:Md,LineElement:cr,PointElement:Ld,BarElement:Vd});function Zz(t,e,n,i,r){const s=r.samples||i;if(s>=n)return t.slice(e,e+n);const o=[],a=(n-2)/(s-2);let l=0;const c=e+n-1;let u=e,h,d,p,g,y;for(o[l++]=t[u],h=0;h<s-2;h++){let w=0,m=0,_;const v=Math.floor((h+1)*a)+1+e,x=Math.min(Math.floor((h+2)*a)+1,n)+e,E=x-v;for(_=v;_<x;_++)w+=t[_].x,m+=t[_].y;w/=E,m/=E;const T=Math.floor(h*a)+1+e,S=Math.min(Math.floor((h+1)*a)+1,n)+e,{x:I,y:P}=t[u];for(p=g=-1,_=T;_<S;_++)g=.5*Math.abs((I-w)*(t[_].y-P)-(I-t[_].x)*(m-P)),g>p&&(p=g,d=t[_],y=_);o[l++]=d,u=y}return o[l++]=t[c],o}function e3(t,e,n,i){let r=0,s=0,o,a,l,c,u,h,d,p,g,y;const w=[],m=e+n-1,_=t[e].x,x=t[m].x-_;for(o=e;o<e+n;++o){a=t[o],l=(a.x-_)/x*i,c=a.y;const E=l|0;if(E===u)c<g?(g=c,h=o):c>y&&(y=c,d=o),r=(s*r+a.x)/++s;else{const T=o-1;if(!se(h)&&!se(d)){const S=Math.min(h,d),I=Math.max(h,d);S!==p&&S!==T&&w.push({...t[S],x:r}),I!==p&&I!==T&&w.push({...t[I],x:r})}o>0&&T!==p&&w.push(t[T]),w.push(a),u=E,s=0,g=y=c,h=d=p=o}}return w}function dA(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{value:e})}}function Tx(t){t.data.datasets.forEach(e=>{dA(e)})}function t3(t,e){const n=e.length;let i=0,r;const{iScale:s}=t,{min:o,max:a,minDefined:l,maxDefined:c}=s.getUserBounds();return l&&(i=Ye(ni(e,s.axis,o).lo,0,n-1)),c?r=Ye(ni(e,s.axis,a).hi+1,i,n)-i:r=n-i,{start:i,count:r}}var n3={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled){Tx(t);return}const i=t.width;t.data.datasets.forEach((r,s)=>{const{_data:o,indexAxis:a}=r,l=t.getDatasetMeta(s),c=o||r.data;if(oa([a,t.options.indexAxis])==="y"||l.type!=="line")return;const u=t.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||t.options.parsing)return;let{start:h,count:d}=t3(l,c);const p=n.threshold||4*i;if(d<=p){dA(r);return}se(o)&&(r._data=c,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(y){this._data=y}}));let g;switch(n.algorithm){case"lttb":g=Zz(c,h,d,i,n);break;case"min-max":g=e3(c,h,d,i);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}r._decimated=g})},destroy(t){Tx(t)}};function i3(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function r3(t){const e=t.options,n=e.fill;let i=K(n&&n.target,n);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function s3(t,e,n){const i=r3(t);if(te(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return je(r)&&Math.floor(r)===r?((i[0]==="-"||i[0]==="+")&&(r=e+r),r===e||r<0||r>=n?!1:r):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function o3(t){const{scale:e={},fill:n}=t;let i=null,r;return n==="start"?i=e.bottom:n==="end"?i=e.top:te(n)?i=e.getPixelForValue(n.value):e.getBasePixel&&(i=e.getBasePixel()),je(i)?(r=e.isHorizontal(),{x:r?i:null,y:r?null:i}):null}class fA{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,i){const{x:r,y:s,radius:o}=this;return n=n||{start:0,end:fe},e.arc(r,s,o,n.end,n.start,!0),!i.bounds}interpolate(e){const{x:n,y:i,radius:r}=this,s=e.angle;return{x:n+Math.cos(s)*r,y:i+Math.sin(s)*r,angle:s}}}function a3(t){const{scale:e,fill:n}=t,i=e.options,r=e.getLabels().length,s=[],o=i.reverse?e.max:e.min,a=i.reverse?e.min:e.max;let l,c,u;if(n==="start"?u=o:n==="end"?u=a:te(n)?u=n.value:u=e.getBaseValue(),i.grid.circular)return c=e.getPointPositionForValue(0,o),new fA({x:c.x,y:c.y,radius:e.getDistanceFromCenterForValue(u)});for(l=0;l<r;++l)s.push(e.getPointPositionForValue(l,u));return s}function l3(t){return(t.scale||{}).getPointPositionForValue?a3(t):o3(t)}function pA(t,e,n){for(;e>t;e--){const i=n[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function c3(t,e){const{x:n=null,y:i=null}=t||{},r=e.points,s=[];return e.segments.forEach(({start:o,end:a})=>{a=pA(o,a,r);const l=r[o],c=r[a];i!==null?(s.push({x:l.x,y:i}),s.push({x:c.x,y:i})):n!==null&&(s.push({x:n,y:l.y}),s.push({x:n,y:c.y}))}),s}function u3(t){const{scale:e,index:n,line:i}=t,r=[],s=i.segments,o=i.points,a=h3(e,n);a.push(gA({x:null,y:e.bottom},i));for(let l=0;l<s.length;l++){const c=s[l];for(let u=c.start;u<=c.end;u++)d3(r,o[u],a)}return new cr({points:r,options:{}})}function h3(t,e){const n=[],i=t.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const s=i[r];if(s.index===e)break;s.hidden||n.unshift(s.dataset)}return n}function d3(t,e,n){const i=[];for(let r=0;r<n.length;r++){const s=n[r],{first:o,last:a,point:l}=f3(s,e,"x");if(!(!l||o&&a)){if(o)i.unshift(l);else if(t.push(l),!a)break}}t.push(...i)}function f3(t,e,n){const i=t.interpolate(e,n);if(!i)return{};const r=i[n],s=t.segments,o=t.points;let a=!1,l=!1;for(let c=0;c<s.length;c++){const u=s[c],h=o[u.start][n],d=o[u.end][n];if(ti(r,h,d)){a=r===h,l=r===d;break}}return{first:a,last:l,point:i}}function p3(t){const{chart:e,fill:n,line:i}=t;if(je(n))return i3(e,n);if(n==="stack")return u3(t);if(n==="shape")return!0;const r=l3(t);return r instanceof fA?r:gA(r,i)}function gA(t,e){let n=[],i=!1;return me(t)?(i=!0,n=t):n=c3(t,e),n.length?new cr({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function g3(t,e,n){let r=t[e].fill;const s=[e];let o;if(!n)return r;for(;r!==!1&&s.indexOf(r)===-1;){if(!je(r))return r;if(o=t[r],!o)return!1;if(o.visible)return r;s.push(r),r=o.fill}return!1}function Sx(t,e,n){t.beginPath(),e.path(t),t.lineTo(e.last().x,n),t.lineTo(e.first().x,n),t.closePath(),t.clip()}function Ug(t,e,n,i){if(i)return;let r=e[t],s=n[t];return t==="angle"&&(r=Bt(r),s=Bt(s)),{property:t,start:r,end:s}}function Ix(t,e,n,i){return t&&e?i(t[n],e[n]):t?t[n]:e?e[n]:0}function m3(t,e,n){const i=t.segments,r=t.points,s=e.points,o=[];for(const a of i){let{start:l,end:c}=a;c=pA(l,c,r);const u=Ug(n,r[l],r[c],a.loop);if(!e.segments){o.push({source:a,target:u,start:r[l],end:r[c]});continue}const h=Gk(e,u);for(const d of h){const p=Ug(n,s[d.start],s[d.end],d.loop),g=qk(a,r,p);for(const y of g)o.push({source:y,target:d,start:{[n]:Ix(u,p,"start",Math.max)},end:{[n]:Ix(u,p,"end",Math.min)}})}}return o}function _3(t,e,n){const{top:i,bottom:r}=e.chart.chartArea,{property:s,start:o,end:a}=n||{};s==="x"&&(t.beginPath(),t.rect(o,i,a-o,r-i),t.clip())}function kx(t,e,n,i){const r=e.interpolate(n,i);r&&t.lineTo(r.x,r.y)}function Ax(t,e){const{line:n,target:i,property:r,color:s,scale:o}=e,a=m3(n,i,r);for(const{source:l,target:c,start:u,end:h}of a){const{style:{backgroundColor:d=s}={}}=l,p=i!==!0;t.save(),t.fillStyle=d,_3(t,o,p&&Ug(r,u,h)),t.beginPath();const g=!!n.pathSegment(t,l);let y;if(p){g?t.closePath():kx(t,i,h,r);const w=!!i.pathSegment(t,c,{move:g,reverse:!0});y=g&&w,y||kx(t,i,u,r)}t.closePath(),t.fill(y?"evenodd":"nonzero"),t.restore()}}function y3(t,e){const{line:n,target:i,above:r,below:s,area:o,scale:a}=e,l=n._loop?"angle":e.axis;t.save(),l==="x"&&s!==r&&(Sx(t,i,o.top),Ax(t,{line:n,target:i,color:r,scale:a,property:l}),t.restore(),t.save(),Sx(t,i,o.bottom)),Ax(t,{line:n,target:i,color:s,scale:a,property:l}),t.restore()}function ep(t,e,n){const i=p3(e),{line:r,scale:s,axis:o}=e,a=r.options,l=a.fill,c=a.backgroundColor,{above:u=c,below:h=c}=l||{};i&&r.points.length&&(Id(t,n),y3(t,{line:r,target:i,above:u,below:h,area:n,scale:s,axis:o}),kd(t))}var v3={id:"filler",afterDatasetsUpdate(t,e,n){const i=(t.data.datasets||[]).length,r=[];let s,o,a,l;for(o=0;o<i;++o)s=t.getDatasetMeta(o),a=s.dataset,l=null,a&&a.options&&a instanceof cr&&(l={visible:t.isDatasetVisible(o),index:o,fill:s3(a,o,i),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=l,r.push(l);for(o=0;o<i;++o)l=r[o],!(!l||l.fill===!1)&&(l.fill=g3(r,o,n.propagate))},beforeDraw(t,e,n){const i=n.drawTime==="beforeDraw",r=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let o=r.length-1;o>=0;--o){const a=r[o].$filler;a&&(a.line.updateControlPoints(s,a.axis),i&&ep(t.ctx,a,s))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=t.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const s=i[r].$filler;s&&ep(t.ctx,s,t.chartArea)}},beforeDatasetDraw(t,e,n){const i=e.meta.$filler;!i||i.fill===!1||n.drawTime!=="beforeDatasetDraw"||ep(t.ctx,i,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Cx=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},w3=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Px extends En{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=pe(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,r=qe(i.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=Cx(i,s);let c,u;n.font=r.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,s,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,s,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,r){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=r+a;let h=e;s.textAlign="left",s.textBaseline="middle";let d=-1,p=-u;return this.legendItems.forEach((g,y)=>{const w=i+n/2+s.measureText(g.text).width;(y===0||c[c.length-1]+w+2*a>o)&&(h+=u,c[c.length-(y>0?0:1)]=0,p+=u,d++),l[y]={left:0,top:p,row:d,width:w,height:r},c[c.length-1]+=w+a}),h}_fitCols(e,n,i,r){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let h=a,d=0,p=0,g=0,y=0;return this.legendItems.forEach((w,m)=>{const _=i+n/2+s.measureText(w.text).width;m>0&&p+r+2*a>u&&(h+=d+a,c.push({width:d,height:p}),g+=d+a,y++,d=p=0),l[m]={left:g,top:p,col:y,width:_,height:r},d=Math.max(d,_),p+=r+a}),h+=d,c.push({width:d,height:p}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:r},rtl:s}}=this,o=Hs(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=dt(i,this.left+r,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=dt(i,this.left+r,this.right-this.lineWidths[a])),c.top+=this.top+e+r,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+r}else{let a=0,l=dt(i,this.top+e+r,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=dt(i,this.top+e+r,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+r,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Id(e,this),this._draw(),kd(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:r}=this,{align:s,labels:o}=e,a=ne.color,l=Hs(e.rtl,this.left,this.width),c=qe(o.font),{color:u,padding:h}=o,d=c.size,p=d/2;let g;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=c.string;const{boxWidth:y,boxHeight:w,itemHeight:m}=Cx(o,d),_=function(S,I,P){if(isNaN(y)||y<=0||isNaN(w)||w<0)return;r.save();const N=K(P.lineWidth,1);if(r.fillStyle=K(P.fillStyle,a),r.lineCap=K(P.lineCap,"butt"),r.lineDashOffset=K(P.lineDashOffset,0),r.lineJoin=K(P.lineJoin,"miter"),r.lineWidth=N,r.strokeStyle=K(P.strokeStyle,a),r.setLineDash(K(P.lineDash,[])),o.usePointStyle){const B={radius:y*Math.SQRT2/2,pointStyle:P.pointStyle,rotation:P.rotation,borderWidth:N},W=l.xPlus(S,y/2),oe=I+p;uh(r,B,W,oe)}else{const B=I+Math.max((d-w)/2,0),W=l.leftForLtr(S,y),oe=zs(P.borderRadius);r.beginPath(),Object.values(oe).some(_e=>_e!==0)?hh(r,{x:W,y:B,w:y,h:w,radius:oe}):r.rect(W,B,y,w),r.fill(),N!==0&&r.stroke()}r.restore()},v=function(S,I,P){Yr(r,P.text,S,I+m/2,c,{strikethrough:P.hidden,textAlign:l.textAlign(P.textAlign)})},x=this.isHorizontal(),E=this._computeTitleHeight();x?g={x:dt(s,this.left+h,this.right-i[0]),y:this.top+h+E,line:0}:g={x:this.left+h,y:dt(s,this.top+E+h,this.bottom-n[0].height),line:0},zk(this.ctx,e.textDirection);const T=m+h;this.legendItems.forEach((S,I)=>{r.strokeStyle=S.fontColor||u,r.fillStyle=S.fontColor||u;const P=r.measureText(S.text).width,N=l.textAlign(S.textAlign||(S.textAlign=o.textAlign)),B=y+p+P;let W=g.x,oe=g.y;l.setWidth(this.width),x?I>0&&W+B+h>this.right&&(oe=g.y+=T,g.line++,W=g.x=dt(s,this.left+h,this.right-i[g.line])):I>0&&oe+T>this.bottom&&(W=g.x=W+n[g.line].width+h,g.line++,oe=g.y=dt(s,this.top+E+h,this.bottom-n[g.line].height));const _e=l.x(W);_(_e,oe,S),W=y4(N,W+y+p,x?W+B:this.right,e.rtl),v(l.x(W),oe,S),x?g.x+=B+h:g.y+=T}),Hk(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=qe(n.font),r=Et(n.padding);if(!n.display)return;const s=Hs(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=i.size/2,c=r.top+l;let u,h=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),u=this.top+c,h=dt(e.align,h,this.right-d);else{const g=this.columnSizes.reduce((y,w)=>Math.max(y,w.height),0);u=c+dt(e.align,this.top,this.bottom-g-e.labels.padding-this._computeTitleHeight())}const p=dt(a,h,h+d);o.textAlign=s.textAlign(uy(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=i.string,Yr(o,n.text,p,u,i)}_computeTitleHeight(){const e=this.options.title,n=qe(e.font),i=Et(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,r,s;if(ti(e,this.left,this.right)&&ti(n,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],ti(e,r.left,r.left+r.width)&&ti(n,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!x3(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"){const r=this._hoveredItem,s=w3(r,i);r&&!s&&pe(n.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!s&&pe(n.onHover,[e,i,this],this)}else i&&pe(n.onClick,[e,i,this],this)}}function x3(t,e){return!!(t==="mousemove"&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var E3={id:"legend",_element:Px,start(t,e,n){const i=t.legend=new Px({ctx:t.ctx,options:n,chart:t});mt.configure(t,i,n),mt.addBox(t,i)},stop(t){mt.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;mt.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:s}}=t.legend.options;return t._getSortedDatasetMetas().map(o=>{const a=o.controller.getStyle(n?0:void 0),l=Et(a.borderWidth);return{text:e[o.index].label,fillStyle:a.backgroundColor,fontColor:s,hidden:!o.visible,lineCap:a.borderCapStyle,lineDash:a.borderDash,lineDashOffset:a.borderDashOffset,lineJoin:a.borderJoinStyle,lineWidth:(l.width+l.height)/4,strokeStyle:a.borderColor,pointStyle:i||a.pointStyle,rotation:a.rotation,textAlign:r||a.textAlign,borderRadius:0,datasetIndex:o.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class Sy extends En{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const r=me(i.text)?i.text.length:1;this._padding=Et(i.padding);const s=r*qe(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:i,bottom:r,right:s,options:o}=this,a=o.align;let l=0,c,u,h;return this.isHorizontal()?(u=dt(a,i,s),h=n+e,c=s-i):(o.position==="left"?(u=i+e,h=dt(a,r,n),l=Se*-.5):(u=s-e,h=dt(a,n,r),l=Se*.5),c=r-n),{titleX:u,titleY:h,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const i=qe(n.font),s=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(s);Yr(e,n.text,0,0,i,{color:n.color,maxWidth:l,rotation:c,textAlign:uy(n.align),textBaseline:"middle",translation:[o,a]})}}function b3(t,e){const n=new Sy({ctx:t.ctx,options:e,chart:t});mt.configure(t,n,e),mt.addBox(t,n),t.titleBlock=n}var T3={id:"title",_element:Sy,start(t,e,n){b3(t,n)},stop(t){const e=t.titleBlock;mt.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;mt.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const jc=new WeakMap;var S3={id:"subtitle",start(t,e,n){const i=new Sy({ctx:t.ctx,options:n,chart:t});mt.configure(t,i,n),mt.addBox(t,i),jc.set(t,i)},stop(t){mt.removeBox(t,jc.get(t)),jc.delete(t)},beforeUpdate(t,e,n){const i=jc.get(t);mt.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ca={average(t){if(!t.length)return!1;let e,n,i=0,r=0,s=0;for(e=0,n=t.length;e<n;++e){const o=t[e].element;if(o&&o.hasValue()){const a=o.tooltipPosition();i+=a.x,r+=a.y,++s}}return{x:i/s,y:r/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,r=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=t.length;s<o;++s){const l=t[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=Dg(e,c);u<r&&(r=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,i=l.y}return{x:n,y:i}}};function Tn(t,e){return e&&(me(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Gn(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function I3(t,e){const{element:n,datasetIndex:i,index:r}=e,s=t.getDatasetMeta(i).controller,{label:o,value:a}=s.getLabelAndValue(r);return{chart:t,label:o,parsed:s.getParsed(r),raw:t.data.datasets[i].data[r],formattedValue:a,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function Rx(t,e){const n=t.chart.ctx,{body:i,footer:r,title:s}=t,{boxWidth:o,boxHeight:a}=e,l=qe(e.bodyFont),c=qe(e.titleFont),u=qe(e.footerFont),h=s.length,d=r.length,p=i.length,g=Et(e.padding);let y=g.height,w=0,m=i.reduce((x,E)=>x+E.before.length+E.lines.length+E.after.length,0);if(m+=t.beforeBody.length+t.afterBody.length,h&&(y+=h*c.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),m){const x=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;y+=p*x+(m-p)*l.lineHeight+(m-1)*e.bodySpacing}d&&(y+=e.footerMarginTop+d*u.lineHeight+(d-1)*e.footerSpacing);let _=0;const v=function(x){w=Math.max(w,n.measureText(x).width+_)};return n.save(),n.font=c.string,ce(t.title,v),n.font=l.string,ce(t.beforeBody.concat(t.afterBody),v),_=e.displayColors?o+2+e.boxPadding:0,ce(i,x=>{ce(x.before,v),ce(x.lines,v),ce(x.after,v)}),_=0,n.font=u.string,ce(t.footer,v),n.restore(),w+=g.width,{width:w,height:y}}function k3(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function A3(t,e,n,i){const{x:r,width:s}=i,o=n.caretSize+n.caretPadding;if(t==="left"&&r+s+o>e.width||t==="right"&&r-s-o<0)return!0}function C3(t,e,n,i){const{x:r,width:s}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return i==="center"?c=r<=(a+l)/2?"left":"right":r<=s/2?c="left":r>=o-s/2&&(c="right"),A3(c,t,e,n)&&(c="center"),c}function Nx(t,e,n){const i=n.yAlign||e.yAlign||k3(t,n);return{xAlign:n.xAlign||e.xAlign||C3(t,e,n,i),yAlign:i}}function P3(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function R3(t,e,n){let{y:i,height:r}=t;return e==="top"?i+=n:e==="bottom"?i-=r+n:i-=r/2,i}function Ox(t,e,n,i){const{caretSize:r,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=r+s,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:p}=zs(o);let g=P3(e,a);const y=R3(e,l,c);return l==="center"?a==="left"?g+=c:a==="right"&&(g-=c):a==="left"?g-=Math.max(u,d)+r:a==="right"&&(g+=Math.max(h,p)+r),{x:Ye(g,0,i.width-e.width),y:Ye(y,0,i.height-e.height)}}function $c(t,e,n){const i=Et(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function Dx(t){return Tn([],Gn(t))}function N3(t,e,n){return lr(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function Mx(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}class zg extends En{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart||e._chart,this._chart=this.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&n.options.animation&&i.animations,s=new Kk(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=N3(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,r=i.beforeTitle.apply(this,[e]),s=i.title.apply(this,[e]),o=i.afterTitle.apply(this,[e]);let a=[];return a=Tn(a,Gn(r)),a=Tn(a,Gn(s)),a=Tn(a,Gn(o)),a}getBeforeBody(e,n){return Dx(n.callbacks.beforeBody.apply(this,[e]))}getBody(e,n){const{callbacks:i}=n,r=[];return ce(e,s=>{const o={before:[],lines:[],after:[]},a=Mx(i,s);Tn(o.before,Gn(a.beforeLabel.call(this,s))),Tn(o.lines,a.label.call(this,s)),Tn(o.after,Gn(a.afterLabel.call(this,s))),r.push(o)}),r}getAfterBody(e,n){return Dx(n.callbacks.afterBody.apply(this,[e]))}getFooter(e,n){const{callbacks:i}=n,r=i.beforeFooter.apply(this,[e]),s=i.footer.apply(this,[e]),o=i.afterFooter.apply(this,[e]);let a=[];return a=Tn(a,Gn(r)),a=Tn(a,Gn(s)),a=Tn(a,Gn(o)),a}_createItems(e){const n=this._active,i=this.chart.data,r=[],s=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(I3(this.chart,n[l]));return e.filter&&(a=a.filter((u,h,d)=>e.filter(u,h,d,i))),e.itemSort&&(a=a.sort((u,h)=>e.itemSort(u,h,i))),ce(a,u=>{const h=Mx(e.callbacks,u);r.push(h.labelColor.call(this,u)),s.push(h.labelPointStyle.call(this,u)),o.push(h.labelTextColor.call(this,u))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const i=this.options.setContext(this.getContext()),r=this._active;let s,o=[];if(!r.length)this.opacity!==0&&(s={opacity:0});else{const a=Ca[i.position].call(this,r,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const l=this._size=Rx(this,i),c=Object.assign({},a,l),u=Nx(this.chart,i,c),h=Ox(i,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,s={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,r){const s=this.getCaretPosition(e,i,r);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,i){const{xAlign:r,yAlign:s}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:h}=zs(a),{x:d,y:p}=e,{width:g,height:y}=n;let w,m,_,v,x,E;return s==="center"?(x=p+y/2,r==="left"?(w=d,m=w-o,v=x+o,E=x-o):(w=d+g,m=w+o,v=x-o,E=x+o),_=w):(r==="left"?m=d+Math.max(l,u)+o:r==="right"?m=d+g-Math.max(c,h)-o:m=this.caretX,s==="top"?(v=p,x=v-o,w=m-o,_=m+o):(v=p+y,x=v+o,w=m+o,_=m-o),E=v),{x1:w,x2:m,x3:_,y1:v,y2:x,y3:E}}drawTitle(e,n,i){const r=this.title,s=r.length;let o,a,l;if(s){const c=Hs(i.rtl,this.x,this.width);for(e.x=$c(this,i.titleAlign,i),n.textAlign=c.textAlign(i.titleAlign),n.textBaseline="middle",o=qe(i.titleFont),a=i.titleSpacing,n.fillStyle=i.titleColor,n.font=o.string,l=0;l<s;++l)n.fillText(r[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===s&&(e.y+=i.titleMarginBottom-a)}}_drawColorBox(e,n,i,r,s){const o=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:l,boxWidth:c,boxPadding:u}=s,h=qe(s.bodyFont),d=$c(this,"left",s),p=r.x(d),g=l<h.lineHeight?(h.lineHeight-l)/2:0,y=n.y+g;if(s.usePointStyle){const w={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},m=r.leftForLtr(p,c)+c/2,_=y+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,uh(e,w,m,_),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,uh(e,w,m,_)}else{e.lineWidth=o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const w=r.leftForLtr(p,c-u),m=r.leftForLtr(r.xPlus(p,1),c-u-2),_=zs(o.borderRadius);Object.values(_).some(v=>v!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,hh(e,{x:w,y,w:c,h:l,radius:_}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),hh(e,{x:m,y:y+1,w:c-2,h:l-2,radius:_}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(w,y,c,l),e.strokeRect(w,y,c,l),e.fillStyle=o.backgroundColor,e.fillRect(m,y+1,c-2,l-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:r}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=i,h=qe(i.bodyFont);let d=h.lineHeight,p=0;const g=Hs(i.rtl,this.x,this.width),y=function(I){n.fillText(I,g.x(e.x+p),e.y+d/2),e.y+=d+s},w=g.textAlign(o);let m,_,v,x,E,T,S;for(n.textAlign=o,n.textBaseline="middle",n.font=h.string,e.x=$c(this,w,i),n.fillStyle=i.bodyColor,ce(this.beforeBody,y),p=a&&w!=="right"?o==="center"?c/2+u:c+2+u:0,x=0,T=r.length;x<T;++x){for(m=r[x],_=this.labelTextColors[x],n.fillStyle=_,ce(m.before,y),v=m.lines,a&&v.length&&(this._drawColorBox(n,e,x,g,i),d=Math.max(h.lineHeight,l)),E=0,S=v.length;E<S;++E)y(v[E]),d=h.lineHeight;ce(m.after,y)}p=0,d=h.lineHeight,ce(this.afterBody,y),e.y-=s}drawFooter(e,n,i){const r=this.footer,s=r.length;let o,a;if(s){const l=Hs(i.rtl,this.x,this.width);for(e.x=$c(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=l.textAlign(i.footerAlign),n.textBaseline="middle",o=qe(i.footerFont),n.fillStyle=i.footerColor,n.font=o.string,a=0;a<s;++a)n.fillText(r[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+i.footerSpacing}}drawBackground(e,n,i,r){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=i,{topLeft:h,topRight:d,bottomLeft:p,bottomRight:g}=zs(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(a+h,l),o==="top"&&this.drawCaret(e,n,i,r),n.lineTo(a+c-d,l),n.quadraticCurveTo(a+c,l,a+c,l+d),o==="center"&&s==="right"&&this.drawCaret(e,n,i,r),n.lineTo(a+c,l+u-g),n.quadraticCurveTo(a+c,l+u,a+c-g,l+u),o==="bottom"&&this.drawCaret(e,n,i,r),n.lineTo(a+p,l+u),n.quadraticCurveTo(a,l+u,a,l+u-p),o==="center"&&s==="left"&&this.drawCaret(e,n,i,r),n.lineTo(a,l+h),n.quadraticCurveTo(a,l,a+h,l),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,r=i&&i.x,s=i&&i.y;if(r||s){const o=Ca[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=Rx(this,e),l=Object.assign({},o,this._size),c=Nx(n,e,l),u=Ox(e,l,c,n);(r._to!==u.x||s._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=Et(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=i,this.drawBackground(s,e,r,n),zk(e,n.textDirection),s.y+=o.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),Hk(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,r=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),s=!sh(i,r),o=this._positionChanged(r,n);(s||o)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],o=this._getActiveElements(e,s,n,i),a=this._positionChanged(o,e),l=n||!sh(o,s)||a;return l&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,i,r){const s=this.options;if(e.type==="mouseout")return[];if(!r)return n;const o=this.chart.getElementsAtEventForMode(e,s.mode,s,i);return s.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:i,caretY:r,options:s}=this,o=Ca[s.position].call(this,e,n);return o!==!1&&(i!==o.x||r!==o.y)}}zg.positioners=Ca;var O3={id:"tooltip",_element:zg,positioners:Ca,afterInit(t,e,n){n&&(t.tooltip=new zg({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip,n={tooltip:e};t.notifyPlugins("beforeTooltipDraw",n)!==!1&&(e&&e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n))},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:Wn,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:Wn,beforeBody:Wn,beforeLabel:Wn,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return se(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Wn,afterBody:Wn,beforeFooter:Wn,footer:Wn,afterFooter:Wn}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},D3=Object.freeze({__proto__:null,Decimation:n3,Filler:v3,Legend:E3,SubTitle:S3,Title:T3,Tooltip:O3});const M3=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function L3(t,e,n,i){const r=t.indexOf(e);if(r===-1)return M3(t,e,n,i);const s=t.lastIndexOf(e);return r!==s?n:r}const V3=(t,e)=>t===null?null:Ye(Math.round(t),0,e);class gh extends as{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:r,label:s}of n)i[r]===s&&i.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(se(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:L3(i,e,K(n,e),this._addedLabels),V3(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,r=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=e;o<=n;o++)r.push({value:o});return r}getLabelForValue(e){const n=this.getLabels();return e>=0&&e<n.length?n[e]:e}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}gh.id="category";gh.defaults={ticks:{callback:gh.prototype.getLabelForValue}};function j3(t,e){const n=[],{bounds:r,step:s,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:h,includeBounds:d}=t,p=s||1,g=u-1,{min:y,max:w}=e,m=!se(o),_=!se(a),v=!se(c),x=(w-y)/(h+1);let E=Ow((w-y)/g/p)*p,T,S,I,P;if(E<1e-14&&!m&&!_)return[{value:y},{value:w}];P=Math.ceil(w/E)-Math.floor(y/E),P>g&&(E=Ow(P*E/g/p)*p),se(l)||(T=Math.pow(10,l),E=Math.ceil(E*T)/T),r==="ticks"?(S=Math.floor(y/E)*E,I=Math.ceil(w/E)*E):(S=y,I=w),m&&_&&s&&C4((a-o)/s,E/1e3)?(P=Math.round(Math.min((a-o)/E,u)),E=(a-o)/P,S=o,I=a):v?(S=m?o:S,I=_?a:I,P=c-1,E=(I-S)/P):(P=(I-S)/E,Ia(P,Math.round(P),E/1e3)?P=Math.round(P):P=Math.ceil(P));const N=Math.max(Dw(E),Dw(S));T=Math.pow(10,se(l)?N:l),S=Math.round(S*T)/T,I=Math.round(I*T)/T;let B=0;for(m&&(d&&S!==o?(n.push({value:o}),S<o&&B++,Ia(Math.round((S+B*E)*T)/T,o,Lx(o,x,t))&&B++):S<o&&B++);B<P;++B)n.push({value:Math.round((S+B*E)*T)/T});return _&&d&&I!==a?n.length&&Ia(n[n.length-1].value,a,Lx(a,x,t))?n[n.length-1].value=a:n.push({value:a}):(!_||I===a)&&n.push({value:I}),n}function Lx(t,e,{horizontal:n,minRotation:i}){const r=gn(i),s=(n?Math.sin(r):Math.cos(r))||.001,o=.75*e*(""+t).length;return Math.min(e/s,o)}class mh extends as{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return se(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const o=l=>r=n?r:l,a=l=>s=i?s:l;if(e){const l=$n(r),c=$n(s);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(r===s){let l=1;(s>=Number.MAX_SAFE_INTEGER||r<=Number.MIN_SAFE_INTEGER)&&(l=Math.abs(s*.05)),a(s+l),e||o(r-l)}this.min=r,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=j3(r,s);return e.bounds==="ticks"&&Ik(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const r=(i-n)/Math.max(e.length-1,1)/2;n-=r,i+=r}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return ql(e,this.chart.options.locale,this.options.ticks.format)}}class Iy extends mh{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=je(e)?e:0,this.max=je(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=gn(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Iy.id="linear";Iy.defaults={ticks:{callback:Dd.formatters.numeric}};function Vx(t){return t/Math.pow(10,Math.floor(tn(t)))===1}function $3(t,e){const n=Math.floor(tn(e.max)),i=Math.ceil(e.max/Math.pow(10,n)),r=[];let s=Xt(t.min,Math.pow(10,Math.floor(tn(e.min)))),o=Math.floor(tn(s)),a=Math.floor(s/Math.pow(10,o)),l=o<0?Math.pow(10,Math.abs(o)):1;do r.push({value:s,major:Vx(s)}),++a,a===10&&(a=1,++o,l=o>=0?1:l),s=Math.round(a*Math.pow(10,o)*l)/l;while(o<n||o===n&&a<i);const c=Xt(t.max,s);return r.push({value:c,major:Vx(s)}),r}class ky extends as{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const i=mh.prototype.parse.apply(this,[e,n]);if(i===0){this._zero=!0;return}return je(i)&&i>0?i:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=je(e)?Math.max(0,e):null,this.max=je(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let i=this.min,r=this.max;const s=l=>i=e?i:l,o=l=>r=n?r:l,a=(l,c)=>Math.pow(10,Math.floor(tn(l))+c);i===r&&(i<=0?(s(1),o(10)):(s(a(i,-1)),o(a(r,1)))),i<=0&&s(a(r,-1)),r<=0&&o(a(i,1)),this._zero&&this.min!==this._suggestedMin&&i===a(this.min,0)&&s(a(i,-1)),this.min=i,this.max=r}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},i=$3(n,this);return e.bounds==="ticks"&&Ik(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return e===void 0?"0":ql(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=tn(e),this._valueRange=tn(this.max)-tn(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(tn(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}ky.id="logarithmic";ky.defaults={ticks:{callback:Dd.formatters.logarithmic,major:{enabled:!0}}};function Hg(t){const e=t.ticks;if(e.display&&t.display){const n=Et(e.backdropPadding);return K(e.font&&e.font.size,ne.font.size)+n.height}return 0}function F3(t,e,n){return n=me(n)?n:[n],{w:Z4(t,e.string,n),h:n.length*e.lineHeight}}function jx(t,e,n,i,r){return t===i||t===r?{start:e-n/2,end:e+n/2}:t<i||t>r?{start:e-n,end:e}:{start:e,end:e+n}}function B3(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),i=[],r=[],s=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?Se/s:0;for(let l=0;l<s;l++){const c=o.setContext(t.getPointLabelContext(l));r[l]=c.padding;const u=t.getPointPosition(l,t.drawingArea+r[l],a),h=qe(c.font),d=F3(t.ctx,h,t._pointLabels[l]);i[l]=d;const p=Bt(t.getIndexAngle(l)+a),g=Math.round(dy(p)),y=jx(g,u.x,d.w,0,180),w=jx(g,u.y,d.h,90,270);U3(n,e,p,y,w)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=z3(t,i,r)}function U3(t,e,n,i,r){const s=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;i.start<e.l?(a=(e.l-i.start)/s,t.l=Math.min(t.l,e.l-a)):i.end>e.r&&(a=(i.end-e.r)/s,t.r=Math.max(t.r,e.r+a)),r.start<e.t?(l=(e.t-r.start)/o,t.t=Math.min(t.t,e.t-l)):r.end>e.b&&(l=(r.end-e.b)/o,t.b=Math.max(t.b,e.b+l))}function z3(t,e,n){const i=[],r=t._pointLabels.length,s=t.options,o=Hg(s)/2,a=t.drawingArea,l=s.pointLabels.centerPointLabels?Se/r:0;for(let c=0;c<r;c++){const u=t.getPointPosition(c,a+o+n[c],l),h=Math.round(dy(Bt(u.angle+Ne))),d=e[c],p=q3(u.y,d.h,h),g=H3(h),y=W3(u.x,d.w,g);i.push({x:u.x,y:p,textAlign:g,left:y,top:p,right:y+d.w,bottom:p+d.h})}return i}function H3(t){return t===0||t===180?"center":t<180?"left":"right"}function W3(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function q3(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function G3(t,e){const{ctx:n,options:{pointLabels:i}}=t;for(let r=e-1;r>=0;r--){const s=i.setContext(t.getPointLabelContext(r)),o=qe(s.font),{x:a,y:l,textAlign:c,left:u,top:h,right:d,bottom:p}=t._pointLabelItems[r],{backdropColor:g}=s;if(!se(g)){const y=Et(s.backdropPadding);n.fillStyle=g,n.fillRect(u-y.left,h-y.top,d-u+y.width,p-h+y.height)}Yr(n,t._pointLabels[r],a,l+o.lineHeight/2,o,{color:s.color,textAlign:c,textBaseline:"middle"})}}function mA(t,e,n,i){const{ctx:r}=t;if(n)r.arc(t.xCenter,t.yCenter,e,0,fe);else{let s=t.getPointPosition(0,e);r.moveTo(s.x,s.y);for(let o=1;o<i;o++)s=t.getPointPosition(o,e),r.lineTo(s.x,s.y)}}function K3(t,e,n,i){const r=t.ctx,s=e.circular,{color:o,lineWidth:a}=e;!s&&!i||!o||!a||n<0||(r.save(),r.strokeStyle=o,r.lineWidth=a,r.setLineDash(e.borderDash),r.lineDashOffset=e.borderDashOffset,r.beginPath(),mA(t,n,s,i),r.closePath(),r.stroke(),r.restore())}function Q3(t,e,n){return lr(t,{label:n,index:e,type:"pointLabel"})}class Kl extends mh{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Et(Hg(this.options)/2),n=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=je(e)&&!isNaN(e)?e:0,this.max=je(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Hg(this.options))}generateTickLabels(e){mh.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,i)=>{const r=pe(this.options.pointLabels.callback,[n,i],this);return r||r===0?r:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){const e=this.options;e.display&&e.pointLabels.display?B3(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,i,r){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,i,r))}getIndexAngle(e){const n=fe/(this._pointLabels.length||1),i=this.options.startAngle||0;return Bt(e*n+gn(i))}getDistanceFromCenterForValue(e){if(se(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(se(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const i=n[e];return Q3(this.getContext(),e,i)}}getPointPosition(e,n,i=0){const r=this.getIndexAngle(e)-Ne+i;return{x:Math.cos(r)*n+this.xCenter,y:Math.sin(r)*n+this.yCenter,angle:r}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:i,right:r,bottom:s}=this._pointLabelItems[e];return{left:n,top:i,right:r,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const i=this.ctx;i.save(),i.beginPath(),mA(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:i,grid:r}=n,s=this._pointLabels.length;let o,a,l;if(n.pointLabels.display&&G3(this,s),r.display&&this.ticks.forEach((c,u)=>{if(u!==0){a=this.getDistanceFromCenterForValue(c.value);const h=r.setContext(this.getContext(u-1));K3(this,h,a,s)}}),i.display){for(e.save(),o=s-1;o>=0;o--){const c=i.setContext(this.getPointLabelContext(o)),{color:u,lineWidth:h}=c;!h||!u||(e.lineWidth=h,e.strokeStyle=u,e.setLineDash(c.borderDash),e.lineDashOffset=c.borderDashOffset,a=this.getDistanceFromCenterForValue(n.ticks.reverse?this.min:this.max),l=this.getPointPosition(o,a),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(l.x,l.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;const r=this.getIndexAngle(0);let s,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&!n.reverse)return;const c=i.setContext(this.getContext(l)),u=qe(c.font);if(s=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=u.string,o=e.measureText(a.label).width,e.fillStyle=c.backdropColor;const h=Et(c.backdropPadding);e.fillRect(-o/2-h.left,-s-u.size/2-h.top,o+h.width,u.size+h.height)}Yr(e,a.label,0,-s,u,{color:c.color})}),e.restore()}drawTitle(){}}Kl.id="radialLinear";Kl.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Dd.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};Kl.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};Kl.descriptors={angleLines:{_fallback:"grid"}};const jd={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ot=Object.keys(jd);function Y3(t,e){return t-e}function $x(t,e){if(se(e))return null;const n=t._adapter,{parser:i,round:r,isoWeekday:s}=t._parseOpts;let o=e;return typeof i=="function"&&(o=i(o)),je(o)||(o=typeof i=="string"?n.parse(o,i):n.parse(o)),o===null?null:(r&&(o=r==="week"&&(fl(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,r)),+o)}function Fx(t,e,n,i){const r=Ot.length;for(let s=Ot.indexOf(t);s<r-1;++s){const o=jd[Ot[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=i)return Ot[s]}return Ot[r-1]}function X3(t,e,n,i,r){for(let s=Ot.length-1;s>=Ot.indexOf(n);s--){const o=Ot[s];if(jd[o].common&&t._adapter.diff(r,i,o)>=e-1)return o}return Ot[n?Ot.indexOf(n):0]}function J3(t){for(let e=Ot.indexOf(t)+1,n=Ot.length;e<n;++e)if(jd[Ot[e]].common)return Ot[e]}function Bx(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:r}=yy(n,e),s=n[i]>=e?n[i]:n[r];t[s]=!0}}function Z3(t,e,n,i){const r=t._adapter,s=+r.startOf(e[0].value,i),o=e[e.length-1].value;let a,l;for(a=s;a<=o;a=+r.add(a,1,i))l=n[a],l>=0&&(e[l].major=!0);return e}function Ux(t,e,n){const i=[],r={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],r[a]=o,i.push({value:a,major:!1});return s===0||!n?i:Z3(t,i,r,n)}class Ql extends as{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n){const i=e.time||(e.time={}),r=this._adapter=new bU._date(e.adapters.date);Sa(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:$x(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:r,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(r=Math.min(r,c.min)),!a&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),r=je(r)&&!isNaN(r)?r:+n.startOf(Date.now(),i),s=je(s)&&!isNaN(s)?s:+n.endOf(Date.now(),i)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,o=this.max,a=uB(r,s,o);return this._unit=n.unit||(i.autoSkip?Fx(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):X3(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:J3(this._unit),this.initOffsets(r),e.reverse&&a.reverse(),Ux(this,a,this._majorUnit)}initOffsets(e){let n=0,i=0,r,s;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?n=1-r:n=(this.getDecimalForValue(e[1])-r)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?i=s:i=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=Ye(n,0,o),i=Ye(i,0,o),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,r=this.options,s=r.time,o=s.unit||Fx(s.minUnit,n,i,this._getLabelCapacity(n)),a=K(s.stepSize,1),l=o==="week"?s.isoWeekday:!1,c=fl(l)||l===!0,u={};let h=n,d,p;if(c&&(h=+e.startOf(h,"isoWeek",l)),h=+e.startOf(h,c?"day":o),e.diff(i,n,o)>1e5*a)throw new Error(n+" and "+i+" are too far apart with stepSize of "+a+" "+o);const g=r.ticks.source==="data"&&this.getDataTimestamps();for(d=h,p=0;d<i;d=+e.add(d,a,o),p++)Bx(u,d,g);return(d===i||r.bounds==="ticks"||p===1)&&Bx(u,d,g),Object.keys(u).sort((y,w)=>y-w).map(y=>+y)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}_tickFormatFunction(e,n,i,r){const s=this.options,o=s.time.displayFormats,a=this._unit,l=this._majorUnit,c=a&&o[a],u=l&&o[l],h=i[n],d=l&&u&&h&&h.major,p=this._adapter.format(e,r||(d?u:c)),g=s.ticks.callback;return g?pe(g,[p,n,i],this):p}generateTickLabels(e){let n,i,r;for(n=0,i=e.length;n<i;++n)r=e[n],r.label=this._tickFormatFunction(r.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,r=gn(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(r),o=Math.sin(r),a=this._resolveTickFontOptions(0).size;return{w:i*s+a*o,h:i*o+a*s}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,r=i[n.unit]||i.millisecond,s=this._tickFormatFunction(e,0,Ux(this,[e],this._majorUnit),r),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,i=r.length;n<i;++n)e=e.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const r=this.getLabels();for(n=0,i=r.length;n<i;++n)e.push($x(this,r[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Mk(e.sort(Y3))}}Ql.id="time";Ql.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};function Fc(t,e,n){let i=0,r=t.length-1,s,o,a,l;n?(e>=t[i].pos&&e<=t[r].pos&&({lo:i,hi:r}=ni(t,"pos",e)),{pos:s,time:a}=t[i],{pos:o,time:l}=t[r]):(e>=t[i].time&&e<=t[r].time&&({lo:i,hi:r}=ni(t,"time",e)),{time:s,pos:a}=t[i],{time:o,pos:l}=t[r]);const c=o-s;return c?a+(l-a)*(e-s)/c:a}class Ay extends Ql{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Fc(n,this.min),this._tableRange=Fc(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,r=[],s=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=i&&r.push(c);if(r.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(o=0,a=r.length;o<a;++o)u=r[o+1],l=r[o-1],c=r[o],Math.round((u+l)/2)!==c&&s.push({time:c,pos:o/(a-1)});return s}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(Fc(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return Fc(this._table,i*this._tableRange+this._minPos,!0)}}Ay.id="timeseries";Ay.defaults=Ql.defaults;var e9=Object.freeze({__proto__:null,CategoryScale:gh,LinearScale:Iy,LogarithmicScale:ky,RadialLinearScale:Kl,TimeScale:Ql,TimeSeriesScale:Ay});const t9=[EU,Jz,D3,e9];ls.register(...t9);function n9(){this.__data__=[],this.size=0}var i9=n9;function r9(t,e){return t===e||t!==t&&e!==e}var Yl=r9,s9=Yl;function o9(t,e){for(var n=t.length;n--;)if(s9(t[n][0],e))return n;return-1}var $d=o9,a9=$d,l9=Array.prototype,c9=l9.splice;function u9(t){var e=this.__data__,n=a9(e,t);if(n<0)return!1;var i=e.length-1;return n==i?e.pop():c9.call(e,n,1),--this.size,!0}var h9=u9,d9=$d;function f9(t){var e=this.__data__,n=d9(e,t);return n<0?void 0:e[n][1]}var p9=f9,g9=$d;function m9(t){return g9(this.__data__,t)>-1}var _9=m9,y9=$d;function v9(t,e){var n=this.__data__,i=y9(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}var w9=v9,x9=i9,E9=h9,b9=p9,T9=_9,S9=w9;function Eo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}Eo.prototype.clear=x9;Eo.prototype.delete=E9;Eo.prototype.get=b9;Eo.prototype.has=T9;Eo.prototype.set=S9;var Fd=Eo,I9=Fd;function k9(){this.__data__=new I9,this.size=0}var A9=k9;function C9(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var P9=C9;function R9(t){return this.__data__.get(t)}var N9=R9;function O9(t){return this.__data__.has(t)}var D9=O9,M9=typeof Jl=="object"&&Jl&&Jl.Object===Object&&Jl,_A=M9,L9=_A,V9=typeof self=="object"&&self&&self.Object===Object&&self,j9=L9||V9||Function("return this")(),Hn=j9,$9=Hn,F9=$9.Symbol,Bd=F9,zx=Bd,yA=Object.prototype,B9=yA.hasOwnProperty,U9=yA.toString,Ko=zx?zx.toStringTag:void 0;function z9(t){var e=B9.call(t,Ko),n=t[Ko];try{t[Ko]=void 0;var i=!0}catch{}var r=U9.call(t);return i&&(e?t[Ko]=n:delete t[Ko]),r}var H9=z9,W9=Object.prototype,q9=W9.toString;function G9(t){return q9.call(t)}var K9=G9,Hx=Bd,Q9=H9,Y9=K9,X9="[object Null]",J9="[object Undefined]",Wx=Hx?Hx.toStringTag:void 0;function Z9(t){return t==null?t===void 0?J9:X9:Wx&&Wx in Object(t)?Q9(t):Y9(t)}var bo=Z9;function e5(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var gi=e5,t5=bo,n5=gi,i5="[object AsyncFunction]",r5="[object Function]",s5="[object GeneratorFunction]",o5="[object Proxy]";function a5(t){if(!n5(t))return!1;var e=t5(t);return e==r5||e==s5||e==i5||e==o5}var Cy=a5,l5=Hn,c5=l5["__core-js_shared__"],u5=c5,tp=u5,qx=function(){var t=/[^.]+$/.exec(tp&&tp.keys&&tp.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function h5(t){return!!qx&&qx in t}var d5=h5,f5=Function.prototype,p5=f5.toString;function g5(t){if(t!=null){try{return p5.call(t)}catch{}try{return t+""}catch{}}return""}var vA=g5,m5=Cy,_5=d5,y5=gi,v5=vA,w5=/[\\^$.*+?()[\]{}|]/g,x5=/^\[object .+?Constructor\]$/,E5=Function.prototype,b5=Object.prototype,T5=E5.toString,S5=b5.hasOwnProperty,I5=RegExp("^"+T5.call(S5).replace(w5,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function k5(t){if(!y5(t)||_5(t))return!1;var e=m5(t)?I5:x5;return e.test(v5(t))}var A5=k5;function C5(t,e){return t==null?void 0:t[e]}var P5=C5,R5=A5,N5=P5;function O5(t,e){var n=N5(t,e);return R5(n)?n:void 0}var cs=O5,D5=cs,M5=Hn,L5=D5(M5,"Map"),Py=L5,V5=cs,j5=V5(Object,"create"),Ud=j5,Gx=Ud;function $5(){this.__data__=Gx?Gx(null):{},this.size=0}var F5=$5;function B5(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var U5=B5,z5=Ud,H5="__lodash_hash_undefined__",W5=Object.prototype,q5=W5.hasOwnProperty;function G5(t){var e=this.__data__;if(z5){var n=e[t];return n===H5?void 0:n}return q5.call(e,t)?e[t]:void 0}var K5=G5,Q5=Ud,Y5=Object.prototype,X5=Y5.hasOwnProperty;function J5(t){var e=this.__data__;return Q5?e[t]!==void 0:X5.call(e,t)}var Z5=J5,e6=Ud,t6="__lodash_hash_undefined__";function n6(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=e6&&e===void 0?t6:e,this}var i6=n6,r6=F5,s6=U5,o6=K5,a6=Z5,l6=i6;function To(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}To.prototype.clear=r6;To.prototype.delete=s6;To.prototype.get=o6;To.prototype.has=a6;To.prototype.set=l6;var c6=To,Kx=c6,u6=Fd,h6=Py;function d6(){this.size=0,this.__data__={hash:new Kx,map:new(h6||u6),string:new Kx}}var f6=d6;function p6(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var g6=p6,m6=g6;function _6(t,e){var n=t.__data__;return m6(e)?n[typeof e=="string"?"string":"hash"]:n.map}var zd=_6,y6=zd;function v6(t){var e=y6(this,t).delete(t);return this.size-=e?1:0,e}var w6=v6,x6=zd;function E6(t){return x6(this,t).get(t)}var b6=E6,T6=zd;function S6(t){return T6(this,t).has(t)}var I6=S6,k6=zd;function A6(t,e){var n=k6(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}var C6=A6,P6=f6,R6=w6,N6=b6,O6=I6,D6=C6;function So(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}So.prototype.clear=P6;So.prototype.delete=R6;So.prototype.get=N6;So.prototype.has=O6;So.prototype.set=D6;var Ry=So,M6=Fd,L6=Py,V6=Ry,j6=200;function $6(t,e){var n=this.__data__;if(n instanceof M6){var i=n.__data__;if(!L6||i.length<j6-1)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new V6(i)}return n.set(t,e),this.size=n.size,this}var F6=$6,B6=Fd,U6=A9,z6=P9,H6=N9,W6=D9,q6=F6;function Io(t){var e=this.__data__=new B6(t);this.size=e.size}Io.prototype.clear=U6;Io.prototype.delete=z6;Io.prototype.get=H6;Io.prototype.has=W6;Io.prototype.set=q6;var Ny=Io,G6=cs,K6=function(){try{var t=G6(Object,"defineProperty");return t({},"",{}),t}catch{}}(),wA=K6,Qx=wA;function Q6(t,e,n){e=="__proto__"&&Qx?Qx(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Oy=Q6,Y6=Oy,X6=Yl;function J6(t,e,n){(n!==void 0&&!X6(t[e],n)||n===void 0&&!(e in t))&&Y6(t,e,n)}var xA=J6;function Z6(t){return function(e,n,i){for(var r=-1,s=Object(e),o=i(e),a=o.length;a--;){var l=o[t?a:++r];if(n(s[l],l,s)===!1)break}return e}}var eH=Z6,tH=eH,nH=tH(),iH=nH,_h={exports:{}};_h.exports;(function(t,e){var n=Hn,i=e&&!e.nodeType&&e,r=i&&!0&&t&&!t.nodeType&&t,s=r&&r.exports===i,o=s?n.Buffer:void 0,a=o?o.allocUnsafe:void 0;function l(c,u){if(u)return c.slice();var h=c.length,d=a?a(h):new c.constructor(h);return c.copy(d),d}t.exports=l})(_h,_h.exports);var rH=_h.exports,sH=Hn,oH=sH.Uint8Array,EA=oH,Yx=EA;function aH(t){var e=new t.constructor(t.byteLength);return new Yx(e).set(new Yx(t)),e}var lH=aH,cH=lH;function uH(t,e){var n=e?cH(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var hH=uH;function dH(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e}var fH=dH,pH=gi,Xx=Object.create,gH=function(){function t(){}return function(e){if(!pH(e))return{};if(Xx)return Xx(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),mH=gH;function _H(t,e){return function(n){return t(e(n))}}var bA=_H,yH=bA,vH=yH(Object.getPrototypeOf,Object),TA=vH,wH=Object.prototype;function xH(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||wH;return t===n}var Hd=xH,EH=mH,bH=TA,TH=Hd;function SH(t){return typeof t.constructor=="function"&&!TH(t)?EH(bH(t)):{}}var IH=SH;function kH(t){return t!=null&&typeof t=="object"}var us=kH,AH=bo,CH=us,PH="[object Arguments]";function RH(t){return CH(t)&&AH(t)==PH}var NH=RH,Jx=NH,OH=us,SA=Object.prototype,DH=SA.hasOwnProperty,MH=SA.propertyIsEnumerable,LH=Jx(function(){return arguments}())?Jx:function(t){return OH(t)&&DH.call(t,"callee")&&!MH.call(t,"callee")},Dy=LH,VH=Array.isArray,mi=VH,jH=9007199254740991;function $H(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=jH}var My=$H,FH=Cy,BH=My;function UH(t){return t!=null&&BH(t.length)&&!FH(t)}var ko=UH,zH=ko,HH=us;function WH(t){return HH(t)&&zH(t)}var qH=WH,yh={exports:{}};function GH(){return!1}var KH=GH;yh.exports;(function(t,e){var n=Hn,i=KH,r=e&&!e.nodeType&&e,s=r&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===r,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||i;t.exports=c})(yh,yh.exports);var Ly=yh.exports,QH=bo,YH=TA,XH=us,JH="[object Object]",ZH=Function.prototype,eW=Object.prototype,IA=ZH.toString,tW=eW.hasOwnProperty,nW=IA.call(Object);function iW(t){if(!XH(t)||QH(t)!=JH)return!1;var e=YH(t);if(e===null)return!0;var n=tW.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&IA.call(n)==nW}var rW=iW,sW=bo,oW=My,aW=us,lW="[object Arguments]",cW="[object Array]",uW="[object Boolean]",hW="[object Date]",dW="[object Error]",fW="[object Function]",pW="[object Map]",gW="[object Number]",mW="[object Object]",_W="[object RegExp]",yW="[object Set]",vW="[object String]",wW="[object WeakMap]",xW="[object ArrayBuffer]",EW="[object DataView]",bW="[object Float32Array]",TW="[object Float64Array]",SW="[object Int8Array]",IW="[object Int16Array]",kW="[object Int32Array]",AW="[object Uint8Array]",CW="[object Uint8ClampedArray]",PW="[object Uint16Array]",RW="[object Uint32Array]",ve={};ve[bW]=ve[TW]=ve[SW]=ve[IW]=ve[kW]=ve[AW]=ve[CW]=ve[PW]=ve[RW]=!0;ve[lW]=ve[cW]=ve[xW]=ve[uW]=ve[EW]=ve[hW]=ve[dW]=ve[fW]=ve[pW]=ve[gW]=ve[mW]=ve[_W]=ve[yW]=ve[vW]=ve[wW]=!1;function NW(t){return aW(t)&&oW(t.length)&&!!ve[sW(t)]}var OW=NW;function DW(t){return function(e){return t(e)}}var MW=DW,vh={exports:{}};vh.exports;(function(t,e){var n=_A,i=e&&!e.nodeType&&e,r=i&&!0&&t&&!t.nodeType&&t,s=r&&r.exports===i,o=s&&n.process,a=function(){try{var l=r&&r.require&&r.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=a})(vh,vh.exports);var LW=vh.exports,VW=OW,jW=MW,Zx=LW,e1=Zx&&Zx.isTypedArray,$W=e1?jW(e1):VW,Vy=$W;function FW(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var kA=FW,BW=Oy,UW=Yl,zW=Object.prototype,HW=zW.hasOwnProperty;function WW(t,e,n){var i=t[e];(!(HW.call(t,e)&&UW(i,n))||n===void 0&&!(e in t))&&BW(t,e,n)}var AA=WW,qW=AA,GW=Oy;function KW(t,e,n,i){var r=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=i?i(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),r?GW(n,a,l):qW(n,a,l)}return n}var CA=KW;function QW(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}var YW=QW,XW=9007199254740991,JW=/^(?:0|[1-9]\d*)$/;function ZW(t,e){var n=typeof t;return e=e??XW,!!e&&(n=="number"||n!="symbol"&&JW.test(t))&&t>-1&&t%1==0&&t<e}var jy=ZW,e8=YW,t8=Dy,n8=mi,i8=Ly,r8=jy,s8=Vy,o8=Object.prototype,a8=o8.hasOwnProperty;function l8(t,e){var n=n8(t),i=!n&&t8(t),r=!n&&!i&&i8(t),s=!n&&!i&&!r&&s8(t),o=n||i||r||s,a=o?e8(t.length,String):[],l=a.length;for(var c in t)(e||a8.call(t,c))&&!(o&&(c=="length"||r&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||r8(c,l)))&&a.push(c);return a}var PA=l8;function c8(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var u8=c8,h8=gi,d8=Hd,f8=u8,p8=Object.prototype,g8=p8.hasOwnProperty;function m8(t){if(!h8(t))return f8(t);var e=d8(t),n=[];for(var i in t)i=="constructor"&&(e||!g8.call(t,i))||n.push(i);return n}var _8=m8,y8=PA,v8=_8,w8=ko;function x8(t){return w8(t)?y8(t,!0):v8(t)}var RA=x8,E8=CA,b8=RA;function T8(t){return E8(t,b8(t))}var S8=T8,t1=xA,I8=rH,k8=hH,A8=fH,C8=IH,n1=Dy,i1=mi,P8=qH,R8=Ly,N8=Cy,O8=gi,D8=rW,M8=Vy,r1=kA,L8=S8;function V8(t,e,n,i,r,s,o){var a=r1(t,n),l=r1(e,n),c=o.get(l);if(c){t1(t,n,c);return}var u=s?s(a,l,n+"",t,e,o):void 0,h=u===void 0;if(h){var d=i1(l),p=!d&&R8(l),g=!d&&!p&&M8(l);u=l,d||p||g?i1(a)?u=a:P8(a)?u=A8(a):p?(h=!1,u=I8(l,!0)):g?(h=!1,u=k8(l,!0)):u=[]:D8(l)||n1(l)?(u=a,n1(a)?u=L8(a):(!O8(a)||N8(a))&&(u=C8(l))):h=!1}h&&(o.set(l,u),r(u,l,i,s,o),o.delete(l)),t1(t,n,u)}var j8=V8,$8=Ny,F8=xA,B8=iH,U8=j8,z8=gi,H8=RA,W8=kA;function NA(t,e,n,i,r){t!==e&&B8(e,function(s,o){if(r||(r=new $8),z8(s))U8(t,e,o,n,NA,i,r);else{var a=i?i(W8(t,o),s,o+"",t,e,r):void 0;a===void 0&&(a=s),F8(t,o,a)}},H8)}var q8=NA;function G8(t){return t}var $y=G8;function K8(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Q8=K8,Y8=Q8,s1=Math.max;function X8(t,e,n){return e=s1(e===void 0?t.length-1:e,0),function(){for(var i=arguments,r=-1,s=s1(i.length-e,0),o=Array(s);++r<s;)o[r]=i[e+r];r=-1;for(var a=Array(e+1);++r<e;)a[r]=i[r];return a[e]=n(o),Y8(t,this,a)}}var J8=X8;function Z8(t){return function(){return t}}var e7=Z8,t7=e7,o1=wA,n7=$y,i7=o1?function(t,e){return o1(t,"toString",{configurable:!0,enumerable:!1,value:t7(e),writable:!0})}:n7,r7=i7,s7=800,o7=16,a7=Date.now;function l7(t){var e=0,n=0;return function(){var i=a7(),r=o7-(i-n);if(n=i,r>0){if(++e>=s7)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var c7=l7,u7=r7,h7=c7,d7=h7(u7),f7=d7,p7=$y,g7=J8,m7=f7;function _7(t,e){return m7(g7(t,e,p7),t+"")}var y7=_7,v7=Yl,w7=ko,x7=jy,E7=gi;function b7(t,e,n){if(!E7(n))return!1;var i=typeof e;return(i=="number"?w7(n)&&x7(e,n.length):i=="string"&&e in n)?v7(n[e],t):!1}var T7=b7,S7=y7,I7=T7;function k7(t){return S7(function(e,n){var i=-1,r=n.length,s=r>1?n[r-1]:void 0,o=r>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(r--,s):void 0,o&&I7(n[0],n[1],o)&&(s=r<3?void 0:s,r=1),e=Object(e);++i<r;){var a=n[i];a&&t(e,a,i,s)}return e})}var OA=k7,A7=q8,C7=OA,P7=C7(function(t,e,n){A7(t,e,n)}),R7=P7;const N7=Eh(R7);var O7=bA,D7=O7(Object.keys,Object),M7=D7,L7=Hd,V7=M7,j7=Object.prototype,$7=j7.hasOwnProperty;function F7(t){if(!L7(t))return V7(t);var e=[];for(var n in Object(t))$7.call(t,n)&&n!="constructor"&&e.push(n);return e}var B7=F7,U7=PA,z7=B7,H7=ko;function W7(t){return H7(t)?U7(t):z7(t)}var Wd=W7,q7=AA,G7=CA,K7=OA,Q7=ko,Y7=Hd,X7=Wd,J7=Object.prototype,Z7=J7.hasOwnProperty,eq=K7(function(t,e){if(Y7(e)||Q7(e)){G7(e,X7(e),t);return}for(var n in e)Z7.call(e,n)&&q7(t,n,e[n])}),tq=eq;const a1=Eh(tq);var nq="__lodash_hash_undefined__";function iq(t){return this.__data__.set(t,nq),this}var rq=iq;function sq(t){return this.__data__.has(t)}var oq=sq,aq=Ry,lq=rq,cq=oq;function wh(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new aq;++e<n;)this.add(t[e])}wh.prototype.add=wh.prototype.push=lq;wh.prototype.has=cq;var uq=wh;function hq(t,e){for(var n=-1,i=t==null?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}var dq=hq;function fq(t,e){return t.has(e)}var pq=fq,gq=uq,mq=dq,_q=pq,yq=1,vq=2;function wq(t,e,n,i,r,s){var o=n&yq,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var c=s.get(t),u=s.get(e);if(c&&u)return c==e&&u==t;var h=-1,d=!0,p=n&vq?new gq:void 0;for(s.set(t,e),s.set(e,t);++h<a;){var g=t[h],y=e[h];if(i)var w=o?i(y,g,h,e,t,s):i(g,y,h,t,e,s);if(w!==void 0){if(w)continue;d=!1;break}if(p){if(!mq(e,function(m,_){if(!_q(p,_)&&(g===m||r(g,m,n,i,s)))return p.push(_)})){d=!1;break}}else if(!(g===y||r(g,y,n,i,s))){d=!1;break}}return s.delete(t),s.delete(e),d}var DA=wq;function xq(t){var e=-1,n=Array(t.size);return t.forEach(function(i,r){n[++e]=[r,i]}),n}var Eq=xq;function bq(t){var e=-1,n=Array(t.size);return t.forEach(function(i){n[++e]=i}),n}var Tq=bq,l1=Bd,c1=EA,Sq=Yl,Iq=DA,kq=Eq,Aq=Tq,Cq=1,Pq=2,Rq="[object Boolean]",Nq="[object Date]",Oq="[object Error]",Dq="[object Map]",Mq="[object Number]",Lq="[object RegExp]",Vq="[object Set]",jq="[object String]",$q="[object Symbol]",Fq="[object ArrayBuffer]",Bq="[object DataView]",u1=l1?l1.prototype:void 0,np=u1?u1.valueOf:void 0;function Uq(t,e,n,i,r,s,o){switch(n){case Bq:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Fq:return!(t.byteLength!=e.byteLength||!s(new c1(t),new c1(e)));case Rq:case Nq:case Mq:return Sq(+t,+e);case Oq:return t.name==e.name&&t.message==e.message;case Lq:case jq:return t==e+"";case Dq:var a=kq;case Vq:var l=i&Cq;if(a||(a=Aq),t.size!=e.size&&!l)return!1;var c=o.get(t);if(c)return c==e;i|=Pq,o.set(t,e);var u=Iq(a(t),a(e),i,r,s,o);return o.delete(t),u;case $q:if(np)return np.call(t)==np.call(e)}return!1}var zq=Uq;function Hq(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}var Wq=Hq,qq=Wq,Gq=mi;function Kq(t,e,n){var i=e(t);return Gq(t)?i:qq(i,n(t))}var Qq=Kq;function Yq(t,e){for(var n=-1,i=t==null?0:t.length,r=0,s=[];++n<i;){var o=t[n];e(o,n,t)&&(s[r++]=o)}return s}var Xq=Yq;function Jq(){return[]}var Zq=Jq,eG=Xq,tG=Zq,nG=Object.prototype,iG=nG.propertyIsEnumerable,h1=Object.getOwnPropertySymbols,rG=h1?function(t){return t==null?[]:(t=Object(t),eG(h1(t),function(e){return iG.call(t,e)}))}:tG,sG=rG,oG=Qq,aG=sG,lG=Wd;function cG(t){return oG(t,lG,aG)}var uG=cG,d1=uG,hG=1,dG=Object.prototype,fG=dG.hasOwnProperty;function pG(t,e,n,i,r,s){var o=n&hG,a=d1(t),l=a.length,c=d1(e),u=c.length;if(l!=u&&!o)return!1;for(var h=l;h--;){var d=a[h];if(!(o?d in e:fG.call(e,d)))return!1}var p=s.get(t),g=s.get(e);if(p&&g)return p==e&&g==t;var y=!0;s.set(t,e),s.set(e,t);for(var w=o;++h<l;){d=a[h];var m=t[d],_=e[d];if(i)var v=o?i(_,m,d,e,t,s):i(m,_,d,t,e,s);if(!(v===void 0?m===_||r(m,_,n,i,s):v)){y=!1;break}w||(w=d=="constructor")}if(y&&!w){var x=t.constructor,E=e.constructor;x!=E&&"constructor"in t&&"constructor"in e&&!(typeof x=="function"&&x instanceof x&&typeof E=="function"&&E instanceof E)&&(y=!1)}return s.delete(t),s.delete(e),y}var gG=pG,mG=cs,_G=Hn,yG=mG(_G,"DataView"),vG=yG,wG=cs,xG=Hn,EG=wG(xG,"Promise"),bG=EG,TG=cs,SG=Hn,IG=TG(SG,"Set"),kG=IG,AG=cs,CG=Hn,PG=AG(CG,"WeakMap"),RG=PG,Wg=vG,qg=Py,Gg=bG,Kg=kG,Qg=RG,MA=bo,Ao=vA,f1="[object Map]",NG="[object Object]",p1="[object Promise]",g1="[object Set]",m1="[object WeakMap]",_1="[object DataView]",OG=Ao(Wg),DG=Ao(qg),MG=Ao(Gg),LG=Ao(Kg),VG=Ao(Qg),vr=MA;(Wg&&vr(new Wg(new ArrayBuffer(1)))!=_1||qg&&vr(new qg)!=f1||Gg&&vr(Gg.resolve())!=p1||Kg&&vr(new Kg)!=g1||Qg&&vr(new Qg)!=m1)&&(vr=function(t){var e=MA(t),n=e==NG?t.constructor:void 0,i=n?Ao(n):"";if(i)switch(i){case OG:return _1;case DG:return f1;case MG:return p1;case LG:return g1;case VG:return m1}return e});var jG=vr,ip=Ny,$G=DA,FG=zq,BG=gG,y1=jG,v1=mi,w1=Ly,UG=Vy,zG=1,x1="[object Arguments]",E1="[object Array]",Bc="[object Object]",HG=Object.prototype,b1=HG.hasOwnProperty;function WG(t,e,n,i,r,s){var o=v1(t),a=v1(e),l=o?E1:y1(t),c=a?E1:y1(e);l=l==x1?Bc:l,c=c==x1?Bc:c;var u=l==Bc,h=c==Bc,d=l==c;if(d&&w1(t)){if(!w1(e))return!1;o=!0,u=!1}if(d&&!u)return s||(s=new ip),o||UG(t)?$G(t,e,n,i,r,s):FG(t,e,l,n,i,r,s);if(!(n&zG)){var p=u&&b1.call(t,"__wrapped__"),g=h&&b1.call(e,"__wrapped__");if(p||g){var y=p?t.value():t,w=g?e.value():e;return s||(s=new ip),r(y,w,n,i,s)}}return d?(s||(s=new ip),BG(t,e,n,i,r,s)):!1}var qG=WG,GG=qG,T1=us;function LA(t,e,n,i,r){return t===e?!0:t==null||e==null||!T1(t)&&!T1(e)?t!==t&&e!==e:GG(t,e,n,i,LA,r)}var VA=LA,KG=Ny,QG=VA,YG=1,XG=2;function JG(t,e,n,i){var r=n.length,s=r,o=!i;if(t==null)return!s;for(t=Object(t);r--;){var a=n[r];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++r<s;){a=n[r];var l=a[0],c=t[l],u=a[1];if(o&&a[2]){if(c===void 0&&!(l in t))return!1}else{var h=new KG;if(i)var d=i(c,u,l,t,e,h);if(!(d===void 0?QG(u,c,YG|XG,i,h):d))return!1}}return!0}var ZG=JG,eK=gi;function tK(t){return t===t&&!eK(t)}var jA=tK,nK=jA,iK=Wd;function rK(t){for(var e=iK(t),n=e.length;n--;){var i=e[n],r=t[i];e[n]=[i,r,nK(r)]}return e}var sK=rK;function oK(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var $A=oK,aK=ZG,lK=sK,cK=$A;function uK(t){var e=lK(t);return e.length==1&&e[0][2]?cK(e[0][0],e[0][1]):function(n){return n===t||aK(n,t,e)}}var hK=uK,dK=bo,fK=us,pK="[object Symbol]";function gK(t){return typeof t=="symbol"||fK(t)&&dK(t)==pK}var qd=gK,mK=mi,_K=qd,yK=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,vK=/^\w*$/;function wK(t,e){if(mK(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||_K(t)?!0:vK.test(t)||!yK.test(t)||e!=null&&t in Object(e)}var Fy=wK,FA=Ry,xK="Expected a function";function By(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(xK);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],s=n.cache;if(s.has(r))return s.get(r);var o=t.apply(this,i);return n.cache=s.set(r,o)||s,o};return n.cache=new(By.Cache||FA),n}By.Cache=FA;var EK=By,bK=EK,TK=500;function SK(t){var e=bK(t,function(i){return n.size===TK&&n.clear(),i}),n=e.cache;return e}var IK=SK,kK=IK,AK=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,CK=/\\(\\)?/g,PK=kK(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(AK,function(n,i,r,s){e.push(r?s.replace(CK,"$1"):i||n)}),e}),RK=PK;function NK(t,e){for(var n=-1,i=t==null?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}var OK=NK,S1=Bd,DK=OK,MK=mi,LK=qd,VK=1/0,I1=S1?S1.prototype:void 0,k1=I1?I1.toString:void 0;function BA(t){if(typeof t=="string")return t;if(MK(t))return DK(t,BA)+"";if(LK(t))return k1?k1.call(t):"";var e=t+"";return e=="0"&&1/t==-VK?"-0":e}var jK=BA,$K=jK;function FK(t){return t==null?"":$K(t)}var BK=FK,UK=mi,zK=Fy,HK=RK,WK=BK;function qK(t,e){return UK(t)?t:zK(t,e)?[t]:HK(WK(t))}var UA=qK,GK=qd,KK=1/0;function QK(t){if(typeof t=="string"||GK(t))return t;var e=t+"";return e=="0"&&1/t==-KK?"-0":e}var Gd=QK,YK=UA,XK=Gd;function JK(t,e){e=YK(e,t);for(var n=0,i=e.length;t!=null&&n<i;)t=t[XK(e[n++])];return n&&n==i?t:void 0}var zA=JK,ZK=zA;function eQ(t,e,n){var i=t==null?void 0:ZK(t,e);return i===void 0?n:i}var tQ=eQ;function nQ(t,e){return t!=null&&e in Object(t)}var iQ=nQ,rQ=UA,sQ=Dy,oQ=mi,aQ=jy,lQ=My,cQ=Gd;function uQ(t,e,n){e=rQ(e,t);for(var i=-1,r=e.length,s=!1;++i<r;){var o=cQ(e[i]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++i!=r?s:(r=t==null?0:t.length,!!r&&lQ(r)&&aQ(o,r)&&(oQ(t)||sQ(t)))}var hQ=uQ,dQ=iQ,fQ=hQ;function pQ(t,e){return t!=null&&fQ(t,e,dQ)}var gQ=pQ,mQ=VA,_Q=tQ,yQ=gQ,vQ=Fy,wQ=jA,xQ=$A,EQ=Gd,bQ=1,TQ=2;function SQ(t,e){return vQ(t)&&wQ(e)?xQ(EQ(t),e):function(n){var i=_Q(n,t);return i===void 0&&i===e?yQ(n,t):mQ(e,i,bQ|TQ)}}var IQ=SQ;function kQ(t){return function(e){return e==null?void 0:e[t]}}var AQ=kQ,CQ=zA;function PQ(t){return function(e){return CQ(e,t)}}var RQ=PQ,NQ=AQ,OQ=RQ,DQ=Fy,MQ=Gd;function LQ(t){return DQ(t)?NQ(MQ(t)):OQ(t)}var VQ=LQ,jQ=hK,$Q=IQ,FQ=$y,BQ=mi,UQ=VQ;function zQ(t){return typeof t=="function"?t:t==null?FQ:typeof t=="object"?BQ(t)?$Q(t[0],t[1]):jQ(t):UQ(t)}var HA=zQ,HQ=HA,WQ=ko,qQ=Wd;function GQ(t){return function(e,n,i){var r=Object(e);if(!WQ(e)){var s=HQ(n);e=qQ(e),n=function(a){return s(r[a],a,r)}}var o=t(e,n,i);return o>-1?r[s?e[o]:o]:void 0}}var KQ=GQ;function QQ(t,e,n,i){for(var r=t.length,s=n+(i?1:-1);i?s--:++s<r;)if(e(t[s],s,t))return s;return-1}var YQ=QQ,XQ=/\s/;function JQ(t){for(var e=t.length;e--&&XQ.test(t.charAt(e)););return e}var ZQ=JQ,eY=ZQ,tY=/^\s+/;function nY(t){return t&&t.slice(0,eY(t)+1).replace(tY,"")}var iY=nY,rY=iY,A1=gi,sY=qd,C1=0/0,oY=/^[-+]0x[0-9a-f]+$/i,aY=/^0b[01]+$/i,lY=/^0o[0-7]+$/i,cY=parseInt;function uY(t){if(typeof t=="number")return t;if(sY(t))return C1;if(A1(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=A1(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=rY(t);var n=aY.test(t);return n||lY.test(t)?cY(t.slice(2),n?2:8):oY.test(t)?C1:+t}var hY=uY,dY=hY,P1=1/0,fY=17976931348623157e292;function pY(t){if(!t)return t===0?t:0;if(t=dY(t),t===P1||t===-P1){var e=t<0?-1:1;return e*fY}return t===t?t:0}var gY=pY,mY=gY;function _Y(t){var e=mY(t),n=e%1;return e===e?n?e-n:e:0}var yY=_Y,vY=YQ,wY=HA,xY=yY,EY=Math.max;function bY(t,e,n){var i=t==null?0:t.length;if(!i)return-1;var r=n==null?0:xY(n);return r<0&&(r=EY(i+r,0)),vY(t,wY(e),r)}var TY=bY,SY=KQ,IY=TY,kY=SY(IY),AY=kY;const CY=Eh(AY);function xh(){return xh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},xh.apply(this,arguments)}function R1(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}var ur=b.forwardRef(function(t,e){var n=t.id,i=t.className,r=t.height,s=r===void 0?150:r,o=t.width,a=o===void 0?300:o,l=t.redraw,c=l===void 0?!1:l,u=t.type,h=t.data,d=t.options,p=d===void 0?{}:d,g=t.plugins,y=g===void 0?[]:g,w=t.getDatasetAtEvent,m=t.getElementAtEvent,_=t.getElementsAtEvent,v=t.fallbackContent,x=R1(t,["id","className","height","width","redraw","type","data","options","plugins","getDatasetAtEvent","getElementAtEvent","getElementsAtEvent","fallbackContent"]),E=b.useRef(null),T=b.useMemo(function(){return typeof h=="function"?E.current?h(E.current):{}:N7({},h)},[h,E.current]),S=b.useState(),I=S[0],P=S[1];b.useImperativeHandle(e,function(){return I},[I]);var N=function(){E.current&&P(new ls(E.current,{type:u,data:T,options:p,plugins:y}))},B=function($){I&&(w&&w(I.getElementsAtEventForMode($,"dataset",{intersect:!0},!1),$),m&&m(I.getElementsAtEventForMode($,"nearest",{intersect:!0},!1),$),_&&_(I.getElementsAtEventForMode($,"index",{intersect:!0},!1),$))},W=function(){if(I){if(p&&(I.options=xh({},p)),!I.config.data){I.config.data=T,I.update();return}var $=T.datasets,X=$===void 0?[]:$,jt=R1(T,["datasets"]),R=I.config.data.datasets,F=R===void 0?[]:R;a1(I.config.data,jt),I.config.data.datasets=X.map(function(V){var Y=CY(F,function(le){return le.label===V.label&&le.type===V.type});return!Y||!V.data?V:(Y.data?Y.data.length=V.data.length:Y.data=[],a1(Y.data,V.data),xh({},Y,V,{data:Y.data}))}),I.update()}},oe=function(){I&&I.destroy()};return b.useEffect(function(){return N(),function(){return oe()}},[]),b.useEffect(function(){c?(oe(),setTimeout(function(){N()},0)):W()},[t,T]),xn.createElement("canvas",Object.assign({},x,{height:s,width:a,ref:E,id:n,className:i,onClick:B,"data-testid":"canvas",role:"img"}),v)});b.forwardRef(function(t,e){return xn.createElement(ur,Object.assign({},t,{type:"line",ref:e,options:t.options||{}}))});b.forwardRef(function(t,e){return xn.createElement(ur,Object.assign({},t,{type:"bar",ref:e,options:t.options||{}}))});b.forwardRef(function(t,e){return xn.createElement(ur,Object.assign({},t,{type:"radar",ref:e,options:t.options||{}}))});b.forwardRef(function(t,e){return xn.createElement(ur,Object.assign({},t,{type:"doughnut",ref:e,options:t.options||{}}))});b.forwardRef(function(t,e){return xn.createElement(ur,Object.assign({},t,{type:"polarArea",ref:e,options:t.options||{}}))});b.forwardRef(function(t,e){return xn.createElement(ur,Object.assign({},t,{type:"bubble",ref:e,options:t.options||{}}))});b.forwardRef(function(t,e){return xn.createElement(ur,Object.assign({},t,{type:"pie",ref:e,options:t.options||{}}))});b.forwardRef(function(t,e){return xn.createElement(ur,Object.assign({},t,{type:"scatter",ref:e,options:t.options||{}}))});const PY=({male:t,female:e,jobs:n,internships:i})=>{const r={responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Studet/Alumni Bar Chart"}}},s=b.useRef(null),o=b.useRef(null);return b.useEffect(()=>{const l=s.current.getContext("2d");return o.current&&o.current.destroy(),o.current=new ls(l,{type:"bar",data:{labels:["Data Set"],datasets:[{label:"Male",data:[t],backgroundColor:"rgba(255, 99, 132, 0.5)"},{label:"Female",data:[e],backgroundColor:"rgba(53, 162, 235, 0.5)"},{label:"Jobs",data:[n],backgroundColor:"rgba(255, 206, 86, 0.5)"},{label:"Internships",data:[i],backgroundColor:"rgba(255, 206, 86, 0.5)"}]},options:r}),()=>{o.current&&o.current.destroy()}},[t,e,n,i,r]),f.jsx("div",{children:f.jsx("canvas",{ref:s})})},RY=({locationsCount:t})=>{const e={responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Company Count by Location"}}},n=b.useRef(null),i=b.useRef(null);return b.useEffect(()=>{const s=n.current.getContext("2d");return i.current&&i.current.destroy(),i.current=new ls(s,{type:"bar",data:{labels:Object.keys(t),datasets:[{label:"Company Count",data:Object.values(t),backgroundColor:"rgba(75, 192, 192, 0.5)"}]},options:e}),()=>{i.current&&i.current.destroy()}},[t,e]),f.jsx("div",{children:f.jsx("canvas",{ref:n})})},NY=({CoursesCount:t})=>{const e={responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Course Bar Chart"}}},n=b.useRef(null),i=b.useRef(null);return b.useEffect(()=>{const s=n.current.getContext("2d");return i.current&&i.current.destroy(),i.current=new ls(s,{type:"bar",data:{labels:Object.keys(t),datasets:[{label:"Company Count",data:Object.values(t),backgroundColor:"rgba(75, 192, 192, 0.5)"}]},options:e}),()=>{i.current&&i.current.destroy()}},[t,e]),f.jsx("div",{children:f.jsx("canvas",{ref:n})})},OY=()=>{const[t,e]=b.useState(!1),[n,i]=b.useState(!1),[r,s]=b.useState(!1),[o,a]=b.useState(!1),[l,c]=b.useState(!1),[u,h]=b.useState(!1);b.useState({});const[d,p]=b.useState(0),[g,y]=b.useState(0);b.useState({}),b.useState("");const[w,m]=b.useState(0),[_,v]=b.useState(0);b.useState({});const x=Wt(At,"users"),[E,T]=b.useState([]),S=Wt(At,"internships"),[I,P]=b.useState([]),N=Wt(At,"Jobs"),[B,W]=b.useState([]),[oe,_e]=b.useState({}),[$,X]=b.useState({}),jt=()=>{if(t){let Q=0,de=0;E.forEach(Ie=>{Ie.sex==="male"?Q++:Ie.sex==="female"&&de++}),p(Q),y(de)}else p(0),y(0);n?le():X({}),m(r?B.length:0),v(o?I.length:0),l&&console.log("names"),u?Y():_e({})},R=async()=>{const Q=await Gi(S);P(Q.docs.map(de=>({...de.data(),id:de.id})))},F=async()=>{const Q=await Gi(N);W(Q.docs.map(de=>({...de.data(),id:de.id})))},V=async()=>{const Q=await Gi(x);T(Q.docs.map(de=>({...de.data(),id:de.id})))},Y=()=>{const Q={},de=Ie=>{Q[Ie]=(Q[Ie]||0)+1};I.forEach(Ie=>{Ie.location&&de(Ie.location)}),B.forEach(Ie=>{Ie.location&&de(Ie.location)}),_e(Q)},le=()=>{const Q={};E.forEach(de=>{const Ie=de.course;Ie&&(Q[Ie]=(Q[Ie]||0)+1)}),X(Q)};return b.useEffect(()=>{R(),F(),V()},[]),b.useEffect(()=>{jt()},[t,n,r,o,l,u,E,B,I]),f.jsxs("div",{children:[f.jsx(pi,{}),f.jsxs("div",{className:"namos",children:[f.jsx("h2",{children:"Student/Alumni"}),f.jsx("br",{}),f.jsxs("div",{className:"containerrr",children:[f.jsx("input",{type:"checkbox",id:"yes",onClick:()=>e(Q=>!Q)}),f.jsx("label",{for:"yes",children:"SEX"}),f.jsx("input",{id:"yess",type:"checkbox",onClick:()=>i(Q=>!Q)}),f.jsx("label",{for:"yess",children:"COURSE"}),f.jsx("input",{id:"yesss",type:"checkbox",onClick:()=>s(Q=>!Q)}),f.jsx("label",{for:"yesss",children:"JOBS          "}),f.jsx("input",{id:"no",type:"checkbox",onClick:()=>a(Q=>!Q)}),f.jsx("label",{for:"no",children:"INTERNSHIPS"})]}),f.jsx("h2",{children:"Company Details"}),f.jsx("br",{}),f.jsxs("div",{className:"containerrr",children:[f.jsx("input",{id:"noo",type:"checkbox",onClick:()=>c(Q=>!Q)}),f.jsx("label",{for:"noo",children:"NAMES"}),f.jsx("input",{id:"nooo",type:"checkbox",onClick:()=>h(Q=>!Q)}),f.jsx("label",{for:"nooo",children:"LOCATION"})]})]}),f.jsxs("div",{className:"data-container",children:[(t||r||o)&&f.jsx("div",{className:"tite",children:f.jsx(PY,{male:d,female:g,jobs:w,internships:_})}),f.jsx("div",{className:"borbor"}),u?f.jsx("div",{className:"tite2",children:f.jsx(RY,{locationsCount:oe})}):null,f.jsx("div",{className:"borbor"}),n?f.jsx("div",{className:"tite3",children:f.jsx(NY,{CoursesCount:$})}):null]})]})};function DY(){const[t,e]=b.useState({}),[n,i]=b.useState({}),[r,s]=b.useState(),[o,a]=b.useState();return f.jsx("div",{className:"app-container",children:f.jsxs(sN,{children:[f.jsx($t,{path:"/",element:f.jsx(d4,{setSignedUpFor:s,setLoggedInFor:a})}),f.jsx($t,{path:"/home/*",element:f.jsx(c4,{setActualUser:e,actualUser:t,signedUpFor:r,loggedInFor:o})}),f.jsx($t,{path:"/profile",element:f.jsx(i4,{setActualUser:e,actualUser:t,signedUpFor:r})}),f.jsx($t,{path:"/progress/*",element:f.jsx(YF,{actualUser:t,setActualUser:e})}),f.jsx($t,{path:"/jobs-and-internships",element:f.jsx(ZF,{actualUser:t,setActualUser:e,signedUpFor:r,setDetails:i})}),f.jsx($t,{path:"/analytics/*",element:f.jsx(e4,{})}),f.jsx($t,{path:"/alumni-network/*",element:f.jsx(t4,{})}),f.jsx($t,{path:"/employer",element:f.jsx(f4,{actualUser:t})}),f.jsx($t,{path:"/employer/totality",element:f.jsx(p4,{setDetails:i})}),f.jsx($t,{path:"/details",element:f.jsx(g4,{details:n,actualUser:t})}),f.jsx($t,{path:"/student-progress",element:f.jsx(m4,{})}),f.jsx($t,{path:"/graph",element:f.jsx(OY,{})})]})})}rp.createRoot(document.getElementById("root")).render(f.jsx(xn.StrictMode,{children:f.jsx(hN,{children:f.jsx(DY,{})})}));
